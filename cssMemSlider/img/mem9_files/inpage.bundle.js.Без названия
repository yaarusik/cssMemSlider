!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(r,n,function(t){return e[t]}.bind(null,n));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=183)}([function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return o}));var n=i(50);const a={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,YANDEX_INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,YANDEX_VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,YANDEX_NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,VPAIDLoadingError:68,VPAIDPlayingError:67,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};class o extends n.a{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;var n,o,s;super(e,r({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")})),s=void 0,(o="id")in(n=this)?Object.defineProperty(n,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[o]=s,this.id=function(e){return a[e]||0}(this.code)}}},function(e,t,i){"use strict";function r(e){var t;return(void 0===t&&(t=window),void 0===Q&&(Q=t.JSON),Q).stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Object(G.a)(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(Object(w.a)(r))return Object(q.a)(r.name)?r.name:"[Function]";if(Object(Y.a)(r))return Object(K.c)(r);if(!Object(X.a)(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:r}),t.set(r,a),r}}())}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var o=i(27);var s=i(15),d=i(18),l=i(35),c=i(45),u=i(102);var h=i(33),p=i(0),A=i(28),m=i(12),v=i(64),f=i(8),g=i(112),b=i(50),y=i(150);const _=Object(y.a)(window);var O=i(81),E=i(107),S=i(74),T=i(43),w=i(10),P=i(70),C=i(135),I=i(49),N=i(47),D=i(41),R=i(136);const k=Object(R.a)(window),V=64;var j=i(46);Object(j.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var L=i(48),B=i(38),M=i(108),x=i(109),F=i(106),U=i(138),H=i(139),W=i(140),z=i(148),G=i(44),Y=i(72),X=i(2),q=i(17),K=i(90);let Q;var J=i(61),Z=i(149),$=i(63),ee=i(142),te=i(101);const ie=e=>{let{eventType:t,eventName:i,value:r,values:n}=e;const o={};return Object(N.a)(n,(e,r)=>{o[t+"_"+i+"_"+r]=e}),a({[t+"_"+i]:r},o)},re=a({},ee.a,{[U.a]:String(Z.a.serialize()),bannerTypeFromNanpu:z.a,bundleName:A.c,abFlags:L.a,iCookie:M.a,testIds:x.a,ecmaVer:"ES2017"});class ne{constructor(e){n(this,"rootFields",{}),n(this,"labels",{}),n(this,"params",void 0),n(this,"event",e=>{let{name:t,data:i,labels:r,probability:n,extraRootFields:a,queryParams:o}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:r,probability:n,extraRootFields:a,queryParams:o})}),n(this,"error",e=>{let{error:t,labels:i,probability:r,extraRootFields:n}=e;const a=new b.a(t);this.push({eventName:String(a.code),eventType:"fatal",data:a,additionalStatsLabels:i,probability:r,extraRootFields:n})}),n(this,"values",e=>{let{name:t,values:i,data:r,labels:n,probability:a,extraRootFields:o}=e;this.push({eventName:t,eventType:"values",data:r,additionalStatsLabels:n,probability:a,values:i,extraRootFields:o})}),n(this,"warning",e=>{let{name:t,message:i,probability:r,extraRootFields:n}=e;Object(J.a)(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:r,extraRootFields:n})}),n(this,"getParams",()=>{return function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(this.params,["onLogError"])}),n(this,"setRootFields",e=>{const t=Object(D.a)(e);Object(f.a)(t,e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i})}),n(this,"setLabels",e=>{const t=Object(D.a)(e);Object(f.a)(t,e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i})}),n(this,"errorToStats",(e,t,i)=>{const r=new b.a(e);this.push({eventName:String(r.code),eventType:"fatal",data:r,additionalStatsLabels:t,extraRootFields:i})});const{onLogError:t}=e;this.params=a({},e,{sid:e.sid||Object(T.a)(V),rnd:e.rnd,onLogError:t?e=>{try{t(e)}catch(e){Object(o.a)(e)}}:o.a})}push(e){let{eventName:t,eventType:i,data:n={},additionalStatsLabels:o,value:s=1,probability:l=1,values:c={},extraRootFields:u={},queryParams:h={}}=e;if(!Object(te.a)(l))return;const{service:p,version:A}=this.params,m={service:p,version:A,data:n,eventName:t,eventType:i,additionalStatsLabels:o,value:s,values:c};if(void 0!==ne.sendingEventName)throw new b.a({message:"RecursiveStatsRequests",details:{service:p,version:A,eventType:i,eventName:t,sendingEventName:ne.sendingEventName}});ne.sendingEventName=t;try{const e=Object(d.b)(ae,a({[p]:A,[i]:t},o,h)),n=this.createFullStatsObject(m,u);this.sendData(e,r(n))}catch(v){ne.sendingEventName=void 0,this.params.onLogError(new b.a(v,{details:{service:p,version:A,eventType:i,eventName:t}}))}ne.sendingEventName=void 0}sendData(e,t){(function(e,t){return!!k&&window.navigator.sendBeacon(e,t)})(e,t)||Object(C.a)({url:e,data:t,method:"POST"})}createFullStatsObject(e,t){const{service:i,version:r,eventName:n,eventType:o,data:s,additionalStatsLabels:d,value:l}=e,c=ie(e),u=a({},this.labels,d,{version:this.params.version}),h=Object(D.a)(c),p=Object(I.a)(h),A=Object(D.a)(u),m={service:i,tags:p,labels:Object(I.a)(A)},{location:f,referrer:b}=Object(E.a)(document),y=g.a?Object(H.a)(window):void 0;return a({},t,re,this.rootFields,m,{timestamp:Date.now(),eventType:o,eventName:n,data:s,sid:this.params.sid,version:r,location:Object(S.a)(window),topLocation:f,topAncestor:O.b,isTopAncestorUndetermined:!O.a||void 0,ancestorOrigins:_,documentIsVisible:Object($.a)(document),referrer:window.document.referrer,topReferrer:b,currentScriptSrc:F.a,secureIFrame:P.a,isVideoADB:Object(w.a)(v.a),value:l,rnd:this.params.rnd,topDocumentFocus:Object(W.a)(),pcodeActiveTestIds:B.a.getActiveTestIds(),deviceOrientation:y})}}n(ne,"sendingEventName",void 0),i.d(t,"a",(function(){return ae})),i.d(t,"b",(function(){return oe})),i.d(t,"c",(function(){return se}));const ae="https://jstracer.yandex.ru/jstracer",oe=Object(d.e)(ae).hostname,se=new ne({service:"AdSDKJS",version:String(h.a),sid:c.a,rnd:u.a,onLogError:Object(m.a)(e=>{Object(o.a)(e),se.error({error:new p.a(e,{code:"STATS_LOG_ERROR",details:void 0})})})});void 0===l.a.flags.VAS_STABLE_VERSION&&se.error({error:new p.a({code:"NO_VAS_STABLE_VERSION_IN_AB_FLAGS",details:{WEBPACK_BUNDLE_NAME:A.c}})}),s.a.addErrorHandler(e=>{se.error({error:new p.a(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})})},function(e,t,i){"use strict";function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){var t;const i=(n.a||window).console;if(!o.a||void 0===i)return;const r="AdSDKJS["+s.c+"]:";null===(t=i.log)||void 0===t||t.call(i,r,e)}var n=i(26),a=i(105);Object(a.a)(window);i(106);var o=i(103),s=(i(161),i(28)),d=i(46);Object(d.a)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){return Math.random()<d}i.d(t,"b",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return u})),i.d(t,"d",(function(){return h}));var n=i(101),a=i(35),o=i(103);const s=1,d=.001,l=o.a||a.a.isInternalNetwork||!1,c=l?s:.05,u=l?s:d,h=Object(n.a)(c)},function(e,t,i){"use strict";function r(e){return Object(n.a)(e)&&e.length>0}i.d(t,"a",(function(){return r}));var n=i(17)},function(e,t,i){"use strict";function r(){}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t.call(i,e[n],n,e);return r}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(13),n=i(126);class a extends r.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(i=>{e(i)&&Object(n.a)(t,i)})}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,e=>{i(),Object(n.a)(t,e)});return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t,i){"use strict";function r(e){return"function"===typeof e||"Function"===Object(n.a)(e)}i.d(t,"a",(function(){return r}));var n=i(57)},function(e,t,i){"use strict";function r(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)Object(n.a)(e,i)&&t.push(i);return t}}i.d(t,"a",(function(){return r}));var n=i(73)},function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){e.forEach(e=>{Object(n.a)(e,t)})}var n=i(126);i.d(t,"a",(function(){return a}));class a{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],r(this.on,e),r(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,i){"use strict";function r(e){let{element:t,eventName:i,listener:r,options:l,ignoreBubbling:c=!1}=e;const u=c?function(e){e.target===t&&r.call(this,e)}:r,h=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(l),p=a.a?h:h.capture,A=h.once&&!a.b?function(e){m(),u.call(this,e)}:u,m=()=>{Object(n.b)(t,i,A,p)};try{Object(n.a)(t,i,A,p)}catch(v){const e=Object(s.a)(v)?v:new o.a({code:"ADD_EVENT_LISTENER_FUNCTION_CALL_ERROR",details:{error:v}});throw d.c.error({error:e}),e}return m}i.d(t,"a",(function(){return r}));var n=i(80),a=i(117),o=i(0),s=i(52),d=i(1)},function(e,t,i){"use strict";i(50);var r=i(104);const n=function(e,t){void 0===e&&(e=document);const i=e.currentScript;if(i)return i;{const i=e.getElementsByTagName("script"),r=[];for(let e=0;e<i.length;e++)r.push(i[e]);if("function"===typeof t){const e=r.filter(t);return e[e.length-1]}return r[r.length-1]}}();n&&n.src;i(43);var a=i(36),o=i(46);Object(o.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return s}));class s{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){s.errorHandlers.push(e)}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[n]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=n;try{Object(r.a)(this.destroyHandlers,...t)}catch(a){Object(r.a)(s.errorHandlers,a)}this.destroyHandlers.length=0}}getIsDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=a.a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];i.apply(t,r)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}s.errorHandlers=[]},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{const r=[];for(let n=0;n<e.length;n++){const a=e[n];t.call(i,a,n,e)&&r.push(a)}return r}},function(e,t,i){"use strict";function r(e){return"string"===typeof e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e){A.a.href=e;let t=A.a.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(A.a.search||"")+(A.a.hash||""),a=e.lastIndexOf(i),o=-1===a?e:e.slice(0,a);if(m.test(e)){const t=n(e.replace(m,"https:"));return A.a.href=e,r({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:A.a.href})}const s=A.a.protocol&&/^[a-z\-]+:/i.test(A.a.protocol)?A.a.protocol:"";return{originalPath:o,href:A.a.href,protocol:s,host:A.a.host,hostname:A.a.hostname,port:A.a.port,pathname:t,search:A.a.search,hash:A.a.hash}}function a(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function o(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");let n,a;if(-1===e?(n=v(i[r]),a=""):(n=v(i[r].slice(0,e)),a=i[r].slice(e+1)),n){const e=Boolean(/(\[\])$/.exec(n));n=n.replace(/\[\]$/,""),e?void 0===t[n]?t[n]=[v(a)]:t[n]=[].concat(t[n],v(a)):t[n]=v(a)}}return t}function s(e){return o(n(e).search)}function d(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Object(u.a)(r)?t.push(f(i,r)):void 0!==r&&t.push(i+"="+encodeURIComponent(r))}return"?"+t.join("&")}function l(e,t,i){if(void 0===i)return e;const s=n(e),l=o(s.search);return l[t]=i,a(r({},s,{search:d(l)}))}function c(e,t,i){let{override:s=!0,saveOriginalPath:l=!1}=void 0===i?{}:i;const c=n(e),u=o(c.search);return Object(p.a)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)}),a(r({},c,{search:d(u)}),l)}i.d(t,"e",(function(){return n})),i.d(t,"f",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var u=i(34),h=i(132),p=i(47),A=i(42);Object(h.a)(e=>{return r({},n(e))});const m=/^(android-app:|chrome-extension:)/,v=e=>{try{return decodeURIComponent(e)}catch(t){return e}},f=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},function(e,t,i){"use strict";function r(e,t){var i,r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"===typeof btoa){var a=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(o).concat([a]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=r(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];null!=a&&(r[a]=!0)}for(n=0;n<e.length;n++){var o=e[n];null!=o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return o}));const r=["a","n.ya","nd","ex.ru"].join(""),n=["y","a","nde","x.ru"].join(""),a=["ya","sta","tic.net"].join(""),o=[n,r,a]},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,"",""]),t.locals={AD_FONT:'YS Text, -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'}},function(e,t,i){"use strict";function r(e,t){return-1!==Object(n.a)(e,t)}i.d(t,"a",(function(){return r}));var n=i(137)},function(e,t,i){"use strict";function r(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"g",(function(){return o})),i.d(t,"k",(function(){return s})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return l})),i.d(t,"i",(function(){return c})),i.d(t,"j",(function(){return u})),i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return p})),i.d(t,"h",(function(){return A})),i.d(t,"e",(function(){return m})),i.d(t,"f",(function(){return v}));var r=i(62),n=i(89);const a=r.a?Object(n.b)(r.a):void 0;r.a&&Object(n.a)(r.a);const o=null===a||void 0===a?void 0:a.SID,s=null===a||void 0===a?void 0:a.VSID,d=null===a||void 0===a?void 0:a.ICOOKIE,l=null===a||void 0===a?void 0:a.LOADER_LOADED_FROM_AN_YANDEX_RU,c=null===a||void 0===a?void 0:a.TEST_IDS,u=null===a||void 0===a?void 0:a.VAS_UAAS_CONFIG,h=null===a||void 0===a?void 0:a.AB_FLAGS,p=null===a||void 0===a?void 0:a.AB_FLAGS_STORE,A=null===a||void 0===a?void 0:a.AdditionalStatsRootFields,m=null===a||void 0===a?void 0:a.VAS_USER_SESSION_RANDOM,v=null===a||void 0===a?void 0:a.RUM_WRAPPER},function(e,t,i){"use strict";function r(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(79);const{length:n}=r.a,a=n>0?r.a[n-1].ownerDocument.defaultView:window},function(e,t,i){"use strict";function r(e){setTimeout(()=>{throw e},0)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));const r="",n="InPage",a=1634315985106},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=e=>{let t=0;return{promise:new Promise(i=>{t=window.setTimeout(i,e)}),clear(){clearTimeout(t)},timeoutId:t}}},function(e,t,i){"use strict";function r(e,t){const i={UrlParams:()=>m[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const n of Object(o.a)(e)){var i,r;const e=null===(i=n.Ya)||void 0===i?void 0:null===(r=i.hardcodedParams)||void 0===r?void 0:r[t];if(e)return String(e)}}};for(const[r,n]of Object(d.a)(i)){const e=Object(p.a)(n);if(Object(l.a)(e))return Object(A.a)("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+r+"]"),e}}function n(e,t,i){const n=r(e,t);return n?Number(n):function(e){const t=100*Object(u.a)();let i=0;for(let r=0;r<e.length;r++)if(t<(i+=e[r].percent))return e[r].id;return e[0].id}(i)}var a=i(68),o=i(87),s=i(131),d=i(41),l=i(5),c=i(18),u=i(60),h=i(69),p=i(32),A=i(61);i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));const m={},v=Object(s.a)(document);for(const{location:f}of v){const e=Object(c.c)(f);Object(a.a)(e,(e,t)=>{0===h.b[t]&&(m[t]=e)})}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(87),n=i(10),a=i(75),o=i(125);const s=function(e){if(void 0===e&&(e=window),o.a)return o.a;const t=Object(r.a)(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=Object(a.a)(e,"ya.videoAd.encodeUrl");if(Object(n.a)(i))return i}}},function(e,t,i){"use strict";function r(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";let r;i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));try{r={build:438360,code:[{id:438360,percent:100}]}}catch(a){r={}}const n=r.build},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(57),n=i(92);const a=Object(n.a)(Array,"isArray"),o=Boolean(a)?e=>a.call(Array,e):e=>"Array"===Object(r.a)(e)},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var n=i(12),a=(i(173),i(8)),o=i(34),s=i(72),d=i(11),l=i(2),c=i(17),u=i(116);const h=(e,t)=>{if(!Object(l.a)(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!Object(c.a)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0===e.length)throw new Error("testIdsString string is empty");for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[r,,n]=i;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===n.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}(t.testIds),!("flags"in t)||!Object(l.a)(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},p=e=>{const t=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["expFlags"]),i={},n={};return Object(a.a)(e.expFlags,e=>{Object(a.a)(e,e=>{let{CONTEXT:{FLAGS:t},TESTID:r}=e;Object(l.a)(t)&&Object(a.a)(Object(d.a)(t),e=>{var a;const o=t[e];i[e]=o,n[e]=null!==(a=n[e])&&void 0!==a?a:[],n[e].push({value:o,testId:r[0]})})})}),r({flags:i,flagsMap:n},t)},A={testIds:"",flags:{}};const m=Object(n.a)(()=>{try{return null!==u.a&&void 0!==u.a?u.a:__UAAS_CFG__}catch(e){return e}}),v=e=>{if(Object(s.a)(e))return{error:e,config:A};try{const t=Object(l.a)(e)?e:JSON.parse(""+(e||"")),i=(e=>!!Object(l.a)(e)&&!!("expFlags"in e&&Object(o.a)(e.expFlags)))(t)?p(t):t;if(!h(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:A}}},f=Object(n.a)(()=>v(m()));var g=i(24);i.d(t,"a",(function(){return _})),i.d(t,"b",(function(){return O}));let b,y=g.j||A;try{const e=f();if(e.error)throw e.error;y=e.config}catch(E){b=E}const _=y,O=b},function(e,t,i){"use strict";function r(){}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".I9o4cQMO6Q{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:opacity .1s ease-in,height .1s ease-in;pointer-events:none;will-change:opacity,height}.I9o4cQMO6Q:not(.vl5yj){visibility:hidden}.vl5yj{opacity:1;pointer-events:auto}.I9o4cQMO6Q:not(.xk9Z6i){top:36px;right:4px;width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.xk9Z6i{top:0;right:0;bottom:0;left:0}.w4rO5F{box-sizing:border-box;padding:8px}.xk9Z6i .w4rO5F{height:100%;overflow:auto}.KeGcv8MRj{display:flex;align-items:center;height:36px}.AW0{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+i(21).locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:8px;outline:none;resize:none;pointer-events:auto}.AW0:focus{border-color:#498bff}.zd68XRLukM{margin-top:8px;background-color:#498bff;border-radius:8px}.zd68XRLukM:hover{background-color:#2e71e5}.JJ1{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.kcQF49i5tB{padding:8px;color:#3a3d40}.JJ1,.Qj6QX9lLi7,.kcQF49i5tB{font-size:15px}.Qj6QX9lLi7{color:#a3acbf;line-height:16px;word-break:break-word}.FzoJc .Qj6QX9lLi7,.tIsC .Qj6QX9lLi7{padding:10px 8px}.b7QJ5ZIja .Qj6QX9lLi7{margin-right:15px;margin-left:10px}.Qj6QX9lLi7,.kcQF49i5tB{font-weight:600;font-family:"+i(21).locals.AD_FONT+";line-height:16px}.HXkoOl{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:background-color .1s ease-in;pointer-events:auto}.HXkoOl:hover{background-color:#f4f8ff}.bBqOfzfz{display:flex;flex-direction:column}.KMjzdmBsP{max-height:70px;margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+i(21).locals.AD_FONT+";line-height:14px;white-space:pre-line}.xk9Z6i .KMjzdmBsP{margin-right:18px}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,AbuseDisplay:"I9o4cQMO6Q",AbuseDisplay_visible:"vl5yj",AbuseDisplay_fullSize:"xk9Z6i",AbuseDisplay__content:"w4rO5F",AbuseDisplay__customReasonDisplayHeader:"KeGcv8MRj",AbuseDisplay__customReasonDisplayTextarea:"AW0",AbuseDisplay__customReasonDisplayButton:"zd68XRLukM",AbuseDisplay__customReasonDisplayButtonContent:"JJ1",AbuseDisplay__text:"kcQF49i5tB",AbuseDisplay__hint:"Qj6QX9lLi7",AbuseDisplay__complaintDisplay:"FzoJc",AbuseDisplay__hideDisplay:"tIsC",AbuseDisplay__customReasonDisplay:"b7QJ5ZIja",AbuseDisplay__arrowLeftIcon:"HXkoOl",AbuseDisplay__messageBox:"bBqOfzfz",AbuseDisplay__legal:"KMjzdmBsP"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(77),n=i(24);const a=null!==n.b&&void 0!==n.b?n.b:r.a},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e,t,i){let r=0;for(arguments.length<3&&(r=1,i=e[0]);r<e.length;r++)i=t(i,e[r],r,e);return i}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,"",""]),t.locals={NORMAL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",NORMAL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"}},function(e,t,i){"use strict";function r(e){return"function"===typeof Object.entries?Object.entries(e):Object(n.a)(e).map(t=>[t,e[t]])}i.d(t,"a",(function(){return r}));var n=i(11)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=document.createElement("a")},function(e,t,i){"use strict";function r(e){let t="";for(let i=0;i<e;i++)t+=(16*Object(n.a)()|0).toString(16);return t}i.d(t,"a",(function(){return r}));var n=i(60)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(23);const n=[].find,a=Object(r.a)(n)?(e,t)=>n.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(43),n=i(3),a=i(24);const o=a.g||Object(r.a)(64);Object(n.a)((a.g?"Use existing SID":"Generate new SID")+" ["+o+"]")},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var n=i(129),a=i(36);const o=a.a,s=a.a;i.d(t,"a",(function(){return d}));const d=e=>{let{win:t,propertyName:i}=e;return{call:e=>Object(n.a)(r({win:t,propertyName:i},e)),subscribe:e=>s(r({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise(e=>{s({callback:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e(i)},propertyName:t,win:i})})})(r({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:r}=e;return new Promise(e=>{s({propertyName:t,win:i,callback:function(){r(...arguments)&&e()}})})})(r({win:t,propertyName:i},e)),clear:e=>o(r({win:t,propertyName:i},e))}}},function(e,t,i){"use strict";function r(e,t,i){for(const r in e)Object(n.a)(e,r)&&t.call(i,e[r],r,e)}i.d(t,"a",(function(){return r}));var n=i(73)},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return v}));var n=i(39),a=i(26),o=(i(2),i(17)),s=i(18),d=i(35),l=i(24),c=i(30);const u=d.a.flags;const h=Object(s.d)(location.search).adsdkabflags,p=Object(c.b)(a.a,"adsdkabflags"),A=null!==h&&void 0!==h?h:p,m=Object(o.a)(A)?Object(n.a)(A.split(","),(e,t)=>{const[i,n]=t.split("=");return r({},e,{[i]:n})},{}):{},v=r({},{},u,l.a,m)},function(e,t,i){"use strict";function r(e){const t={};return e.forEach(e=>{let[i,r]=e;t[i]=r}),t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){return void 0===e&&(e=window),void 0===u&&(u=function(e){void 0===e&&(e=window);return e.JSON&&Object(c.a)(e.JSON.stringify)&&Object(c.a)(e.JSON.parse)}(e)?e.JSON:{stringify:p("stringify"),parse:p("parse")}),u}function n(e){return r().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Object(o.a)(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(Object(s.a)(r))return Object(m.a)(r.name)?r.name:"[Function]";if(!Object(A.a)(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:r}),t.set(r,a),r}}())}var a=i(16),o=i(44),s=i(10),d=i(134),l=i(25),c=i(23);let u;const h=function(e){void 0===e&&(e=document.body);const t=function(e){const t=Object(d.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>(function(e){e.src="",Object(l.a)(e)})(t)}},p=e=>t=>{const{JSON:i,clean:r}=h();try{return i[e](t)}finally{r()}};var A=i(2),m=i(17);const v={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0};i.d(t,"a",(function(){return g}));const f=i(175);class g extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||v.message)};super(),f(this,g.prototype),this.message=t.message||i.message||v.message,this.code=t.code||i.code||i.id||v.code,this.isFatal=Boolean(function(e){const[t]=Object(a.a)(e,e=>void 0!==e);return t}([t.isFatal,i.isFatal,v.isFatal])),this.details=t.details||i.details||v.details;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:n,columnNumber:a,lineNumber:o}=e;return(t||n||"?")+":"+(i||o||"?")+":"+(r||a||"?")}(i);let o=r===v.stack?this.stack:r;if(o&&o!==v.stack)this.stack=o;else if(!this.stack)try{throw new Error(this.message)}catch(s){this.stack=o=s.stack||v.stack}this.toString=()=>n(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:o})}}},function(e,t,i){"use strict";var r=i(11),n=i(2),a=i(5),o=i(32);i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));const{rootFields:s,extractionError:d}=(e=>{let t,i;return{rootFields:t=Object(o.a)(()=>(e=>{var t,i;const o=null===e||void 0===e?void 0:null===(t=e.ya)||void 0===t?void 0:null===(i=t.videoAd)||void 0===i?void 0:i.statsRootParams;if(Object(n.a)(o)){const e={},{vsid:t,contentPlayerVersion:i,pcodeVersion:n,widgetVersion:s}=o;if(Object(a.a)(t)&&(e.vsid=t),Object(a.a)(i)&&(e.contentPlayerVersion=i),Object(a.a)(n)&&(e.pcodeVersion=n),Object(a.a)(s)&&(e.widgetVersion=s),Object(r.a)(e).length>0)return e}})(e),e=>{i=e})||void 0,extractionError:i}})(window),l=s,c=d},function(e,t,i){"use strict";function r(e){return Object(n.a)(e)&&Boolean(e.code)}i.d(t,"a",(function(){return r}));var n=i(90)},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".YFX0U{border-radius:16px;cursor:pointer;transition:background-color .1s ease-in;will-change:background-color}.YFX0U:not(.rIWl),.rIWl{background-color:rgba(35,37,38,.1)}.YFX0U:not(.rIWl):hover,.rIWl:hover{background-color:rgba(35,37,38,.4)}.r4w{transform:translate(12px,12px);will-change:transform}.sbKnE9R{transform:rotate(45deg);opacity:0}.JrA,.sbKnE9R{transition:transform .1s ease-in,opacity .1s ease-in;will-change:transform,opacity}.rIWl .JrA{opacity:0}.rIWl .sbKnE9R{opacity:1}.rIWl .lgy{transform:translateY(6px)}.rIWl .gIXIAzMJ{transform:translateY(-6px)}.rIWl .V3mqqeud{transform:rotate(0deg)}.rIWl .sSk1In{transform:rotate(90deg)}",""]),t.locals={AbuseAnimationIcon:"YFX0U",AbuseAnimationIcon_cross:"rIWl",AbuseAnimationIcon__lines:"r4w",AbuseAnimationIcon__line:"sbKnE9R",AbuseAnimationIcon__dot:"JrA",AbuseAnimationIcon__dot_top:"lgy",AbuseAnimationIcon__dot_bottom:"gIXIAzMJ",AbuseAnimationIcon__line_left:"V3mqqeud",AbuseAnimationIcon__line_right:"sSk1In"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(40),""),t.push([e.i,".Jp6,.bmN,.Vjga{}.Xm20Ua{visibility:hidden}.g8ZwS6Y,.anlkj{display:flex;align-items:center;justify-content:center}.anlkj{width:"+i(40).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(40).locals.NORMAL_BUTTON_HEIGHT+"}.Pk3Ir{width:"+i(40).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(40).locals.MIDDLE_BUTTON_HEIGHT+"}.VMZ{width:29px;height:24px}.qzyt8{position:relative;bottom:1px;margin-right:"+i(40).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN+"}.IPSsW3pY{white-space:nowrap;transform-origin:left center}.Kvsys3UE{margin-right:"+i(40).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(40).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(40).locals.MIDDLE_BUTTON_HEIGHT,NORMAL_BUTTON_LEFT_RIGHT_MARGIN:""+i(40).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+i(40).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,MuteButton:"Jp6",UnmuteButton:"bmN",VolumeButton:"Vjga",MuteButton__hidden:"Xm20Ua",VolumeButton__content:"g8ZwS6Y",VolumeButton__iconContainer:"anlkj",VolumeButton__iconContainer_middle:"Pk3Ir",VolumeButton__icon:"VMZ",UnmuteButton__text:"qzyt8",UnmuteButton__text_animation:"IPSsW3pY",UnmuteButton__text_middle:"Kvsys3UE"}},function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t,i){var r,n,a,o,s,d,l;const c=null===(r=i.ya)||void 0===r?void 0:null===(n=r.videoAd)||void 0===n?void 0:null===(a=n.loadedModules)||void 0===a?void 0:a[e];return c||(void 0!==t?null===(o=i.ya)||void 0===o?void 0:null===(s=o.videoAd)||void 0===s?void 0:null===(d=s.modules)||void 0===d?void 0:null===(l=d[t])||void 0===l?void 0:l[e]:void 0)}function n(e){let{moduleName:t,version:i=s.a,onSuccess:n,onError:v,win:f,timeout:g}=e,y="loading";const O=Date.now(),E=Object(A.a)(Object(m.a)(e=>{y="success";const r=Date.now()-O;u.c.values({name:"ModuleLoaded",labels:{bundleName:t},data:{loaderVersion:d.a,bundleVersion:i},values:{timeSpent:r}}),n(e)},"LOAD_MODULE_CALLBACK_ERROR")),S=Object(A.a)(Object(m.a)(e=>{y="error",u.c.error({error:e}),v(e)},"LOAD_MODULE_CALLBACK_ERROR")),T=r(t,i,f);if(T)return E(T),p.a;const P=w({version:i,bundleName:t,win:f,ecmaVersion:b}),{promise:C,teardown:I}=N({src:P,win:f}),{promise:D,clear:R}=Object(a.a)(g),k=Object(h.a)({element:f,eventName:"unload",listener:()=>{S(new l.a({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:i,timeout:g}}))}}),V=()=>{k(),R()};return D.then(()=>{S(new l.a({code:"LOAD_MODULE_TIMEOUT",details:{moduleName:t,version:i,timeout:g}}))}),C.then(()=>{V();const e=r(t,i,f),n=_(t);e?(c.a&&o.a.logTimingAndLoadRum(n,P),E(e)):S(new l.a({code:"CANNOT_INIT_MODULE",details:{moduleName:t,version:i}}))}).catch(e=>{V(),S(new l.a(e,{code:"CANNOT_LOAD_MODULE",details:{moduleName:t,version:i}}))}),()=>{V(),I(),"loading"===y&&u.c.event({name:"LoadModuleTeardownCalled",data:void 0})}}var a=i(29),o=i(111),s=i(110),d=i(33),l=i(0),c=i(144),u=i(1),h=i(14),p=i(6),A=i(12),m=i(121),v=i(136);const f=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Object(v.a)(e))(window);var g=i(122);const b=(()=>"ES2017"===g.a?"ES2017":"ES5"===g.a?"ES5":f?"ES2017":"ES5")();var y=i(145);const _=e=>y.b[e]+".bundle.js";var O=i(31),E=i(10),S=i(146),T=i(113);const w=e=>{let{bundleName:t,win:i,ecmaVersion:r,version:n}=e;const a=S.a[r],o=Object(O.a)(i),s=_(t),d=""+Object(T.a)(n)+a+"/"+s;return Object(E.a)(o)?o(d):d};var P=i(114),C=i(123);const I=e=>{var t;(e=>{e.crossOrigin="anonymous"})(e),null===(t=C.a.onBeforeLoad)||void 0===t||t.call(C.a,e)},N=e=>{let{src:t,win:i}=e;return Object(P.a)({src:t,onBeforeLoad:I,win:i})};i.d(t,"a",(function(){return D})),i.d(t,"b",(function(){return n}));const D=3e4},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const r={}.toString,n=/\[object (\w+)\]/,a=e=>{const t=r.call(e);if(!t)return null;const i=t.match(n);if(!i)return null;const a=i[1];return a||null}},function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(23);const n=!Object(r.a)(Math.random)||Math.random()===Math.random();var a=i(120),o=i(10);const s="undefined"===typeof window?void 0:window.performance,d=s&&Object(o.a)(s.now),l=s&&s.timing&&s.timing.navigationStart?s.timing.navigationStart:Object(a.a)();let c=0;const u=d?()=>s.now():()=>(()=>{const e=Object(a.a)()-l;return c=Math.max(e,c)})(),h=2147483647,p=16807;let A=Date.now()*u()%h;const m=h-1;i.d(t,"a",(function(){return v}));const v=n?function(){return((A=A*p%h)-1)/m}:function(){return Math.random()}},function(e,t,i){"use strict";function r(e){Object(a.a)(console)&&Object(n.a)(console.warn)&&console.warn(e)}i.d(t,"a",(function(){return r}));var n=i(10),a=i(2)},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(44),n=i(59),a=i(89);let o=document.currentScript;if(!o){const e=Object(n.a)(document.getElementsByTagName("script"));(o=Object(r.a)(e,a.c))||(o=e[e.length-1])}const s=o},function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=!0);const i=Object(n.a)(e);return i?!e[i]:t}i.d(t,"a",(function(){return r}));var n=i(141)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(31);const n=Object(r.a)(window)},function(e,t,i){"use strict";function r(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:r}=t;return i||r||0}(e)>0&&!d(e)}function n(e,t){if(!Object(c.a)(e.matchMedia))return!1;const i=e.matchMedia(t);return Object(u.a)(i)&&Boolean(i.matches)}function a(e){return void 0===e&&(e=window),r(e)||function(e){return n(e,p)}(e)||function(e){return n(e,A)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||Object(o.a)(e)}var o=i(130),s=i(71);const d=function(e){return void 0===e&&(e=window),Object(s.a)(e)>11};var l=i(7),c=i(10),u=i(2),h=i(88);const p=Object(l.a)(h.a,e=>"("+e+"any-pointer:coarse)").join(","),A=Object(l.a)(h.a,e=>"("+e+"touch-enabled)").join(",");var m=i(115),v=i(58);const f=function(e){void 0===e&&(e=window);const t=Object(v.a)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]};i.d(t,"a",(function(){return g}));const g=(void 0===b&&(b=window),f(b)||Object(m.a)(b)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&a(e)}(b));var b},function(e,t,i){"use strict";function r(e){const{src:t,win:i,onBeforeLoad:r=s.a}=e,d=new n.a({});let l=s.a;return{promise:new Promise((e,s)=>{const c=i.document.createElement("script");let u=!1;l=()=>{u=!0,Object(a.a)(c)};c.type="text/javascript",c.async=!0,c.onload=()=>{u||e()},c.onerror=e=>{u||(s(new n.a(d,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),l())},c.src=t,c.charset=o,r(c),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(c)}),teardown:l}}var n=i(50),a=i(25);const o="utf-8";var s=i(6);i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,"",""]),t.locals={AD_FONT_WEIGHT:"500"}},function(e,t,i){"use strict";var r=i(47);i.d(t,"a",(function(){return r.a}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));var r=i(11);const n="aim-banner-id",a={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkthemeemptyactionbutton:0,adsdkabflags:0,adsdkuaas:0,[n]:0};Object(r.a)(a)},function(e,t,i){"use strict";var r=i(7),n=i(79);i.d(t,"a",(function(){return a}));const a=function(){const e=Object(r.a)(n.a,e=>e.ownerDocument),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const r=i(174),n=function(e){void 0===e&&(e=window);const t=r(e);return"boolean"===typeof t?-1:t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(57);const n=e=>e instanceof Error||"Error"===Object(r.a)(e)},function(e,t,i){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(2);const n=(e,t)=>{for(const i of t.split(".")){if(!Object(r.a)(e)){e=void 0;break}e=e[i]}return e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=["aw","ap","s-a","d-sd","k-j","s"].join("")},function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(26);var n=i(35),a=i(48),o=i(44),s=i(8),d=i(22);i.d(t,"a",(function(){return l}));const l=new class{constructor(e,t){r(this,"vasUaasConfig",void 0),r(this,"abFlags",void 0),r(this,"initialAbFlags",void 0),r(this,"activeTestIds",[]),r(this,"getFlagValueAndActivateTestId",e=>{const t=this.abFlags[e],i=this.vasUaasConfig.flagsMap,r=this.vasUaasConfig.testIds;return r&&i&&i[e]&&Object(s.a)(i[e],e=>{let{value:i,testId:n}=e;if(i===t){const e=Object(o.a)(r.split(";"),e=>0===e.indexOf(n));e&&!Object(d.a)(this.activeTestIds,e)&&this.activeTestIds.push(e)}}),t}),r(this,"getActiveTestIds",()=>this.activeTestIds),r(this,"__setAbFlags",e=>{this.abFlags=e}),r(this,"__restoreAbFlags",()=>{this.abFlags=this.initialAbFlags}),this.vasUaasConfig=e,this.abFlags=t,this.initialAbFlags=t}}(n.a,a.a);l.getFlagValueAndActivateTestId("ADSDKVER")},function(e,t,i){"use strict";var r=i(48),n=i(142),a=i(38),o=i(108),s=i(18),d=i(143),l=i(106),c=i(20),u=i(24),h=i(35);const p=l.a?Object(s.e)(l.a).hostname:void 0,{src_domain:A}=h.a,m=p===c.a,v=d.a&&("an"===A||m)||u.d;var f=i(109),g=i(111),b=i(45),y=i(102),_=i(151);i.d(t,"a",(function(){return O}));const O={SID:b.a,VSID:_.a,VAS_USER_SESSION_RANDOM:y.a,AB_FLAGS:r.a,AB_FLAGS_STORE:a.a,ICOOKIE:o.a,TEST_IDS:f.a,VAS_UAAS_CONFIG:h.a,AdditionalStatsRootFields:n.a,RUM_WRAPPER:g.a,LOADER_LOADED_FROM_AN_YANDEX_RU:v}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(100);const n=Object(r.a)(document.documentElement)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));var r=i(92);let n=function(e,t,i){e.attachEvent("on"+t,i)},a=function(e,t,i){e.detachEvent("on"+t,i)};Object(r.a)(document,"addEventListener")&&Object(r.a)(document,"removeEventListener")&&(n=function(e,t,i,n){const a=e&&Object(r.a)(e,"addEventListener");a&&a.call(e,t,i,n)},a=function(e,t,i,n){const a=e&&Object(r.a)(e,"removeEventListener");a&&a.call(e,t,i,n)})},function(e,t,i){"use strict";var r=i(26),n=i(105),a=i(107),o=i(70),s=i(18),d=i(150);i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return h}));const{topAncestor:l,isTrusted:c}=function(e){void 0===e&&(e=window);const t=Object(d.a)(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:l}=Object(a.a)(e.document),c=o.a?l:i,u=!o.a||Object(n.a)(r.a).length<2,{protocol:h,hostname:p,host:A,port:m}=Object(s.e)(c);return{topAncestor:Object(s.f)({protocol:h,hostname:p,host:A,port:m,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:u}}(),u=l,h=c},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".Ewi6UdECjb{position:relative}.nMcWuhsx{cursor:pointer}.Onj8OtO{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.Hu4FhFN2f{position:absolute;top:0;left:0}.T1nMf2bKD{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+i(21).locals.AD_FONT+"}.i2CGPZsHM{position:absolute;bottom:0;width:100%;height:2px}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,PackshotScreen:"Ewi6UdECjb",PackshotScreen_clickable:"nMcWuhsx",PackshotScreen__buttonWrapper:"Onj8OtO",PackshotScreen__packshotOverlayWrapper:"Hu4FhFN2f",PackshotScreen__textBlock:"T1nMf2bKD",PackshotScreen__timelineBarWrapper:"i2CGPZsHM"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".hJ6PY{font-family:"+i(21).locals.AD_FONT+"}.pBU{position:relative;min-width:42px;height:100%}.pmYoPD{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;overflow:hidden;background-color:rgba(38,38,38,.65);border-radius:4px;cursor:pointer;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:auto}.lBO5{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.Qgh{display:flex;flex-wrap:nowrap;align-items:center;margin-left:40px;overflow:hidden}.vQBW47hI3M{margin-left:10px}.lBO5 img{border-radius:2px}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,YoutubeLikeActionButton:"hJ6PY",YoutubeLikeActionButton__content:"pBU",YoutubeLikeActionButton__mask:"pmYoPD",YoutubeLikeActionButton__favicon:"lBO5",YoutubeLikeActionButton__wrapper:"Qgh",YoutubeLikeActionButton__wrapper_wide:"vQBW47hI3M"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".nhDclMhnYK{position:static;margin-left:auto}.ZXQEGepML{position:relative;margin-left:4px}.dER55ohZmK{position:relative;bottom:1px;display:flex;align-items:center;margin-left:8px}.EttRX{position:relative;justify-content:center;width:35px;text-align:center}.E6Ww{display:flex}.E6Ww>span:first-child{width:16px;text-align:right}.zsWg5cBr{position:relative;top:0;width:19px;height:13px}",""]),t.locals={SkipButtonWithText:"nhDclMhnYK",SkipButtonWithText__text:"ZXQEGepML",SkipButtonWithText__content:"dER55ohZmK",SkipButtonWithText__timeToSkipString:"EttRX",SkipButtonWithText__digitsContainer:"E6Ww",SkipButtonWithText__icon:"zsWg5cBr"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".bGO63JWppJ{position:absolute;bottom:60px;left:0;display:flex;flex-direction:row;box-sizing:border-box;width:100%}.R4YxifQ .bGO63JWppJ{top:50%;bottom:auto;transform:translateY(-50%)}.KAXr4l91Kl .bGO63JWppJ{top:50%;bottom:auto;flex-direction:row-reverse;transform:translateY(-50%)}.eTig .bGO63JWppJ{flex-direction:row-reverse}.hfR066u7{position:relative;display:flex;flex:1 1;align-items:center;padding:0 5%}.GHN684edBQ{position:relative;flex:0 0 auto;padding:0 .5em;pointer-events:auto}.GRj4GBF{position:absolute;top:50%;left:50%;z-index:0;overflow:hidden;transform:translateY(-50%) translateX(-50%)}",""]),t.locals={OldActionButton__body:"bGO63JWppJ",OldActionButton__bannerPosition_right_center:"R4YxifQ",OldActionButton__bannerPosition_left_center:"KAXr4l91Kl",OldActionButton__bannerPosition_left_bottom:"eTig",OldActionButton__context:"hfR066u7",OldActionButton__buttonContainer:"GHN684edBQ",OldActionButton__wrapper:"GRj4GBF"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".LVksOW{display:flex}.MUYOTVwXo,.qkENowFw{flex:1;align-items:center}.EoCX9a4lrN,.xCdelT{align-items:flex-end}.EoCX9a4lrN,.MUYOTVwXo{flex-direction:row-reverse}.OWz{flex-direction:column;align-items:flex-start}",""]),t.locals={CallToActionControls:"LVksOW",CallToActionControls__leftCenter:"MUYOTVwXo",CallToActionControls__rightCenter:"qkENowFw",CallToActionControls__leftBottom:"EoCX9a4lrN",CallToActionControls__rightBottom:"xCdelT",CallToActionControls__small:"OWz"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(74);const n=e=>{const t=[];for(;e;)try{if(Object(r.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(i){break}return t}},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));const r=["","webkit","moz","o","ms"],n=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return s}));var r=i(2);const n=e=>Object(r.a)(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),a=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t},o=e=>e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__,s=e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s}));var r=i(2),n=i(17);const a=e=>!!Object(r.a)(e)&&(!!Object(n.a)(e.name)&&!!Object(n.a)(e.message)),o=e=>({name:e.name,message:e.message,stack:e.stack}),s=e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t}},function(e,t,i){"use strict";function r(e,t,i){void 0===i&&(i=" ");const r=t-e.length;if(r>0){let t=i;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){let i=e[t];if(!Object(n.a)(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(r){}}return i}i.d(t,"a",(function(){return r}));var n=i(23)},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".XGqLPEY4YZ{width:100%;transform-origin:0;will-change:transform}.XGqLPEY4YZ,.noTCpJJRn{position:absolute;height:2px}.ErWzJp{background-color:#ff1a2d;transform:scaleX(0)}.wsm{background-color:#cdcdcd;transform:scaleX(1)}",""]),t.locals={TimelineBar:"XGqLPEY4YZ",TimelineBar__container:"noTCpJJRn",TimelineBar__progress:"ErWzJp",TimelineBar__background:"wsm"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".F2l4Wv{-ms-flex:1 1 0;flex:1 1 0;margin-right:8px;color:#fff;font-weight:700;font-size:1em;font-family:"+i(21).locals.AD_FONT+";line-height:1.3}.oPGL0Hla{line-height:1.3;-webkit-line-clamp:2}.ytJ5IC .oPGL0Hla{font-size:.9em}.LpLY90{position:fixed;white-space:nowrap;visibility:hidden}.cWUwny{white-space:-moz-pre-wrap;white-space:pre-wrap;white-space:-o-pre-wrap;word-break:break-all;-webkit-line-clamp:1}.CIJIN,.cWUwny{font-weight:400;font-size:.8em}.cWUwny,.oPGL0Hla{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,InfoBlock:"F2l4Wv",InfoBlock__title:"oPGL0Hla",InfoBlock_multiline:"ytJ5IC",InfoBlock__titleSpy:"LpLY90",InfoBlock__greenUrl:"cWUwny",InfoBlock__ageRestriction:"CIJIN"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.i(i(67),""),t.i(i(40),""),t.push([e.i,".hZkO0ItSU{display:inline-block;color:#000;font-weight:"+i(67).locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+i(21).locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cSF{cursor:pointer}.HvF{text-decoration:none}.cSF .FoktDeB{opacity:.915}.cSF:hover .FoktDeB{opacity:1}.yu5gzYhwK{padding:4px;pointer-events:auto}.FoktDeB{display:flex;align-items:center;height:"+i(40).locals.NORMAL_BUTTON_HEIGHT+";opacity:.6}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,AD_FONT_WEIGHT:""+i(67).locals.AD_FONT_WEIGHT,NORMAL_BUTTON_HEIGHT:""+i(40).locals.NORMAL_BUTTON_HEIGHT,Button:"hZkO0ItSU",Button_active:"cSF",Button_link:"HvF",Button__content:"FoktDeB",Button__clickable:"yu5gzYhwK"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".bSqOG{width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:background-color .1s ease-in}.O4NDUm1FFm{display:flex;align-items:center;margin-right:13px}.Q4JPaCT{margin-left:auto}.bSqOG:hover{background-color:#e5f2ff}.bSqOG .yu5gzYhwK{padding:0}.O1XBe{padding:8px}.bFV7V{height:auto;font-size:15px;line-height:16px}",""]),t.locals={AbuseOptionButton:"bSqOG",AbuseOptionButton__leftIcon:"O4NDUm1FFm",AbuseOptionButton__rightIcon:"Q4JPaCT",Button__clickable:"yu5gzYhwK",AbuseOptionButton__clickable:"O1XBe",AbuseOptionButton__content:"bFV7V"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(40),""),t.push([e.i,".EhpyqxBOr{font-size:18px}.EhpyqxBOr .mN77w01H{height:"+i(40).locals.MIDDLE_BUTTON_HEIGHT+"}.R1I{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.R1I .BrqFI3Wln{position:relative;background-color:rgba(38,38,38,.3);border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.R1I.wb9A6:hover .BrqFI3Wln{background-color:rgba(0,0,0,.65)}.wb9A6 .FoktDeB{opacity:1}.wb9A6 .BrqFI3Wln{background-color:rgba(38,38,38,.65)}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(40).locals.MIDDLE_BUTTON_HEIGHT,SquareButton_middle:"EhpyqxBOr",SquareButton__basecontent:"mN77w01H",SquareButton:"R1I",SquareButton__basebutton:"BrqFI3Wln",SquareButton_active:"wb9A6",Button__content:"FoktDeB"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(40),""),t.push([e.i,".IlRMmD{cursor:pointer}.VRgZrs{font-size:18px}.VRgZrs .MXfkjz{height:"+i(40).locals.MIDDLE_BUTTON_HEIGHT+"}.XjS{width:60px;height:60px}.bPl0Xb{width:80px;height:80px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(40).locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"IlRMmD",CirclePlayButton_middle:"VRgZrs",CirclePlayButton__basecontent:"MXfkjz",CirclePlayButton__icon:"XjS",CirclePlayButton__icon_middle:"bPl0Xb"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.i(i(67),""),t.i(i(159),""),t.i(i(160),""),t.push([e.i,".EgUp{position:absolute;top:2px;left:6px;display:inline-flex;align-items:center;padding:4px 6px;color:#fff;font-weight:"+i(67).locals.AD_FONT_WEIGHT+";font-size:10px;font-family:"+i(21).locals.AD_FONT+";line-height:"+i(159).locals.AD_LABEL_SMALL_HEIGHT+";letter-spacing:1px;text-transform:uppercase;text-decoration:none;text-shadow:0 1px 1px rgba(0,0,0,.05),0 2px 2px rgba(0,0,0,.05),0 4px 4px rgba(0,0,0,.05),0 0 8px rgba(0,0,0,.05);background:rgba(99,99,99,.06275);border-radius:16px;transform-origin:bottom left;cursor:pointer;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.qPilQdM33{top:4px}.CVH6Pl6{top:4px;font-size:12px;line-height:"+i(160).locals.AD_LABEL_MIDDLE_HEIGHT+"}.qPilQdM33.CVH6Pl6{top:6px}.if1UI9{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}.E0U{margin:0 2px}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,AD_FONT_WEIGHT:""+i(67).locals.AD_FONT_WEIGHT,AD_LABEL_SMALL_HEIGHT:""+i(159).locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+i(160).locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"EgUp",AdLabel_withIcon:"qPilQdM33",AdLabel_middle:"CVH6Pl6",AdLabel_icon:"if1UI9",AdLabel_delimiter:"E0U"}},function(e,t,i){"use strict";function r(e,t){if(void 0===t&&(t=!0),n.a&&t)return[];{const t=[];let r=e;for(;;)try{if(!(r=r.ownerDocument.defaultView.frameElement))return t;t.push(r)}catch(i){return t}}}i.d(t,"a",(function(){return r}));var n=i(65)},function(e,t,i){"use strict";function r(e){return n.a<e}i.d(t,"a",(function(){return r}));var n=i(102)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(60),n=i(24);const a=null!==n.e&&void 0!==n.e?n.e:Object(r.a)()},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(133);const n=Boolean(r.a)},function(e,t,i){"use strict";function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Object(n.a)(e)&&e.forEach(e=>{"function"===typeof e&&e(...i)})}i.d(t,"a",(function(){return r}));var n=i(34)},function(e,t,i){"use strict";function r(e){let t=e;const i=[e],{top:r}=e;for(;t!==r;)t=t.parent,i.push(t);return i}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(62);const n=r.a?r.a.src:""},function(e,t,i){"use strict";function r(e){let t="",i="";if(e){Object(n.a)(e).reverse().forEach(e=>{let{location:r,referrer:n}=e;t=t||r,i=i||n})}return{location:t,referrer:i}}i.d(t,"a",(function(){return r}));var n=i(131)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(24),n=i(35);const a=r.c||n.a.iCookie},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(24),n=i(35);const a=r.i||(null===n.a||void 0===n.a?void 0:n.a.testIds)||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(30),n=i(33);const a=Object(r.a)(window,"adsdkver",n.b.code)},function(e,t,i){"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=i(22),a=i(112),o=i(60),s=i(9);const d="production";var l=i(33),c=i(1),u=i(6),h=i(3);const p={idle:["initializing"],initializing:["initialized","disabled"]};var A=i(24);i.d(t,"a",(function(){return m}));const m=null!==A.f&&void 0!==A.f?A.f:new class{constructor(e){r(this,"state",new s.a({name:"idle"},(e,t)=>{const i=p[e.name];return!i||!Object(n.a)(i,t.name)||(Object(h.a)("RumWrapperClass: change state from ["+e.name+"] to ["+t.name+"]"),!1)})),r(this,"config",void 0),this.config=e,this.state.subscribeValueCondition(e=>"initializing"===e.name,()=>this.loadRum()),this.state.subscribeValueCondition(e=>"disabled"===e.name,()=>c.c.event({name:"RumIsDisabled",data:void 0}))}init(){this.state.dispatch({name:"initializing"})}logBundleTiming(e,t){const i=this.state.getValue();"disabled"!==i.name&&("initialized"===i.name?this.sendResTiming({name:e,src:t,state:i}):this.state.subscribeValueCondition(e=>"initialized"===e.name,i=>{this.sendResTiming({name:e,src:t,state:i})}))}logTimingAndLoadRum(e,t){"idle"===this.state.getValue().name&&this.init(),this.logBundleTiming(e,t)}isLoading(){return"initializing"===this.state.getValue().name}isLoaded(){return"initialized"===this.state.getValue().name}loadRum(){var e;let t=null===(e=this.config)||void 0===e?void 0:e.loadModule;t||(t=i(177).loadRumModule),t().then(e=>{this.initLoadedRum(e),e.isRumInited()?this.state.dispatch({name:"initialized",rum:e}):this.state.dispatch({name:"disabled"})}).catch(u.a)}initLoadedRum(e){const t={clck:"https://yandex.ru/clck/click",reqid:Date.now()+":adsdk:"+Object(o.a)(),scrollLatencyMetric:!0,sendAutoElementTiming:!0,isDevMode:!1},i=a.a?"touch":"desktop",r={rum_id:"ru.adsdk."+i,"-project":"adsdk","-page":window.location.host,"-version":l.a,"-platform":i,"-env":d,"-url":window.location.href,"-domain":window.location.host,"-blocker":void 0};e.init(t,r)}sendResTiming(e){let{state:t,name:i,src:r}=e;t.rum.sendResTiming(i,r)}}},function(e,t,i){"use strict";var r=i(130);i.d(t,"a",(function(){return n}));const n=(void 0===a&&(a=window),Object(r.a)(a));var a},function(e,t,i){"use strict";function r(e){return n.b||function(e){return a.a+"1.0-"+e+"/"}(e)}var n=i(28),a=i(147);i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=window);const{hostname:i}=Object(s.e)(e),r=Object(o.a)(t);return r?-1===d.d.indexOf(i)?e:r(e):e}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function a(e){const{src:t,win:i}=e;return Object(l.a)(n({},c.a,e,{src:r(t,i)}))}i(26),i(10);var o=i(31),s=i(18),d=i(20),l=i(66),c=i(123);i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!n(e)}const n=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1};i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(30);const n=Object(r.b)(window,"adsdkuaas")},function(e,t,i){"use strict";var r=i(36),n=i(80);i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));let a=!1,o=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>a=!0}),Object.defineProperty(t,"passive",{get:()=>o=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),Object(n.a)(e,"click",r.a,t)}}catch(d){}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".tVGz3jOWB{position:static;margin-left:auto}.QggPyik6{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.SHf5eK0A{opacity:.5;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.pHcmrVwsL{width:17px}",""]),t.locals={SkipButtonSmall:"tVGz3jOWB",SkipButtonSmall__content:"QggPyik6",SkipButtonSmall__disabled:"SHf5eK0A",SkipButtonSmall__timeToSkipString__icon:"pHcmrVwsL"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".S1C{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-flow:column nowrap;justify-content:flex-end}.VqeI{display:flex;align-items:flex-end;margin:2px 6px 16px}.RAcyG9WRb{}.D0tS2XP7Z{margin-bottom:10px}",""]),t.locals={BottomControls__container:"S1C",ButtonControls:"VqeI",DisclaimerContainer:"RAcyG9WRb",ButtonControls_OnDisclaimers:"D0tS2XP7Z"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(10);const n=Date&&Object(r.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,i){"use strict";function r(e,t){return function(){try{e(...arguments)}catch(i){o.c.error({error:new a.a(i,{code:t})}),Object(n.a)(i)}}}i.d(t,"a",(function(){return r}));var n=i(27),a=i(0),o=i(1)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(30);const n=(""+Object(r.b)(window,"adsdkecmaver")).toUpperCase(),a="ES2017"===n||"ES5"===n?n:void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(78),n=i(89);const a={onBeforeLoad:e=>{Object(n.d)(e,r.a)}}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,":root{}.FoFUC{display:flex;flex-grow:1;flex-shrink:1;align-items:center;justify-content:center;box-shadow:none}.WNZ4OA{z-index:10000}.MY7RSAp{box-sizing:content-box;padding-top:32px;background-color:#ecf4f9;border-radius:4px;box-shadow:0 12px 12px rgba(25,58,75,.1),0 4px 4px rgba(25,58,75,.05),0 0 4px rgba(25,58,75,.05)}.MY7RSAp .priB7XRq{position:absolute;top:0;left:0;width:100%;height:32px}.JszfnHt{box-shadow:0 0 20px 20px rgba(96,109,128,.15)}.BLjclk4Oc{background-color:#fff}.LyNl{background-color:#283459}.MPpw3S{position:relative;z-index:2;flex-shrink:0;width:100%;height:100%;overflow:hidden;font-size:0}.HAR8J{position:relative;display:flex;flex-grow:1;flex-shrink:1;align-items:stretch;visibility:hidden}.XaEEE4G{position:absolute;top:0;left:0;display:block;width:100%;height:100%;margin:0;padding:0}.oy4c,.V1nD{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.oy4c{display:none;background-position:50%;background-size:cover}.QDBXN6V6Z{position:absolute;top:0;right:0;bottom:0;left:0;margin:0;padding:0;overflow:hidden}.priB7XRq{z-index:1;display:none;overflow:hidden;font-family:Helvetica,Arial,sans-serif;opacity:0;transition:opacity .2s}.QFlhEs{position:absolute;top:0;right:0;z-index:2;box-sizing:content-box;width:12px;height:12px;padding:10px;cursor:pointer}.QFlhEs svg{width:12px;height:12px;vertical-align:top}.l48FjVAw .Av4XVj{min-width:0;max-width:44vh;margin:0 3.5vh 0 3vh}.Av4XVj{font-size:18px}.lCUkG{position:absolute;top:9px;left:13px;display:flex;align-items:flex-end;color:#afc5cf;font-weight:700;font-size:12px;font-style:normal;line-height:14px;letter-spacing:.05em;text-transform:uppercase}.iWT,.mufetT{cursor:pointer}.mufetT{min-width:5em;max-height:2.4em;margin-bottom:.7em;overflow:hidden;color:#000;font-size:1.5em;line-height:1.2em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.iWT{position:relative;display:inline-block;box-sizing:border-box;min-width:10em;padding:.6em 1.2em .7em;color:#006aff;font-weight:300;font-size:1em;text-align:center;background-color:#e5f0ff;border-radius:.3em}.iWT:hover{background-color:#d9e9ff}.ih06o386e{position:absolute;top:-15px;left:-15px;width:100%;height:100%;padding:15px}.hche4nT8 .mufetT{color:#fff}.hche4nT8 .iWT{color:#fff;background-color:#535c7a}.hche4nT8 .iWT:hover{background-color:#5d6682}.l48FjVAw{transition:box-shadow .2s linear,background-color .2s linear,width .4s ease,height .4s ease,left .4s ease,top .4s ease,bottom .4s ease,right .4s ease;will-change:width,height,left,top,bottom,right}.igig2QZu{transition:box-shadow .2s linear,background-color .2s linear,margin-top .2s linear,transform .4s ease}.l48FjVAw .MPpw3S{transition:width .4s,height .4s;will-change:width,height}.f91cmitMFb{transition:none}.pxv .priB7XRq{display:block;opacity:0}.FoFUC:not(.Og6NVIPgE) .priB7XRq,.EbhhpwYHs .priB7XRq{opacity:0}.FoFUC:not(.Og6NVIPgE) .QFlhEs,.EbhhpwYHs .QFlhEs{display:none}.OOrmY0Bqm.Og6NVIPgE.igig2QZu{margin-top:32px}.WNZ4OA .priB7XRq{opacity:1}.WNZ4OA .QFlhEs{display:block}.JszfnHt .MPpw3S{width:auto}",""]),t.locals={yaInPageStickyWrapper:"FoFUC",yaInPageStickyWrapper__sticky:"WNZ4OA",yaInPageStickyWrapper__sticky__flyroll:"MY7RSAp",yaInpageAdditionalContentContainer:"priB7XRq",yaInPageStickyWrapper__sticky__covering:"JszfnHt",yaInPageStickyWrapper__sticky__covering_color_scheme_light:"BLjclk4Oc",yaInPageStickyWrapper__sticky__covering_color_scheme_dark:"LyNl",yaInPageWrapper:"MPpw3S",yaInPagePlaceholderElement:"HAR8J",InPageLayout__videoSlot:"XaEEE4G",InPageLayout__packshotContainer:"oy4c",InPageLayout__slot:"V1nD",InPageLayout__videoSlotContainer:"QDBXN6V6Z",yaInpageCross:"QFlhEs",yaInPageStickyWrapper__variant__covering:"l48FjVAw",yaInpageAdditionalContent:"Av4XVj",yaInpageAdditionalContent__adTitle:"lCUkG",yaInpageAdditionalContent__button:"iWT",yaInpageAdditionalContent__description:"mufetT",yaInpageAdditionalContent__buttonClickableArea:"ih06o386e",yaInpageAdditionalContent_dark:"hche4nT8",yaInPageStickyWrapper__variant__flyroll:"igig2QZu",yaInPageStickyWrapper__unAnimated:"f91cmitMFb",yaInPageStickyWrapper__additionalContent_enabled:"pxv",yaInPageStickyWrapper__detached:"Og6NVIPgE",yaInPageStickyWrapper__inline:"EbhhpwYHs",yaInPageStickyWrapper__isAnimating:"OOrmY0Bqm"}},function(e,t,i){"use strict";var r=i(10),n=i(2);const a="__ADB_CONFIG__";i.d(t,"a",(function(){return s}));const o=Object(n.a)(a)&&a.fn&&Object(r.a)(a.fn.encodeUrl)?a.fn.encodeUrl:void 0,s=void 0!==o?e=>o(e):void 0},function(e,t,i){"use strict";function r(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".texi4{display:flex;justify-content:center;color:#fff;font-family:"+i(21).locals.AD_FONT+";opacity:.7;filter:drop-shadow(0 0 1px #000)}.pKc2U8g{position:relative;bottom:32px;height:0}.BNFyKI{cursor:pointer;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,Domain_container:"texi4",Domain_container__lifted:"pKc2U8g",Domain_greenUrl:"BNFyKI"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.i(i(67),""),t.push([e.i,".PoQarFFE5{display:inline-block;box-sizing:content-box;min-width:1em;min-height:1em;padding:0;overflow:hidden;color:#000;font-weight:"+i(67).locals.AD_FONT_WEIGHT+";font-size:inherit;font-family:"+i(21).locals.AD_FONT+";line-height:inherit;white-space:nowrap;text-align:center;text-decoration:none;text-overflow:ellipsis;background-color:#ffdc00;border:.05em solid transparent;border-radius:1em;outline:none;box-shadow:0 6px 8px rgba(255,220,0,.53);cursor:pointer}.cBhoSHL7E{display:flex;align-items:center;justify-content:center;height:1em;padding:0 .3em}.BE09l1{display:inline;min-width:1em;min-height:1em;padding-right:.4em;font-size:.47em}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,AD_FONT_WEIGHT:""+i(67).locals.AD_FONT_WEIGHT,ArrowButton:"PoQarFFE5",ArrowButton__content:"cBhoSHL7E",ArrowButton__textContent:"BE09l1"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i(87),i(104);const r=i(36).a},function(e,t,i){"use strict";function r(e){return"ontouchstart"in e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){const t=Object(a.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(n.a)(e.defaultView),referrer:e.referrer}))}i.d(t,"a",(function(){return r}));var n=i(74),a=i(100)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class r{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const n=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new r({})),function(){const r=t.apply(this,arguments);if(i.has(r))return i.get(r);const n=e.apply(this,arguments);return i.set(r,n),n}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(30);const n=Object(r.b)(window,"adsdkdebug")},function(e,t,i){"use strict";function r(e,t){let{content:i,size:r}=void 0===t?{}:t;const n=e.ownerDocument.createElement("iframe");n.scrolling="no",n.setAttribute("allowfullscreen",""),n.style.display="block",r&&(n.height=r.height,n.width=r.width),e.appendChild(n);const a=n.contentDocument;return a.open(),i&&a.write(i),a.close(),a.body.style.margin="0",n.style.borderWidth="0",n}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e){const{method:t,url:i,async:c=!0,data:u,responseType:h="text",onBeforeSend:p=o.a,onRetry:A=o.a,checkStatus:m=(e=>d===e),headers:v={},xhrConstructor:f=XMLHttpRequest,retries:g=0,timeout:b=0,withCredentials:y,onAbort:_,onSetup:O}=e;if(!f)return;const E=e.onSuccess?Object(a.a)(e.onSuccess):o.a,S=e.onError?Object(a.a)(e.onError):o.a;let T,w=!1,P=0,C=e=>{w=!0,C=o.a,T=e,I(new Error("Abort request")),"function"===typeof _&&_(e)};const I=t=>{if(N.onerror=null,N.onreadystatechange=null,P&&clearTimeout(P),P&&N.readyState!==l||w)try{N.abort()}catch(t){}if(!w)if(g>0){const i=A(t,N);if("boolean"!==typeof i||Boolean(i)||C(),w)return;n(r({},e,{onSetup:e=>{let{abort:t}=e;C=e=>t(e),w&&t(T)},retries:g-1}))}else C=o.a,S(t,N)},N=new f;try{N.open(t,i,c)}catch(D){return void I(D)}if(N.responseType=h,N.withCredentials=Boolean(y),Object(s.a)(v,(e,t)=>{try{N.setRequestHeader(t,e)}catch(D){}}),b>0&&isFinite(b)&&(P=window.setTimeout(()=>{I(new Error("Request timeout, "+i))},b)),N.onerror=I,N.onreadystatechange=()=>{if(N.readyState===l){const{status:e}=N;m(e)?(C=o.a,clearTimeout(P),E(N)):I(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof O||(O({abort:e=>C(e)}),!w))&&(p(N,e),!w))try{N.send(u)}catch(D){I(D)}}i.d(t,"a",(function(){return n}));var a=i(55),o=i(36),s=i(47);const d=200,l=4},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(23);const n=e=>Object(r.a)(e.navigator.sendBeacon)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=n);for(let n=i;n<e.length;n++)if(r(e[n],t))return n;return-1},n=(e,t)=>e===t},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r="adsdk-test-tag"},function(e,t,i){"use strict";function r(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){if(n.a&&void 0!==n.a.document&&"function"===typeof n.a.document.hasFocus)try{return n.a.document.hasFocus()}catch(e){}}i.d(t,"a",(function(){return r}));var n=i(26)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(24),n=i(51);const a=r.h||n.b||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r="AdSDKLoader"===i(28).c},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(4),n=i(101);const a=Object(n.a)(r.a)},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));const n={MotionTGO:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",ThemeEmpty:"theme_empty",Survey:"survey_ad_creative"},a=r({},{InPage:"inpage",VideoPlayer:"video_player",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},n)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r={ES5:"bundles",ES2017:"bundles-es2017"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(76);const n="https://"+i(20).c+"/"+r.a+"-bundles/"},function(e,t,i){"use strict";const r=i(87).a;i.d(t,"a",(function(){return n}));const n=function(e){const t=r(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window)},function(e,t,i){"use strict";function r(e){const t=[];for(const[i,r]of e){const e=n(r,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function n(e,t){return a(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function a(e,t){return Object(h.a)(e,t,"0")}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var s=i(64),d=i(10),l=i(8),c=i(7),u=i(2),h=i(91);class p{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(o({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const r=t+i,n=a(e.toString(2),r).substr(-r,i);return parseInt(n,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return Object(u.a)(e)&&Object(l.a)(this.getTemplate(),t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])},this),this}getProps(){return o({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return r((e=this.getTemplate(),t=this.props,Object(c.a)(e,e=>{let[i,r]=e;return[i,r&&t[r]||null]})))}slice(e,t){return p.sliceBits(this.serialize(),e,t)}}var A=i(33),m=i(28);i.d(t,"a",(function(){return f}));const v={AdSDKLoader:0,VpaidPlayerLoader:1,AdLoader:11,InPage:13,VideoPlayer:15,Multiroll:16,VideoBannerAd:17,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,ThemeEmpty:26,Rum:27,Survey:28,Examples:30,TestStand:29,Test:31,TestVpaid:31,LoaderFunctions:32};const f=new class extends p{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:A.a,BUNDLE:v[m.c],UNUSED:0,ADBLOCK:Object(d.a)(s.a)}}}},function(e,t,i){"use strict";function r(e){return n?Object(a.a)(e.location.ancestorOrigins):[]}const n=Boolean(window.location.ancestorOrigins);var a=i(59);i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(43),n=i(91),a=i(33);const o="VAS",s=e=>Object(n.a)(String(e%Math.pow(10,4)),4,"0"),d=()=>Object(n.a)(Date.now().toString().slice(0,10),10,"0");var l=i(3),c=i(24);i.d(t,"a",(function(){return u}));const u=(null===c.h||void 0===c.h?void 0:c.h.vsid)||c.k||(void 0===h&&(h=a.a),[Object(r.a)(44),o,s(h),d()].join("x"));var h;Object(l.a)(((null===c.h||void 0===c.h?void 0:c.h.vsid)?"Use VSID from player":c.k?"Use VSID from session":"Generate new VSID")+" ["+u+"]")},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".yUZeE{display:inline-block;color:#000;font-size:16px;font-family:"+i(21).locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.l8XpOuAISV{padding:10px 16px;line-height:16px}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,PackshotButton:"yUZeE",PackshotButton__content:"l8XpOuAISV"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".gBgE7kU{display:flex;align-items:center;box-sizing:border-box;min-width:0;height:100%;padding:10px 0}.flA{display:flex;align-items:center;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+i(21).locals.AD_FONT+";line-height:3;white-space:nowrap;background-color:#ffd500;border-radius:2px;cursor:pointer;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,ActionButton:"gBgE7kU",ActionButton__content:"flA"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".vC6wjZY{position:absolute;top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.pFRHmbd5oM{z-index:2}",""]),t.locals={AbuseBurgerButton:"vC6wjZY",AbuseBurgerButton_inFullSize:"pFRHmbd5oM"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".vWBFymF9{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.pkuZ1Q{text-transform:uppercase}",""]),t.locals={DisclaimerSvg:"vWBFymF9",DisclaimerSvg_text:"pkuZ1Q"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".bVNKRX9{position:relative;flex:1;color:#fff;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.hjiWM95t{position:relative;width:100%;padding:0 5px;font-family:"+i(21).locals.AD_FONT+";text-shadow:0 2px 3px rgba(0,0,0,.25);cursor:pointer}.bVNKRX9:hover .hjiWM95t{border-bottom:1px solid #fff;filter:drop-shadow(0 0 1px #000)}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,LinesWordsLetters:"bVNKRX9",LinesWordsLetters_line:"hjiWM95t"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".A3eI{position:relative;padding-left:10px;overflow:hidden}.lZonoT2{}.iij .A3eI{right:0;bottom:50%;left:auto;transform:translateY(50%)}.Xa3CaWZ .A3eI{bottom:50%;transform:translateY(50%)}.e4Ss .A3eI{right:0;left:auto}.KrMBPWud{bottom:50%;transform:translateY(50%)}",""]),t.locals={SkinActionButton:"A3eI",SkinActionButton__middle:"lZonoT2",SkinActionButton__position_right_center:"iij",SkinActionButton__position_left_center:"Xa3CaWZ",SkinActionButton__position_right_bottom:"e4Ss",SkinActionButton__lifted:"KrMBPWud"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".QgYxV{display:flex;flex-flow:column nowrap;padding:4px 10px;overflow:hidden;font-size:16px;font-family:"+i(21).locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.PmqveyWDJB{margin:2px auto 0;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:rgba(38,38,38,.65);border-radius:4px}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,Subtitles__container:"QgYxV",Subtitles__subtitle:"PmqveyWDJB"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_SMALL_HEIGHT:"18px"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_MIDDLE_HEIGHT:"20px"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(30);const n=Object(r.b)(window,"adsdktracelogs"),a=Boolean(n)||void 0},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".v0n7xy4HOy{background-color:#000;opacity:.5}",""]),t.locals={PackshotOverlay:"v0n7xy4HOy"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".LMT{}",""]),t.locals={AbuseContainer:"LMT"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".uJGq{display:flex;box-sizing:border-box;width:100%;padding:2px .2em;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),t.locals={Disclaimer:"uJGq"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".WkE{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={MuteIcon:"WkE"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".BX8{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={UnmuteIcon:"BX8"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".Ccj{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),t.locals={Timeline:"Ccj"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,"@keyframes saX9YtC4U{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.eFy{animation-name:saX9YtC4U;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),t.locals={SpinnerIcon__css_animated:"eFy",spin:"saX9YtC4U"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".pO1mTLb3AS{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),t.locals={Spinner:"pO1mTLb3AS"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".xJ62a{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),t.locals={CenterControls:"xJ62a"}},function(e,t,i){(t=e.exports=i(19)(!1)).i(i(21),""),t.push([e.i,".IcT{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+i(21).locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(21).locals.AD_FONT,SocialAdvertisingAdLabel:"IcT"}},function(e,t,i){(t=e.exports=i(19)(!1)).push([e.i,".leXSb{position:absolute;top:0;right:0;left:0}",""]),t.locals={TopControls:"leXSb"}},function(e,t){},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},function(e){e.exports={be:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},en:{adsdk:{ABUSE_ADS_TEXT:"Ad",ABUSE_COPIED:"Copied",ABUSE_COPY_TEXT:"Copy link",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Enter your message",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"Submit",ABUSE_IMPROVE_REASON_TEXT:"State the reason:",ABUSE_OPTION_ABOUT:"Ads on Yandex",ABUSE_OPTION_ALREADY_PURCHASED:"Already purchased",ABUSE_OPTION_ANOTHER_REASON:"Another reason",ABUSE_OPTION_COMPLAINT:"Report",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Speculation",ABUSE_OPTION_HIDE:"Hide",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Illegal goods or services",ABUSE_OPTION_NOT_INTERESTED:"Not interested",ABUSE_OPTION_OVERLAP_CONTENT:"Covers page content",ABUSE_OPTION_POLITICAL_SOCIAL:"Political ad",ABUSE_OPTION_SCAMMERS:"Scammers",ABUSE_OPTION_SEEN_TOO_OFTEN:"I see this ad too often",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Shocking content",ABUSE_OPTION_UNPLEASANT_CONTENT:"I don't like it",ABUSE_SCREEN_DESCRIPTION:"We try to show you ads that match your interests. Tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_DESCRIPTION_SHORT:"Please tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_TITLE:"Report this ad",ABUSE_VARIANT_ANNOYING:"Intrusive or annoying",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"False information",ABUSE_VARIANT_NOT_INTERESTED:"I'm not interested in this",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"I'm not interested in this",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"Political ad",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"Shocking content",ABUSE_VARIANT_SPAM:"Inappropriate content or spam",ABUSE_VARIANT_SPAM_SHORT:"Looks like spam",AD_TITLE:"Ad",LEARN_MORE:"Learn more",MORE:"More",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Repeat",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",SOCIAL_ADVERTISING_AD_LABEL:"Social ad",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"Read more",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"Read more on the website",THEME_EMPTY_ACTION_BUTTON_LABEL:"Go",TIME_LEFT:"Ad",UNMUTE:"Unmute",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertiser\u2019s site",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},kk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},ru:{adsdk:{ABUSE_ADS_TEXT:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435",ABUSE_COPIED:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e",ABUSE_COPY_TEXT:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",ABUSE_IMPROVE_REASON_TEXT:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:",ABUSE_OPTION_ABOUT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435",ABUSE_OPTION_ALREADY_PURCHASED:"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e",ABUSE_OPTION_ANOTHER_REASON:"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430",ABUSE_OPTION_COMPLAINT:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f",ABUSE_OPTION_FALSE_INFO_SOCIAL:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_OPTION_HIDE:"\u0421\u043a\u0440\u044b\u0442\u044c",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430",ABUSE_OPTION_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442",ABUSE_OPTION_OVERLAP_CONTENT:"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_POLITICAL_SOCIAL:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_OPTION_SCAMMERS:"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438",ABUSE_OPTION_SEEN_TOO_OFTEN:"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_UNPLEASANT_CONTENT:"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e",ABUSE_SCREEN_DESCRIPTION:"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_DESCRIPTION_SHORT:"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_TITLE:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443",ABUSE_VARIANT_ANNOYING:"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_VARIANT_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_VARIANT_SPAM:"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c",ABUSE_VARIANT_SPAM_SHORT:"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c",AD_TITLE:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",LEARN_MORE:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",MORE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN_WITHOUT_GREEN_URL:"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",MOTION_DIETARYSUPPL_DISCLAIMER:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c",MOTION_DISTANCE_SALES:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.",MOTION_DRUG_DISCLAIMER:"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.",MOTION_HIDE_DISCLAIMER:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443",MOTION_SHOW_DISCLAIMER:"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",REPEAT:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",REWARDED_TIMER_1:"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b",REWARDED_TIMER_2:"\u0441\u0435\u043a",SECONDS:"\u0441\u0435\u043a",SKIP:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",SKIP_TIME_LEFT:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443",SOCIAL_ADVERTISING_AD_LABEL:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",THEME_EMPTY_ACTION_BUTTON_LABEL:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",TIME_LEFT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",UNMUTE:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",UNMUTE_INVITE:"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VISIT_SITE:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f",YANDEX_DIRECT:"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442",YANDEX_DIRECT_LINK:"https://direct.yandex.ru/?partner"}},tr:{adsdk:{ABUSE_ADS_TEXT:"Reklam",ABUSE_COPIED:"Kopyaland\u0131",ABUSE_COPY_TEXT:"Ba\u011flant\u0131y\u0131 kopyala",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Mesaj\u0131n\u0131z\u0131 girin",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"G\xf6nder",ABUSE_IMPROVE_REASON_TEXT:"Nedenini a\xe7\u0131klay\u0131n:",ABUSE_OPTION_ABOUT:"Yandex'te reklam",ABUSE_OPTION_ALREADY_PURCHASED:"Zaten sat\u0131n al\u0131nd\u0131",ABUSE_OPTION_ANOTHER_REASON:"Ba\u015fka bir neden var",ABUSE_OPTION_COMPLAINT:"\u015eikayet et",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Yanl\u0131\u015f bilgi",ABUSE_OPTION_HIDE:"Gizle",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Yasad\u0131\u015f\u0131 mal/hizmet",ABUSE_OPTION_NOT_INTERESTED:"\u0130lgilenmiyorum",ABUSE_OPTION_OVERLAP_CONTENT:"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor",ABUSE_OPTION_POLITICAL_SOCIAL:"Siyasi i\xe7erikli reklam",ABUSE_OPTION_SCAMMERS:"Doland\u0131r\u0131c\u0131lar",ABUSE_OPTION_SEEN_TOO_OFTEN:"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Rahats\u0131z edici i\xe7erik",ABUSE_OPTION_UNPLEASANT_CONTENT:"Ho\u015fuma gitmiyor",ABUSE_SCREEN_DESCRIPTION:"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_DESCRIPTION_SHORT:"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_TITLE:"Reklam\u0131 \u015fikayet et",ABUSE_VARIANT_ANNOYING:"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"Bu konuyla ilgilenmiyorum",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"G\xfcvenilir olmayan i\xe7erik veya spam",ABUSE_VARIANT_SPAM_SHORT:"Spam gibi g\xf6r\xfcn\xfcyor",AD_TITLE:"Reklam",LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Tekrarla",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklam\u0131 atla",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"Reklam",UNMUTE:"Sesi a\xe7",UNMUTE_INVITE:"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin",VISIT_SITE:"Reklam verenin sitesine git",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uz:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_COPIED:"",ABUSE_COPY_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_GREEN_URL:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}}}},function(e,t,i){"use strict";i.r(t),i.d(t,"loadRumModule",(function(){return n}));var r=i(56);const n=()=>new Promise((e,t)=>{Object(r.b)({moduleName:"Rum",version:void 0,onSuccess:t=>{e(t)},onError:t,win:window,timeout:r.a})})},function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),r=i.length>>>0,n=arguments[1],a=0;a<r;a++)if(t=i[a],e.call(n,t,a,i))return t})},function(e,t){e.exports={initMoatTracking:function(e,t,i,r){var n=document.createElement("script"),a={events:[],addEvent:function(e){s.sendEvent?(a.events&&(s.sendEvent(a.events),a.events=!1),s.sendEvent(e)):a.events.push(e)}},o=function(t){return function(){var r,n=-1;if(e&&e.getAdVolume&&(r=e.getAdVolume()),"number"==typeof r&&!isNaN(r)&&0<=r&&(n=r),a.addEvent({type:t,adVolume:n}),-1!==h.indexOf(t)&&e&&e.unsubscribe&&!u)for(var o in u=!0,c)if(c.hasOwnProperty&&c.hasOwnProperty(o))try{e.unsubscribe(c[o],o)}catch(i){}}},s={adData:{ids:i,vpaid:e,build:"cc07a80-clean"},dispatchEvent:a.addEvent};i="_moatApi"+Math.floor(1e8*Math.random());var d,l,c={AdStarted:o("AdStarted"),AdStopped:o("AdStopped"),AdSkipped:o("AdSkipped"),AdLoaded:o("AdLoaded"),AdLinearChange:o("AdLinearChange"),AdSizeChange:o("AdSizeChange"),AdExpandedChange:o("AdExpandedChange"),AdSkippableStateChange:o("AdSkippableStateChange"),AdDurationChange:o("AdDurationChange"),AdRemainingTimeChange:o("AdRemainingTimeChange"),AdVolumeChange:o("AdVolumeChange"),AdImpression:o("AdImpression"),AdClickThru:o("AdClickThru"),AdInteraction:o("AdInteraction"),AdVideoStart:o("AdVideoStart"),AdVideoFirstQuartile:o("AdVideoFirstQuartile"),AdVideoMidpoint:o("AdVideoMidpoint"),AdVideoThirdQuartile:o("AdVideoThirdQuartile"),AdVideoComplete:o("AdVideoComplete"),AdUserAcceptInvitation:o("AdUserAcceptInvitation"),AdUserMinimize:o("AdUserMinimize"),AdUserClose:o("AdUserClose"),AdPaused:o("AdPaused"),AdPlaying:o("AdPlaying"),AdError:o("AdError")},u=!1,h=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in c)c.hasOwnProperty&&c.hasOwnProperty(t)&&e.subscribe(c[t],t)}();try{l=(d=t.ownerDocument).defaultView||d.parentWindow}catch(p){d=document,l=window}return l[i]=s,n.type="text/javascript",t&&t.insertBefore(n,t.childNodes[0]||null),n.src="https://z.moatads.com/"+r+"/moatvideo.js#"+i,s}}},function(e,t){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}],this.audibilityFired=!1,this.secondsAudible=0,this.started=!1}function i(e){return e!=t.eventsMap.AdImpression||a?e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}":(a=!0,"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}")}function r(e,t){for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e}function n(e){(new Image).src=e}var a=!1;t.prototype.version=function(){console.log("[Viewability Observer JS] 2018.02.20")},t.VOLUME_ON="Audible",t.VOLUME_OFF="Inaudible",t.INITIALLY_ON="initially_unmuted",t.INITIALLY_OFF="initially_muted",t.FIRE_TIME=2e3,t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"",AdImpressionYandex:"AdImpressionYandex",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.audioEventsMap={AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete"},t.playerSizeParams={PlayerSmallDesktop:[0,480],PlayerNormalDesktop:[480,720],PlayerBigDesktop:[720,960],PlayerHugeDesktop:[960,0],PlayerSmallMobile:[0,260],PlayerNormalMobile:[260,320],PlayerBigMobile:[320,380],PlayerHugeMobile:[380,0]},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!==typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var i=this.realWindow;i.parent!==i;){if(i.parent.document.domain!==i.document.domain){this.position=t.X_FRAME;break}i=i.parent}}catch(r){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,a,o){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(a),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=o,this.volume=-1,this.completeDispatched=this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!==typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(a=0;a<s.length;a++)if(s[a]){var d=s[a].split(":");e[d[0]]=2!=d.length||("undefined"!==typeof e[d[0]]?isNaN(parseInt(d[1],10))?e[d[0]]:parseInt(d[1],10):d[1])}}}catch(c){}for(var l in this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),n(r(i(this.getPosition()),this.adParameters)),t.eventsMap)t.eventsMap.hasOwnProperty(l)&&o.subscribe(this.onVPAIDEvent.bind(this,l),l);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return n(r(i(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdVideoStart"==e){this.onVPAIDEvent("AdImpression"),this.onVPAIDEvent("AdImpressionYandex"),this.started||(this.started=!0,this.updater=setInterval(t.updateTime.bind(this),t.DELAY),this.updaterAudibility=setInterval(t.updateTimeAudibility.bind(this),t.DELAY)),this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),n(r(i(c=this.volume>0?t.INITIALLY_ON:t.INITIALLY_OFF),this.adParameters));var a=t.playerSizeParams,o=parseFloat(this.vpaidObject.getAdWidth(),10);for(var s in a)if(a.hasOwnProperty(s)){var d=a[s];(!d[0]||o>=d[0])&&(!d[1]||o<d[1])&&n(r(i(s),this.adParameters))}}if("AdVideoComplete"==e){if(this.completeDispatched)return;if(this.completeDispatched=!0,0<this.customParams.pg)(l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS)).state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters))}if("AdClickThru"==e&&0<this.customParams.cet&&(0<(l=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime())&&n(r(i("AdVideoClick"+parseInt(l,10)),this.adParameters))),"AdPaused"==e&&(clearInterval(this.updater),clearInterval(this.updaterAudibility)),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)){var l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);n(r(i(t.eventsMap[e]),this.adParameters)),"AdImpression"!=e&&"AdImpressionYandex"!=e&&l.state&&n(r(i(e+l.state),this.adParameters))}if("AdVideoThirdQuartile"==e&&this.checkTwoSeconds(),t.audioEventsMap.hasOwnProperty(e)){this.volume=parseFloat(this.vpaidObject.getAdVolume(),10);var c=this.volume>0?t.VOLUME_ON:t.VOLUME_OFF;n(r(i(t.eventsMap[e]+c),this.adParameters))}},t.prototype.checkTwoSeconds=function(){if(!this.completeDispatched){var e=this.vpaidObject.getAdRemainingTime();if(0<e&&1.1>e)this.completeDispatched=!0,e=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),0<this.customParams.pg&&e.state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters)),n(r(i(t.eventsMap.AdVideoComplete),this.adParameters)),e.state&&n(r(i("AdVideoComplete"+e.state),this.adParameters)),this.stop();else{var a=this;setTimeout((function(){a.checkTwoSeconds()}),250)}}},t.prototype.stop=function(){if(clearInterval(this.updater),clearInterval(this.updaterAudibility),this.started=!1,t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)n(r(i(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters));this.updater&&clearInterval(this.updater),this.audibilityFired||(this.audibilityFired=!0,n(r(i(t.VOLUME_OFF),this.adParameters)))},t.prototype.getViewAbility=function(i,r){if(this.intersectionSupport)return t.match(this.hasFocus(),r,this.intersectionRatio,i);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var n=this.realWindow,a=this.rootElement.getBoundingClientRect(),o=t.calculateArea(a,n);try{for(;n!==e.top;){var s=n.name||(n.name="wb-"+Math.round(1e6*Math.random()).toString(16));a=(n=n.parent).frames[s].frameElement.getBoundingClientRect(),o=Math.min(t.calculateArea(a,n),o)}}catch(d){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),r,o,i)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var a=[],o=0;o<this.observerData.length;o++){var s=this.observerData[o];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?n(r(i(s.name+t.VIEWABLE),this.adParameters)):a.push(s)}this.observerData=a},t.updateTimeAudibility=function(){if(this.audibilityFired)return clearInterval(this.updaterAudibility);this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),this.volume<=0||isNaN(this.volume)?this.secondsAudible=0:this.secondsAudible+=t.DELAY,this.secondsAudible>=t.FIRE_TIME&&(this.audibilityFired=!0,n(r(i(t.VOLUME_ON),this.adParameters)))},t.match=function(e,i,r,n){var a=t.NOT_VIEWABLE;return(e||!i)&&r>=n&&(a=t.VIEWABLE),{state:a,focus:e,percent:r}},t.calculateArea=function(e,t){var i=e.width*e.height,r=e.width,n=e.height;return 0>e.top&&(n+=e.top),e.bottom>t.innerHeight&&(n-=e.bottom-t.innerHeight),0>e.left&&(r+=e.left),e.right>t.innerWidth&&(r-=e.right-t.innerWidth),r*n/i},e.WBViewAbility=t}(window)},function(e,t,i){"use strict";function r(e,t,i,r,n,a,o){var s,d,l=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:a},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:o};t="_moatApi"+Math.floor(1e8*Math.random());try{d=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,d=window}return d[t]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+n+"/moat/"+r+"/moatvideo.js#"+t,u}i.r(t),i.d(t,"initMoatTracking",(function(){return r}))},function(e,t){e.exports='<svg width=\'100%\' height=\'100%\' viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1L13 13" stroke="#AFC5CF" stroke-width="2"/>\n<path d="M1 13L13 1" stroke="#AFC5CF" stroke-width="2"/>\n</svg>\n'},function(e,t,i){"use strict";function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Object(ls.a)(e)&&Object(ds.a)(e,e=>{"function"===typeof e&&e(...i)})}function n(e,t){void 0===t&&(t=window);let i=ns.a;const n=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},a=Object(os.a)(us,e=>Object(ss.a)({element:t,eventName:e,listener:n}));return i=Object(cs.a)(()=>{r(a)})}function a(e,t){return t===e.substring(e.length-t.length)}function o(e){const{hostname:t}=Object(ps.e)(e);return t===As||a(t,"."+As)}function s(e){if(!e)return!1;const{hostname:t}=Object(ps.e)(e);return!(!t||0===t.length)&&ms(fs,e=>e===t||a(t,"."+e))}function d(e){(new Image).src=e}function l(e,t){if(s(e)||o(e)){if(function(e,t){return!!bs&&window.navigator.sendBeacon(e,t)}(e,t))return}else s(e)&&rs.c.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:ts.c});d(e)}function c(e){return"number"===typeof e&&isFinite(e)}function u(e){return"number"===typeof e&&isFinite(e)&&e>0}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function p(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(Object(_s.a)(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:r}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?h({},Es,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):Es}(e),{droppedVideoFrames:i,totalVideoFrames:r}=t;let n=Ss.droppedVideoFramesRatio;return u(r)&&c(i)&&(n=i/r),h({},t,{droppedVideoFramesRatio:n})}function A(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function v(e){let{url:t,options:i,ignoreAbd:r=!1,win:n}=e;if(Object(Ds.a)(Cs.a)&&!r)return t;if(!s(t)&&!o(t))return t;const a=Math.round(100*i.visibility),d=Math.round(i.size.width),l=Math.round(i.size.height),c=Math.round(100*i.videoVolume),u=Math.round(i.videoAvatarSize.width),h=Math.round(i.videoAvatarSize.height),p=Object(Cd.a)();return Object(ps.b)(t,{[Bs]:String(rd.a),[Ms]:nd.c,[xs]:String(a),[Fs]:String(d),[Us]:String(l),[Hs]:String(u),[Ws]:String(h),[Vs.a]:String(Id.a.serialize()),[zs]:wd(),[Gs]:ks.a,[Zs]:Pd(n),[Xs]:Ns.b,[qs]:Ns.a?"0":"1",[js]:String(Date.now()),[Ls]:String((new Date).getTimezoneOffset()),[Ys]:Rd?"0":"1",[Ks]:String(c),[Qs]:i.videoMuted?"1":"0",[Js]:Rs.a.getActiveTestIds().join(";")||void 0,[$s]:void 0===p?"unknown":String(p),[ed]:void 0===i.isFullscreen?"unknown":String(i.isFullscreen),[td]:Is.a?Object(ad.a)(n):void 0,[id]:void 0===i.adPodId?"unknown":i.adPodId},{override:!1})}function f(e){let{error:t,trackingUrls:i}=e;Object(as.a)("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=Object(os.a)(e,e=>v({url:e,options:Ps,win:window}));Object(ds.a)(t,e=>l(e))}(i)}function g(e,t){void 0===t&&(t=[]),rs.c.errorToStats(e),f({error:e,trackingUrls:t})}function b(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}function y(e){const t={};for(const i in e)Object(Ld.a)(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function _(e,t){const i={};return Object(Bd.a)(e).forEach(r=>{i[r]=t(e[r],r)}),i}function O(e,t){return void 0===t&&(t=1e6),function(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),n=e.charCodeAt(i++),a=e.charCodeAt(i++),o=r>>2,s=(3&r)<<4|n>>4;let d=(15&n)<<2|a>>6,l=63&a;isNaN(n)?d=l=64:isNaN(a)&&(l=64),t=t+Jd.charAt(o)+Jd.charAt(s)+Jd.charAt(d)+Jd.charAt(l)}return t}(function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);let a;if(n<128?a=String.fromCharCode(n):n>127&&n<2048?(a=String.fromCharCode(n>>6|192),a+=String.fromCharCode(63&n|128)):(a=String.fromCharCode(n>>12|224),a+=String.fromCharCode(n>>6&63|128),a+=String.fromCharCode(63&n|128)),i.length+a.length>t)break;i+=a}return i}(e,3*t/4|0))}function E(e){return function(e){const t=[];let i=0;for(;i<e.length;){const r=e.charCodeAt(i);if(r<128)t.push(String.fromCharCode(r)),i++;else if(r>191&&r<224){const n=e.charCodeAt(i+1);t.push(String.fromCharCode((31&r)<<6|63&n)),i+=2}else{const n=e.charCodeAt(i+1),a=e.charCodeAt(i+2);t.push(String.fromCharCode((15&r)<<12|(63&n)<<6|63&a)),i+=3}}return t.join("")}(function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const r=Jd.indexOf(e.charAt(i++)),n=Jd.indexOf(e.charAt(i++)),a=Jd.indexOf(e.charAt(i++)),o=Jd.indexOf(e.charAt(i++)),s=r<<2|n>>4,d=(15&n)<<4|a>>2,l=(3&a)<<6|o;t.push(String.fromCharCode(s)),64!==a&&t.push(String.fromCharCode(d)),64!==o&&t.push(String.fromCharCode(l))}return t.join("")}(e))}function S(e,t){const i=e.style;for(const r in t)if(t.hasOwnProperty(r)){i[_l(r)]=t[r]}}function T(e,t){Object(Bd.a)(t).forEach(i=>{const r=t[i];null===r?e.removeAttribute(i):e.setAttribute(i,r)})}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function R(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e){return[].concat.apply([],e)}function V(e,t){const i=[],r=[];return Object(ds.a)(e,(n,a)=>{t(n,a,e)?i.push(n):r.push(n)}),[i,r]}function j(e){if(void 0===e||null===e)return"";const{documentElement:t}=e,{tagName:i}=t;return"string"===typeof i?i:""}function L(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function B(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var r;const i=e.getAttribute(t);return null!==(r=null===i||void 0===i?void 0:i.trim())&&void 0!==r?r:""}return i}function M(e){var t,i;return null!==(t=null===e||void 0===e?void 0:null===(i=e.textContent)||void 0===i?void 0:i.trim())&&void 0!==t?t:""}function x(e){return Boolean(e&&M(e).length)}function F(e){try{return Object(Al.a)(e)?JSON.parse(e):void 0}catch(t){return}}function U(e){const t=parseInt(B(e,"width",0),10),i=parseInt(B(e,"height",0),10),r=parseInt(B(e,"bitrate",0),10),n=B(e,"minBitrate",""),a=n?parseInt(n,10):void 0,o=B(e,"maxBitrate",""),s=o?parseInt(o,10):void 0,d=B(e,"vmafAvg",""),l=d?parseFloat(d):void 0,c=B(e,"codec",""),h={width:t,height:i,bitrate:r,type:B(e,"type"),url:M(e)};return Object(Dl.a)(c)&&(h.codec=c),u(a)&&(h.minBitrate=a),u(s)&&(h.maxBitrate=s),u(a)&&u(s)&&a>s&&rs.c.error({error:new is.a({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:h}})}),u(l)&&(h.vmafAvg=l),h.url?h.type?h:(rs.c.error({error:new is.a({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:h}})}),null):(rs.c.error({error:new is.a({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:h}})}),null)}function H(e){const t=e.querySelector("StaticResource");return{width:parseInt(B(e,"width",0),10),height:parseInt(B(e,"height",0),10),type:t?B(t,"creativeType"):null,url:t?M(t):"",bitrate:0,minBitrate:void 0,maxBitrate:void 0}}function W(e){const t={};return Object(_s.a)(e)&&Object(ds.a)(Object(Bd.a)(e),i=>{const r=e[i];Array.isArray(r)&&(t[i]=Object(Xd.a)(r,e=>"string"===typeof e))}),t}function z(){const e={};for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return Object(ds.a)(i,t=>{Object(ds.a)(Object(Bd.a)(t),i=>{const r=e[i]||[],n=t[i]||[];e[i]=[...r,...n]})}),e}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Y(e){if(Ac&&vc)return;if(void 0===e)return;const t=Number(e);return u(t)?t:void 0}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function q(e){const t=rc(_c);if(!Object(_s.a)(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};return i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),Object(_s.a)(e.controlsSettings)&&(Object(_s.a)(e.controlsSettings.controlsVisibility)&&Object(cc.a)(e.controlsSettings.controlsVisibility,(e,i)=>{bc.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}),!1===e.controlsSettings.visibility&&(t.controlsVisibility=X({},yc))),delete t.visibility,t}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Q(e){const{packshotSettings:t}=e;if(!Object(_s.a)(t))return Oc;const{isEnabled:i}=t;return K({},Oc,{isEnabled:!1!==i&&void 0})}function J(e){const t=Object(_s.a)(e)?e:{},i=[],r="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,lc):void 0;let n;return void 0!==t.skipDelay&&(c(t.skipDelay)&&t.skipDelay>=0?n=t.skipDelay:i.push(new is.a({code:"INCORRECT_SKIP_DELAY_FORMAT",details:{value:t.skipDelay,stringValue:String(t.skipDelay),type:typeof t.skipDelay}}))),{config:{autoplay:void 0===t.autoplay?void 0:Boolean(t.autoplay),pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),showGuiForVpaid:"boolean"===typeof t.showGuiForVpaid?t.showGuiForVpaid:void 0,backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,skipDelay:n,videoTimeout:u(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:u(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:r,bufferEmptyLimit:u(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?W(t.trackingEvents):{},controlsSettings:q(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:Y(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:Hd,packshotSettings:Q(t)},errors:i}}function Z(e){return"string"!==typeof e?NaN:Object(qd.a)(e.split(":").reverse(),(e,t,i)=>e+parseFloat(t)*60**i,0)}function $(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return c(t)?{unit:"portion",value:t/100}:void 0}const t=Z(e);if(c(t))return{unit:"seconds",value:t}}function ee(e){return"number"===typeof e&&isFinite(e)&&e>=0}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ne(e){let{url:t,data:i,timeout:r,doRequest:n=kc,withCredentials:a}=e;return new Promise(async(e,o)=>{"https:"===window.location.protocol&&(t=function(e){return Rc.a.href=e,Rc.a.protocol="https:",Rc.a.href}(t));const s=Dc(r),d=n({url:t,data:i,withCredentials:a});try{const t=await Promise.race([d,s]);if(t){return e(re({},t,{xml:L(t.responseText)}))}return o({reason:"timeout",error:new Error("XHR Timeout")})}catch(l){return o(l)}})}function ae(e){Object(ds.a)(e,e=>rs.c.error({error:e}))}function oe(e,t){let i=!1;const r=function(){const r=i?t:e;return i=!0,r.apply(this,arguments)};return function(){return r.apply(this,arguments)}}function se(e){let{win:t,methodName:i,data:r,id:n}=e;t.postMessage({methodName:i,data:r,id:n},"*")}function de(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const i in e)Object(Ld.a)(e,i)&&t.push(e[i]);return t}}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ue(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function he(e,t){const i=window,r=i.document;if(t&&(n=function(e){return e.location.host}(i))&&n&&0!==n.length&&ms(Xc,e=>e===n||function(e,t){return t===e.substring(e.length-t.length)}(n,"."+e)))return t;var n;let a=pe(e,r);if("t\n"===a&&i.top!==i.self)try{a=pe(e,i.parent.document)}catch(o){}return O(a,e)}function pe(e,t){const i=[];let r=0;i.push("t"+(t.title||"")),r+=i[0].length;for(let n=1;n<4&&r<e;n++){const e=t.getElementsByTagName("h"+n),a=e.length;for(let t=0;t<a;t++){const a=Ae(e[t]);r+=a.length,i.push(""+n+a)}}return i.join("\n")+"\n"}function Ae(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function me(e){let t;try{t=JSON.stringify(e)}catch(i){}return t}function ve(e){return Boolean(e.YA_TURBO_PAGES)}function fe(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function ge(e){void 0===e&&(e=window);let t="";const i=e.context,r=e.Ya;return fe(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():r&&r.Context&&r.Context.AdvManager&&r.Context.AdvManager.getSkipToken&&(t=r.Context.AdvManager.getSkipToken()),t}function be(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case Zc.BLUETOOTH:return 3;case Jc.CELL_2G:return.384;case Jc.CELL_3G:case Zc.CELLULAR:return 2;case Zc.WIMAX:return 37;case Zc.NONE:return 0;case Jc.ETHERNET:case Zc.ETHERNET:case Jc.WIFI:case Zc.WIFI:case Zc.MIXED:return 10;case Jc.UNKNOWN:case Zc.UNKNOWN:case Zc.OTHER:}return-1}function ye(){const e={width:window.innerWidth,height:window.innerHeight},t=Qc(),i={win_width:$c(e.width),win_height:$c(e.height),pixel_ratio:qc(),bandwidth:be()};return t&&(i.quirks=t),i}function _e(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return iu()+e}function Oe(e){return void 0===e&&(e=window),String(e.location)}function Ee(e){return void 0===e&&(e=window),O(ou(e.document,"_ym_uid")||"")}function Se(e){return void 0===e&&(e=window),e.location.hostname}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Pe(e,t){void 0===t&&(t="");const{params:i,bids:r,matchIdDirect:n=!1,reloadCounter:a}=e,o=we({},function(e){const t=e.win||window,i=void 0===e.isTurbo?ve(t):e.isTurbo,r=ms(cu,e=>e.test(t.location.hostname));return du(we({},e,{win:t,isTurbo:i,addsSsSkipToken:r}))}(e),i||{},n?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Object(ds.a)(uu,e=>{o[e]=void 0}),o.pk)try{o.pk=decodeURIComponent(o.pk)}catch(s){}if(r){const e=r.map(e=>we({},e,{placement_id:e.placement_id?String(e.placement_id):void 0}));e.toJSON&&(e.toJSON=void 0),o.bids=O(me(e)||"")}return o.grab=he(lu-t.length),o.utf8="\u2713",a&&(o.adf_refresh=a),o}function Ce(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:r,ownerId:n,domain:a=hu}=e;return"https://"+a+("/"+n+"/"+(t=r?"getBulk/v2":i?"getCodeTest":"prepareCode"))}(e);return{base:t,queryParams:Pe(e,t)}}function Ie(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function De(e,t){const i=Object(cl.a)(window);let r;try{r=function(e){const{base:t,queryParams:i}=Ce(e);return Object(ps.b)(t,i)}(Ne({},e,{layoutConfig:new eu,useXhr:!0,domain:pu}))}catch(a){throw new is.a(a,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!Ie(r))throw new is.a({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const n=v({url:r,options:t,ignoreAbd:!0,win:window});return i?i(n):n}async function Re(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:r}=e;const n=De(t,i),a=Yc({secureMode:r,url:n})?$l:kc;try{const e=await a({url:n,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=F(e),i=[];if(!Object(_s.a)(t))throw new is.a({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{error:r,data:n}=t;if(Array.isArray(r)&&r.length>0)throw new is.a({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(n))throw new is.a({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const a=Object(Xd.a)(n,(e,r)=>{if(!Object(_s.a)(e)||!Object(_s.a)(e.attributes))return i.push(new is.a({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:n,vastBase64:a}=e.attributes;return"string"===typeof a&&a.length>0||("string"===typeof n&&n.length>0||(i.push(new is.a({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1))});if(0===a.length)throw new is.a({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return a.length>1&&i.push(new is.a({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:a[0].attributes,errors:i}}(e.responseText);return ae(i),t}catch(o){if(Object(nl.a)(o))throw o;throw new is.a(o,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:n}})}}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ve(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function je(e){return!!Object(_s.a)(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Me(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!Object(_s.a)(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!Object(_s.a)(i))return!1;const{data_params:r}=i;if(!Object(_s.a)(r))return!1;const{misc:n}=r;if(!Object(_s.a)(n))return!1;const{layout_type:a}=n;return"clickable_video"===a}function xe(e){let t;try{t=JSON.parse(e)}catch(u){throw new is.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!Object(_s.a)(t))throw new is.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i}=t;if(!Object(ls.a)(i)||0===i.length)return{url:Du,isNonLinear:!1,adFormatType:"motion",isOldVastFormat:!0};const[r]=i;if(!je(r))throw new is.a({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const n=function(e){const{type:t}=e;return t===Su.Motion?"MotionTGO":t===Su.VpaidCreative?"ThemeEmpty":void 0}(r);if(n)return{url:Eu[n],isNonLinear:!1,adFormatType:Iu[n],isOldVastFormat:!1};const{theme:a}=t,o=Object(Dl.a)(a),s="video-banner_theme_empty"===a,d="video-banner_survey"===a,l="video-banner_interactive-viewer"===a,c={url:yu,isNonLinear:!1,adFormatType:"interactiveViewer",isOldVastFormat:Fc(i,e=>e.url!==Cu.url)};if(l)return c;if(Me(a,t))return{url:Bu,isNonLinear:!1,adFormatType:"clickableVideo",isOldVastFormat:!0};if(o){const e=(()=>{switch(!0){case s:return"themeEmpty";case d:return"survey";default:return"vpaidCreative"}})();return{url:s||d?Bu:Lu,isNonLinear:!1,adFormatType:e,isOldVastFormat:!0}}return rs.c.event({name:"DetectInteractiveViewerAsDefault",probability:ts.a,data:{adParametersObject:t}}),c}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Xe(e){const{adParametersObject:t,description:i}=e;if(!Object(_s.a)(t))throw new is.a({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:r,interactiveElements:n,mediaFiles:a}=t,o=Ye(t,["tickerData","interactiveElements","mediaFiles"]),s=r&&r.isVisible&&Object(Dl.a)(r.text),d=Array.isArray(n)&&n.length>0,l=!s&&!d;const c=Ge({},o,{adParameters:{description:i,tickerData:r,interactiveElements:n},mediaFiles:!("DO_NOT_LOAD"===xu.a.getFlagValueAndActivateTestId("IV_CONCEALED_ANIMATION_LOADING_POLICY"))||!l?[...a,Cu]:a});return Ge({},e,{mediaFiles:[Hu],adParametersObject:c,adParameters:JSON.stringify(c)})}function qe(e){const{adParametersObject:t}=e;if(!Object(_s.a)(t))throw new is.a({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_DOMAIN:n,HAS_AGE:a,HAS_LEGAL:o,LEGAL_TEXT:s}=t,d=Ge({},Ye(t,["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"]),{adParameters:Ge({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:n}:{},"HAS_AGE"in t?{HAS_AGE:a}:{},"HAS_LEGAL"in t?{HAS_LEGAL:o}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[Wu]});return Ge({},e,{mediaFiles:[Hu],adParametersObject:d,adParameters:JSON.stringify(d)})}function Ke(e){var t;const{adParametersObject:i}=e;if(!Object(_s.a)(i))throw new is.a({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const r=[];"TRUE"!==Rs.a.getFlagValueAndActivateTestId("ENABLE_SKIN_THEME_EMPTY")&&r.push(Gu),r.push(...null!==(t=i.mediaFiles)&&void 0!==t?t:[]);const n=Ge({},i,{mediaFiles:r,adParameters:Ge({},i),adCreativeConversionType:"theme-empty"}),{duration:a}=i,o=u(a)?a:void 0;return Ge({},e,{mediaFiles:[Hu],adParametersObject:n,adParameters:JSON.stringify(n),durationLimit:o})}function Qe(e){const{adParametersObject:t}=e;if(!Object(_s.a)(t))throw new is.a({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=function(e){if(!Object(_s.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(_s.a)(t))return;const{data_params:i}=t;if(!Object(_s.a)(i))return;const{misc:r}=i;if(!Object(_s.a)(r))return;const{object_id:n}=r;if(!Object(Al.a)(n))return;const a=i[n];if(!Object(_s.a)(a))return;const{click_url:o}=a;if(!Object(_s.a)(o))return;const{action_button:s}=o;return Object(Al.a)(s)?s:void 0}(e.adParametersObject),r=Ge({},e.adParametersObject,{adParameters:e.adParametersObject});return Ge({},e,{mediaFiles:[Hu],adParametersObject:r,adParameters:JSON.stringify(r),playbackAdParameters:Ge({clickThroughUrl:i},t.playbackParameters)})}function Je(e){var t;const{adParametersObject:i}=e;if(!Object(_s.a)(i))throw new is.a({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const r=Ge({},i,{mediaFiles:[zu,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:Ge({},i)}),{duration:n}=i,a=u(n)?n:void 0;return Ge({},e,{mediaFiles:[Hu],adParametersObject:r,adParameters:JSON.stringify(r),durationLimit:a})}function Ze(e){if(void 0===e.mediaFiles[0])return{vastAd:e,reason:void 0};let t;try{t=xe(e.adParameters)}catch(s){return rs.c.event({name:"PrepareYandexVastDetectionError",data:s}),{vastAd:e,reason:void 0}}const i="motion"===t.adFormatType,r="themeEmpty"===t.adFormatType,n="survey"===t.adFormatType,a="interactiveViewer"===t.adFormatType,o="clickableVideo"===t.adFormatType;if(e.adParametersObject){const{theme:t,mediaFiles:r}=e.adParametersObject;a&&t&&rs.c.error({error:new is.a({code:"IV_THEME_SET_IN_AD_PARAMETERS",details:{vastAd:e}})}),i&&Array.isArray(r)&&r.length>0&&rs.c.error({error:new is.a({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:e}})})}if(t.isOldVastFormat&&!_u){if(o)return{vastAd:Qe(e),reason:"ConvertClickableOnlyVideo"};if(r)return{vastAd:Ke(e),reason:"ConvertVideoBannerThemeEmpty"};if(a)return{vastAd:Xe(e),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(i)return{vastAd:qe(e),reason:"ConvertMotionVpaidIntoAdCreative"};if(n)return{vastAd:Je(e),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:e,reason:void 0}}function $e(e){const{adParametersObject:t}=e;return!!t&&Me(t.theme,t)}function et(e){const t=e.split("?")[0].split("#")[0];return Object(al.a)(ju,t)}function tt(e){let{mediaFiles:t,adParametersObject:i}=e;if((null===i||void 0===i?void 0:i.theme)===Xu)return!0;const[r]=t;return void 0!==r&&function(e){const t=e.split("?")[0].split("#")[0];return Object(al.a)(Yu,t)}(r.url)}function it(e){const{adParametersObject:t}=e;return(null===t||void 0===t?void 0:t.theme)===Ku&&qu(e)}function rt(e){return u(e)&&function(e){return c(e)&&Math.floor(e)===e}(e)}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ot(e){return new Promise((t,i)=>{Object(Ch.a)(at({},e,{onSuccess:t,onError:i}))})}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function dt(e,t){jh.ya||(jh.ya={}),jh.ya.isDeploying=!0,function e(t,i){const r=i.split(".");let n=window;for(let o=0;o<r.length-1;o++)n=n[r[o]];const a=r[r.length-1];if(void 0===n[a])n[a]=t;else if("object"===typeof n[a])for(const o in t)t.hasOwnProperty(o)&&e(t[o],i+"."+o)}(e,t),delete jh.ya.isDeploying}function lt(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function ct(e){if(!Object(_s.a)(e))return;const t={},i=["string","number","boolean"];for(const r in e)e.hasOwnProperty(r)&&i.indexOf(typeof e[r])>=0&&(t[r]=e[r]);return t}function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ht(e){return"number"===typeof e.repeatNumber}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function At(e){const{adBreak:t}=e;return Object(Ds.a)(Cs.a)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:r}=t;return s(r)?v({url:Object(ps.b)(r,Hh(e)),options:i,win:window}):r}(e)}function mt(e){const{text:t,textColor:i,isVisible:r}=e||Xh;return{text:Object(Dl.a)(t)?t:Xh.text,textColor:i||Xh.textColor,isVisible:"boolean"===typeof r?r:Xh.isVisible}}function vt(e){const t=[];if(!Array.isArray(e))throw new is.a({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new is.a({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=Object(Xd.a)(e,je);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new is.a({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const r=[],n=[],a=[];let o;if(Object(ds.a)(i,e=>{const{type:t}=e;switch(t){case Su.Overlay:r.push(e);break;case Su.Motion:case Su.VpaidCreative:case Su.Survey:n.push(e);break;default:a.push(e)}}),r.length>0){if(i.length>1)throw new is.a({code:"OVERLAY_HAS_TOO_MANY_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=r[0]}else{if(n.length>1)throw new is.a({code:"LINEAR_AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=n[0]}return{errorCodes:t,videoMediaFiles:a,animationMediaFile:o}}function ft(e){const t=[];let i={};if("string"!==typeof e)throw new is.a({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(h){throw new is.a(h,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}if(!Object(_s.a)(i))throw new is.a({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:r,adParameters:n,interactiveElements:a=[],mediaFiles:o}=i,{errorCodes:s,animationMediaFile:d,videoMediaFiles:l}=vt(o),c=Object(os.a)(s,t=>new is.a({code:t,details:{adParametersString:e}}));return t.push(...c),{raw:i,parsed:{tickerData:mt(r),animationMediaFile:d,videoMediaFiles:l,adParameters:(u=n,"string"===typeof u?u:Object(_s.a)(u)?me(u):void 0),interactiveElements:a},errors:t};var u}function gt(e){for(const{width:t,height:i}of e){const e=Number(t),r=Number(i);if(u(e)&&u(r))return{width:e,height:r}}}function bt(e){let{type:t}=e;return Fu.indexOf(t)>-1?"js":"video"}function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function _t(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=Object(Xd.a)(i,e=>"video"===bt(e)||s(e.url))),i=Object(os.a)(i,e=>"video"!==bt(e)?e:Qh(e))}function Ot(e,t){return Object(Jh.a)(_t(e,t),e=>"js"===bt(e))}function Et(e){let{url:t}=e;return t===Ou}function St(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&Et(r)}function Tt(e){let{adParametersObject:t}=e;const i=null===t||void 0===t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return Object(_s.a)(r)&&r.url===Wu.url}function wt(e,t,i){return e>i?i:e<t?t:e}function Pt(e){let{animationMediaFile:t,win:i}=e;const{url:r}=t,n=Pu[r];if(void 0!==n){0;let e=ns.a;const t=new Promise((t,r)=>{e=Object(Vh.b)({moduleName:n,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{r(e)},win:i,timeout:Vh.a})});return{teardown:e,promise:t}}const{promise:a,teardown:o}=Object(ip.a)({src:r,win:i});return{promise:a.then(()=>i.initAdCreative),teardown:o}}function Ct(e){let t;try{t=e.devicePixelRatio}catch(i){}return u(t)?t:1}function It(e){if(!Object(Dl.a)(e))return;return e.split(",")[0].trim()}function Nt(e){return 0===e.indexOf("avc1.")}function Dt(e){return 0===e.indexOf("hvc1.")}function Rt(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}function kt(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}function Vt(e){return pp.indexOf(e.toLowerCase())>-1}function jt(e){return"number"===typeof e&&e>0}function Lt(e){const{minBitrate:t,maxBitrate:i}=e;return jt(t)&&jt(i)}function Bt(e,t){return t.enableMediaFilesWithMseFilterUnderAbdOnly&&t.isVideoADB?"canPlayMseForAbd"===e.mseAvailability?0:1:0}function Mt(e,t){let{desiredBitrate:i}=t;if(function(e){return Vt(e.type)&&Fc(Ap,t=>!jt(e[t]))}(e))return 0;if(Lt(e)){const{minBitrate:t,maxBitrate:r}=e;return i<t?t-i:i>r?i-r:0}const{bitrate:r}=e;return u(r)?Math.abs(r-i):mp}function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ft(e,t){const i=Object(os.a)(e,e=>{let{bitrate:t}=e;return xt({},function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["bitrate"]),{bitrate:u(t)?t:mp})}),r=Object(os.a)(i,e=>{return xt({},e,{prioritySolution:Mt(e,{desiredBitrate:t.desiredBitrate})+Bt(e,t)})});let n=[...r].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});const a=Lt(n[0])?wt(t.desiredBitrate,n[0].minBitrate,n[0].maxBitrate):n[0].bitrate;return n=[...r].sort((e,t)=>e.bitrate<=a&&t.bitrate<=a?t.height-e.height:e.prioritySolution-t.prioritySolution),r}function Ut(e){let{slotSize:t,videoSlotSize:i,videoContentSize:r}=e;const n=void 0===r?t.width/t.height:r.width/r.height,a=i.width/i.height>n,o=a?i.height*n:i.width/n,s=a?i.height:i.width,d={width:a?o:s,height:a?s:o},l=Math.min(t.width,d.width)/Math.min(t.height,d.height),c=t.width/t.height>l;return{adjacentSize:c?t.height*l:t.width/l,innerSize:c?t.height:t.width,extraHorizontalSpace:c}}function Ht(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!i)return gp;if(void 0===i.width&&void 0===i.height)return gp;const{innerSize:n,adjacentSize:a,extraHorizontalSpace:o}=Ut({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=n/(a/(o?t.width:t.height)),d=n/(1-r);return{multiplier:Math.min(s,d)/n,isVertical:o}}function Wt(e){let{videoContentSize:t,slotSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!t)return{reason:"unknownVideoContentSize",value:Ps.videoPixelRatio};let{width:n,height:a}=t;if(Object(Al.a)(n)&&(n=Number(n),yp()),Object(Al.a)(a)&&(a=Number(a),yp()),!c(n)||!c(a))return{reason:"hasIncorrectWidthAndOrHeight",value:bp};if(n<0||a<0)return{reason:"incorrect",value:Ps.videoPixelRatio};if(0===a||0===i.height)return{reason:"incorrect",value:Ps.videoPixelRatio};if(0===n||0===i.width)return{reason:"incorrect",value:Ps.videoPixelRatio};const o=n/a;return{reason:"normal",value:(i.width/i.height>o?a/i.height:n/i.width)/(r?Ht({slotSize:i,adContentSize:t,allowedToHideVideoSlotAreaPortion:r}).multiplier:1)}}function zt(e,t){const i=pc(e);return Object(al.a)(t,i)?i:void 0}function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Yt(e,t){if(0===e.length)return[];const i=Object(os.a)(e,i=>{if(!Boolean(i))throw new is.a({code:"CANNOT_PRIORITISE_INVALID_MEDIA_FILE",details:{mediaFiles:e,opts:t}});const{value:r,reason:n}=Wt({videoContentSize:i,slotSize:t.container,allowedToHideVideoSlotAreaPortion:t.allowedToHideVideoSlotAreaPortion}),{type:a,bitrate:o}=i,s=fp*function(e){let{type:t,mediaFileTypePriorities:{webm:i,mp4:r,unknown:n,unset:a}}=e;if(!Object(Dl.a)(t))return a;const o=t.toLowerCase();return o===Ip?i:o===Dp?r:n}({type:a,mediaFileTypePriorities:t.mediaFileTypePriorities});let d=2e4;u(o)&&(d=o);const l=t.bitratePriorityFactor*d;return{videoPixelRatio:r,videoPixelRatioReason:n,videoPixelRatioDistance:function(e){const t=Ct(window);let i=e-Cp;if("DIVISION"===_p)i=e/t-Pp;else if("SUBTRACTION"===_p){i=e-((t-1)*("undefined"===typeof Op?1:Op)+1)}return 0===i?0:i<0?-i:i*wp}(r),bitratePrioritySolution:l,mediaFileTypePrioritySolution:s,adbCompatibilitySolution:Bt(i,t)}}),r=Object(os.a)(i,(t,i)=>{const{videoPixelRatioDistance:r,bitratePrioritySolution:n,mediaFileTypePrioritySolution:a,adbCompatibilitySolution:o}=t,s=r+n+a+o;return{mediaFile:e[i],prioritySolutionFactors:t,prioritySolution:s}});return Object(os.a)(r,e=>Gt({},e.mediaFile,e.prioritySolutionFactors,{prioritySolution:e.prioritySolution}))}function Xt(e){let{mediaFile:t,abFlags:{enableVp9:i,enableH265:r,disable144p:n}}=e;const a=It(t.codec);if(Object(Dl.a)(a)){if(n&&144===function(e){let{width:t,height:i}=e;if(u(t)&&u(i))return Math.min(t,i)}(t))return"quality144pIsDisabled";if(Nt(a)){const e=a.substr(5,2);if(Fp.indexOf(e)<0)return"unsupportedAvcPP";const t=a.substr(9,2);return Up.indexOf(t)<0?"unsupportedAvcLL":void 0}if(!Rt(a))return function(e){return 0===e.indexOf("hev1.")}(a)||Dt(a)?r?void 0:"h265CodecIsDisabled":kt(a)?i?void 0:"vp9CodecIsDisabled":"unsupportedVideoCodec"}}function qt(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&Object(Ds.a)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&Object(Ds.a)(t.prototype.appendBuffer)&&Object(Ds.a)(t.prototype.remove))}(e)?t:void 0}function Kt(e){return Yp||qp?!Yp&&qp?"noMse":Yp&&!qp?"noFetch":Object(Al.a)(e.type)?-1===e.type.toLowerCase().indexOf(Ip)?"isNotWebm":Gp?Xp?"canPlayMseForAbd":"isNotAbd":"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Zt(e){if(!Array.isArray(e))return[];return Object(os.a)(e,e=>{const t=function(e){if(!Object(_s.a)(e))return{validationType:"invalidObject"};const{type:t,codec:i,url:r,width:n,height:a,bitrate:o,maxBitrate:s,minBitrate:d,vmafAvg:l}=e,c={type:t,codec:i,url:r,width:n,height:a,bitrate:o,maxBitrate:s,minBitrate:d,vmafAvg:l};return void 0===d&&void 0===s||(!u(d)||!u(s)||d>=s)&&(Qp(c),c.minBitrate=void 0,c.maxBitrate=void 0),"string"!==typeof r?Qt({},c,{validationType:"invalidUrl"}):r.trim()?"string"!==typeof t?Qt({},c,{validationType:"invalidType"}):t.trim()?Qt({},c,{validationType:"correct"}):Qt({},c,{validationType:"emptyType"}):Qt({},c,{validationType:"emptyUrl"})}(e),i=Kt(t);return Jt({},t,{playability:function(e){if(!Object(Al.a)(e.type))return"noType";if(e.type===Ip&&Rp.a)return"cannotPlayWebmDueToMacOSLimitations";if(!jp(xp(e)))return"cannotPlay";const t=Xt({mediaFile:e,abFlags:{enableH265:!0===Bp,enableVp9:!0===Mp,disable144p:!0===Lp}});return t||"canPlay"}(t),mseAvailability:i})})}function $t(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function ei(){return(ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ti(e,t,i){const r=Date.now(),n=Zt(e);let a,o,s,d;if(u(t.desiredBitrate)){a=Ft(n,t),o="desiredBitrate"}else{a=Yt(n,t),o="videoPixelRatio"}if(Zh){const[e,t]=V(a,e=>{let{validationType:t,playability:i,mseAvailability:r}=e;return"correct"===t&&"canPlay"===i});s=e,d=t}else{const[e,t]=V(a,e=>{let{validationType:t,playability:i,mseAvailability:r}=e;return"correct"===t&&"canPlay"===i&&"canPlayMseForAbd"===r});if(e.length>0)s=e,d=t;else{const[e,t]=V(a,e=>{let{validationType:t,playability:i}=e;return"correct"===t&&"canPlay"===i});s=e,d=t}}const l=function(e,t,i){if(e.length<1)return;let[r]=e,n=t(r);for(let a=1;a<e.length;a++){const o=e[a],s=t(o);i(s,n)<0&&(r=o,n=s)}return r}(s,e=>{let{prioritySolution:t}=e;return t},(e,t)=>e-t);let c,h;Object(as.a)("prioritisedMediaFiles=["+JSON.stringify(a)+"]"),Object(as.a)("filteredOutMediaFiles=["+JSON.stringify(d)+"]"),l&&(c=It(l.codec),h=l.type.split("/")[1]);const p={codecVp8:0,codecVp9:0,codecAvc:0,codecHvc:0,codecUnknown:0};Object(Dl.a)(c)?Rt(c)?p.codecVp8=1:kt(c)?p.codecVp9=1:Nt(c)?p.codecAvc=1:Dt(c)?p.codecHvc=1:p.codecUnknown=1:p.codecUnknown=1;const A={typeWebm:0,typeMp4:0,typeM3u8:0,typeUnknown:0};Object(Dl.a)(h)?"webm"===h?A.typeWebm=1:"mp4"===h?A.typeMp4=1:"m3u8"===h?A.typeM3u8=1:A.typeUnknown=1:A.typeUnknown=1;const m={desiredBitrate:0,videoPixelRatio:0};for(const u of Object(Bd.a)(m))if(o===u){m[u]=1;break}const{adBreak:v,adPodId:f,initiator:g}=i;return rs.c.values({name:"PrioritiseMediaFiles",data:{adBreak:v,adPodId:f,initiator:g,input:ei({mediaFiles:Object(os.a)(e,e=>Object(_s.a)(e)?ei({},e):e)},t,{dpr:Ct(window)}),output:{filteredOutMediaFiles:rc(d),mediaFiles:rc(a),mediaFile:l?ei({},l):void 0,methodType:o}},labels:{},values:ei({timeSpent:Date.now()-r},m,A,p)}),{validatedMediaFiles:Object(os.a)(s,e=>{if("videoPixelRatio"===o){return $t(e,["prioritySolution","videoPixelRatio","videoPixelRatioReason"])}return $t(e,["prioritySolution"])}),prioritisedMediaFiles:a,prioritisedMediaFile:l}}function ii(e){let{scope:t,errorType:i,error:r,details:n}=e;return new is.a(r,{code:Jp(t,i),details:n})}function ri(e,t){const i=[];i.push(Object(ss.a)({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{})}})),i.push(Object(ss.a)({element:e,eventName:"error",listener:(e,i,r,n,a)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:r,column:n,error:a,filename:null===e||void 0===e?void 0:e.filename,message:null===e||void 0===e?void 0:e.message})}})),i.push(Object(ss.a)({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const n=new Zp({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:n}=e,a=new Error;0===r.length&&0===n.length&&t(a,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Object(ds.a)(Object(dh.a)({reports:r,records:n}),e=>{let[r,n]=e;return Object(ds.a)(n,e=>{t(a,function(e){if(!Object(_s.a)(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!Object(Dl.a)(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(Object(_s.a)(i)&&Object(Dl.a)(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})})})}});return i.push(()=>{n.destroy()}),()=>r(i)}function ni(e,t){return ri(e,(e,i,r)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=r;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(rs.b)>-1)return}}t(e,i,r)})}function ai(e){return 0===tA.length&&(eA=window.setInterval(()=>{tA.forEach(e=>e())},$p)),tA.push(e),()=>{const t=tA.indexOf(e);t>-1&&tA.splice(t,1),0===tA.length&&clearInterval(eA)}}function oi(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&T(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;Object(es.a)(i)}function si(){return(si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function di(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function li(e){if(aA.a&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}}function ci(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&(!!i||Et(r))}function ui(){return(ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function hi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pi(){return(pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ai(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function mi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fi(e){return[...e].sort((e,t)=>{const i=e.vastAd.sequence,r=t.vastAd.sequence;return i===r?0:i===sc?1:r===sc?-1:i-r})}function gi(e){return"overlay"===e.adType||"inroll-overlay"===e.adType}function bi(){return(bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function yi(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:n},isAdFox:a,url:d,adPlacementOptions:l,adConfig:c}=e;return{adPlacementOptions:l,vastSourceType:t=a||d&&o(d)?"AD_FOX":d&&s(d)?"YANDEX":"EXTERNAL",vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:n,requestMethod:Yc({secureMode:c.secureMode,url:d})?"VASFrame":"XMLHttpRequest"}}function _i(e){let{adConfig:t,adBreak:i,adPlacementOptions:r,win:n}=e;const a=i.adFoxParameters||t.adFoxParameters;if(a)return async function(e){return new Au(e).loadVastPromise}({adConfig:bi({},t,{adFoxParameters:a}),adBreak:i,adPlacementOptions:r});const{loadHarmlessVastCallback:o}=t,s=t.hasOwnProperty("vast")?t.vast:void 0,d=i.inlineVast,l=null!==s&&void 0!==s?s:d,c=yi({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:r});if(l)return Nc({xmlString:l,loadParameters:c,vastUrl:void 0}).then(e=>(o&&0===e.children.length&&o({adPods:Object(os.a)(e.ads,e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}})}),e));const u=t.vastUrl?t.vastUrl:At({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:r,win:n});return Lc({url:u,loadParameters:yi({adConfig:t,adBreak:i,isAdFox:!1,url:u,adPlacementOptions:r})})}async function Oi(e){const{adConfig:t,adBreak:i}=e;let r;try{r=await _i(e)}catch(d){throw d.details||(d.details={}),d.details.adConfig=t,g(d),d}const n=[];for(const l of r.ads)try{var a;const e=l.mediaFiles[0],t=null!==(a=null===e||void 0===e?void 0:e.url)&&void 0!==a?a:"",i=t.split("?")[0].split("#")[0]===yu||et(t)||it(l)||$e(l)||tt(l);if(Boolean(e)&&i){const{vastAd:e,reason:t}=Ze(l);t&&rs.c.event({name:t,data:{previous:l,next:e},probability:ts.a}),n.push(e)}else n.push(l)}catch(d){rs.c.error({error:d})}r.children.length>0&&rs.c.event({name:"WrapperVASTLoaded",data:{vast:r}});const o=Object(os.a)(n,e=>(e.vast=r,new mA(i,e,t))),s=fi(function(e,t,i){const r=gi(i);return Object(Xd.a)(e,e=>{const{isNonLinear:n}=e.vastAd;return n===r||(e.trackError(new is.a({code:n?"CANNOT_PLAY_NONLINEAR_IN_LINEAR_AD_BREAK":"CANNOT_PLAY_LINEAR_IN_NONLINEAR_AD_BREAK",details:{adConfig:t,adBreak:i}})),!1)})}(o,t,i));if(0===s.length)throw new is.a({code:"NO_AD_SECTION",details:void 0});if(Object(Xd.a)(s,e=>e.hasMediaFiles()).length>0)return{mediaAds:s,vast:r};if(function(e){return ms(e,e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length)}(s)){const e=Kd(Object(os.a)(o,e=>e.vastAd.mediaFiles));throw new is.a({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new is.a({code:"NO_AD_TO_DISPLAY",details:void 0})}function Ei(e,t){return Object(Xd.a)(e,e=>e.adType===t)}function Si(e,t){const i=_(t,(t,i)=>e.style[i]);return S(e,t),Object(od.a)(()=>{S(e,i)})}function Ti(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function wi(e){const t=e.getRootNode;if(Object(Ds.a)(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function Pi(e){return!!e&&"ShadowRoot"===Object(Vd.a)(e)}function Ci(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=wi(i);if(!Pi(e)||!vA(e.host))return!1;i=e.host}return!1}function Ii(e,t){const i={};return Object(Bd.a)(t).forEach(t=>{i[t]=e.getAttribute(t)}),T(e,t),Object(od.a)(()=>{T(e,i)})}function Ni(e){e&&"function"===typeof e.catch&&e.catch(e=>void 0)}function Di(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&Object(gs.a)(i)?i:void 0}function Ri(e){if(!Vp)return Promise.reject();const t=(i=e.play)[SA]||i;var i;if(Object(gs.a)(t))return t.call(e);const r=Di("HTMLVideoElement")||Di("HTMLMediaElement");if(r)return r.call(e);const n=document.createElement("div");n.style.display="none",document.body.appendChild(n);const a=Di("HTMLMediaElement",Object(EA.a)(n).contentWindow);if(a){const t=a.call(e);return Object(es.a)(n),t}return e.play()}function ki(e,t,i,r){const n=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(r),a=BA.a?n:n.capture,o=n.once&&!BA.b?function(e){s(),i.call(this,e)}:i,s=()=>{Object(LA.b)(e,t,o,a)};return Object(LA.a)(e,t,o,a),s}function Vi(e,t){void 0===t&&(t={});let i=0;const r=[],n=(t,n)=>{r.push(ki(e,t,n,xA)),clearTimeout(i)},a=()=>Object(MA.a)(r),o=new Promise((r,a)=>{const o=t=>{e.paused&&a(t)},s=Ri(e);if(o(jA.VideoTagPaused),n("durationchange",()=>o(jA.VideoTagPausedAfterDurationChange)),n("error",()=>o(jA.VideoTagPausedAfterError)),n("pause",()=>a(jA.PauseEvent)),n("playing",()=>{r(jA.PlayingEvent)}),s)t.useProgressEvent&&n("progress",()=>{r(jA.ProgressEvent)}),s.then(()=>r(jA.PromiseResolve)).catch(e=>a(function(e){return e?jA.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":jA.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout(()=>{a(jA.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(a,a),o}function ji(e,t){const{paused:i}=e,r=t();return i||Ni(Ri(e)),r}function Li(){return(Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Bi(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:r}}function Mi(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=TA(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),Bi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:NA.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),Bi({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:NA.YaBroAllowedToPlay})):(t(),Bi({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:NA.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),VA(e))return Bi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:NA.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const i=function(e){if(void 0===e&&(e=window),IA(e))return Bi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:NA.OrsaySmartTV})}();if(void 0!==i)return Promise.resolve(i);const r=function(e){if(void 0===e&&(e=window),DA(e))return Bi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:NA.PlayStationSmartTV})}();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(Li({},WA,{detectionMethod:NA.TizenAVPlay}));const n=function(e){if(void 0===e&&(e=window),RA(e))return kA(e)?Bi({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:NA.Tizen23SmartTV}):Bi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:NA.TizenSmartTVModern})}();return void 0!==n?Promise.resolve(n):yA&&bA<=9||FA?Promise.resolve(Li({},HA,{detectionMethod:NA.IOS9OrLess})):Vp?UA?Promise.resolve(Li({},WA,{detectionMethod:NA.OldIE})):void 0:Promise.resolve(Li({},HA,{detectionMethod:NA.HTML5VideoIsNotSupported}))}function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fi(e){return void 0===e&&(e=""),e.replace(im,e=>e in rm?rm[e]:e)}function Ui(e){var t;const{AUCTION_DC_PARAMS:i}=e;if(!Object(_s.a)(i)||!Object(_s.a)(i.data_params))return;const r=am(i.data_params);if(!Object(_s.a)(r))return;let n=null===(t=r.click_url)||void 0===t?void 0:t.action_button;const a=Rs.a.getFlagValueAndActivateTestId("CHANGE_CLICK_THROUGH_LOGIC");var o,s;if("ACTION_BUTTON_PRIORITY"===a)n=(null===(o=r.click_url)||void 0===o?void 0:o.action_button)||(null===(s=r.click_url)||void 0===s?void 0:s.text_name);else if("TEXT_NAME_PRIORITY"===a){var d,l;n=(null===(d=r.click_url)||void 0===d?void 0:d.text_name)||(null===(l=r.click_url)||void 0===l?void 0:l.action_button)}return Object(Dl.a)(n)?n:void 0}function Hi(e){return!Object(Bd.a)(e).length}function Wi(e){if(!Object(_s.a)(e))return[];const{AUCTION_DC_PARAMS:t}=e;if(!Object(_s.a)(t)||!Object(_s.a)(t.data_params))return[];const i=am(t.data_params);if(!Object(_s.a)(i)||!Object(_s.a)(i.text))return[];const r=i.text,n=i.unmoderated||r.unmoderated||{};return sm(n.images)}function zi(e){const{AUCTION_DC_PARAMS:t}=e;if(!Object(_s.a)(t)||!Object(_s.a)(t.data_params))return;const i=am(t.data_params);if(!Object(_s.a)(i))return;const r=i.target_url;return Object(Dl.a)(r)?r:void 0}function Gi(e){var t,i;if(!Object(_s.a)(e))throw new is.a({code:"CANNOT_PARSE_DISCLAIMERS_FROM_AD_PARAMETERS",details:{adParametersJson:e}});const{AUCTION_DC_PARAMS:r,LEGAL_TEXT:n,HAS_LEGAL:a}=e,o=am(null!==(t=null===r||void 0===r?void 0:r.data_params)&&void 0!==t?t:{}),{warning:s,dynamic_disclaimer:d,banner_flags:l}=null!==(i=null===o||void 0===o?void 0:o.text)&&void 0!==i?i:{},c=null!==l&&void 0!==l?l:[],u=Object(al.a)(c,"medicine"),h=Object(al.a)(c,"dietarysuppl"),p=Object(al.a)(c,"distance_sales"),A=a&&(null===n||void 0===n?void 0:n.trim())&&n,m=Object(Dl.a)(s)&&"1"===d?s:void 0;return(a||Object(Dl.a)(A)||Object(Dl.a)(m)||u||h||p)&&dm({HAS_LEGAL:a,LEGAL_TEXT:n,dynamic_disclaimer:d,warning:s,hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p}),{hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p,legalInfoText:A||m||void 0}}function Yi(){const e=rc(_c);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const n=Object(Xd.a)(i,e=>Boolean(e));return Object(qd.a)(n,(e,t)=>(function(e,t){const i=rc(_c);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility;for(const r of bm)!1===i.visibility?i.controlsVisibility[r]=!1:"boolean"===typeof t.controlsVisibility[r]?i.controlsVisibility[r]=t.controlsVisibility[r]:i.controlsVisibility[r]=e.controlsVisibility[r];return i})(e,t),e)}function Xi(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return Object(_s.a)(t)&&Object(Dl.a)(t[Hd])?t[Hd]:Object(Dl.a)(i)?i:void 0}function qi(e){const t=e.packshot_duration;if(!u(t))return;const i=e.PACKSHOT_IMAGE_URL;if(!Object(Dl.a)(i))return;const r=Ui(e);return void 0!==r?{packshotDuration:t,packshotImageUrl:i,packshotActionButtonClickUrl:r,packshotButtonText:Xi(e)}:void 0}function Ki(e){const{imhoParams:t,isNonLinear:i}=e;if(i)return!1;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&et(i.url)}(e))return!1;if(tt(e))return!1;if(ci(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=Object(Td.a)(()=>vt(t.mediaFiles));if(!i)return!1;if(0===i.videoMediaFiles.length)return!1}return t?t.showSoundButton:Om}function Qi(e){if(tt(e))return!1}function Ji(e){const{imhoParams:t,playbackAdParameters:i}=e,r={controlsVisibility:{adLabel:null===t||void 0===t?void 0:t.showLabel,mute:Ki(e),skip:_m,play:Qi(e)}};let n;return i&&(n=i.controlsSettings),Yi(r,n)}function Zi(e){let{playbackParameters:t,vastAd:i,adBreak:r}=e;const n=Yi(Ji(i),t.controlsSettings),{skipDelay:a,eventName:o}=function(e){let{vastAd:t}=e;const{skipTime:i,skipOffset:r,playbackAdParameters:n}=t;return n&&c(n.skipDelay)?{skipDelay:n.skipDelay,eventName:void 0}:c(r)?c(i)?{skipDelay:i,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:r,eventName:void 0}:{skipDelay:ym,eventName:void 0}}({vastAd:i});let s,d=a;if(u(a)){const e=xu.a.getFlagValueAndActivateTestId("VAS_SKIP_DELAY_SHIFT");if(e){const t=Number(e);c(t)&&(d+=t)}}void 0!==o&&rs.c.event({name:o,probability:ts.a,data:void 0}),!0===t.backgroundBlur?s="blur":i.backgroundColor?s={color:i.backgroundColor}:!0===i.backgroundBlur&&!1!==t.backgroundBlur&&(s="blur");const l=!1===t.packshotSettings.isEnabled,h=Object(_s.a)(i.adParametersObject)&&!l?qi(i.adParametersObject):void 0;let p,A;var m,v;(p=!0===t.showGuiForVpaid||(Boolean(i.imhoParams)||St(i)),"number"===typeof t.bufferFullTimeout)?A=t.bufferFullTimeout:A=null!==(m=null===(v=i.playbackAdParameters)||void 0===v?void 0:v.bufferFullTimeout)&&void 0!==m?m:r.bufferFullTimeout;let f;var g,b;u(t.bufferEmptyLimit)?f=t.bufferEmptyLimit:f=null!==(g=null===(b=i.playbackAdParameters)||void 0===b?void 0:b.bufferEmptyLimit)&&void 0!==g?g:r.bufferEmptyLimit;let y;var _,O;u(t.videoTimeout)?y=t.videoTimeout:y=null!==(_=null===(O=i.playbackAdParameters)||void 0===O?void 0:O.videoTimeout)&&void 0!==_?_:r.videoTimeout;const E=u(t.vpaidTimeout)?t.vpaidTimeout:r.vpaidTimeout,S=i.adParametersObject?Ui(i.adParametersObject):void 0,T="string"===typeof t.clickThroughUrl||i.isClickable&&Object(Dl.a)(i.clickThrough)||Object(Dl.a)(S);return{controlsSettings:n,background:s,showGuiForVpaid:p,skipDelay:"number"===typeof t.skipDelay?t.skipDelay:d,bufferFullTimeout:A,bufferEmptyLimit:f,videoTimeout:y,vpaidTimeout:E,clickThroughUrl:Object(Dl.a)(t.clickThroughUrl)?t.clickThroughUrl:Object(Dl.a)(i.clickThrough)?i.clickThrough:Object(Dl.a)(S)?S:"",isClickable:T,packshotParameters:h}}function $i(e){if("error"===e.reason)return e.details}function er(e){var t,i,r,n,a,o,s,d;const l=null!==(t=null!==(i=null!==(r=null!==(n=e.requestAnimationFrame)&&void 0!==n?n:e.mozRequestAnimationFrame)&&void 0!==r?r:e.webkitRequestAnimationFrame)&&void 0!==i?i:e.msRequestAnimationFrame)&&void 0!==t?t:t=>e.setTimeout(t,Em),c=null!==(a=null!==(o=null!==(s=null!==(d=e.cancelAnimationFrame)&&void 0!==d?d:e.mozCancelAnimationFrame)&&void 0!==s?s:e.webkitCancelAnimationFrame)&&void 0!==o?o:e.msCancelAnimationFrame)&&void 0!==a?a:t=>e.clearTimeout(t);return{requestAnimationFrame:l.bind(e),cancelAnimationFrame:c.bind(e)}}function tr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ir(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function nr(e,t,i){const n=()=>Object(os.a)(e,e=>e.getValue());let a=t(...n());i(a);const o=()=>{const e=t(...n());a!==e&&(a=e,i(e))},s=Object(os.a)(e,e=>e.add(o));return()=>{r(s)}}function ar(e){return!!Object(_s.a)(e)&&vA(e)}function or(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:r}=e;if(!u(i))return ns.a;let n=0;const a=t.onBufferingAfterPlay.add(()=>{n++,Object(as.a)("bufferEmptyCount=["+n+"] limit=["+i+"]"),n<=i||(a(),r())});return a}function sr(e){let{videoNodeController:t,bufferFullTimeout:i,callback:r}=e,n=ns.a;const a=t.isBuffering.add(async e=>{if(n(),!e)return;const{promise:t,clear:o}=Object(Qd.a)(i);n=o,await t,n(),a(),r()});return()=>{n(),a()}}function dr(e,t){const i=Object(ss.a)({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(n(),t())}}),r=Object(ss.a)({element:e,eventName:"playing",listener:()=>{e.duration>0&&(n(),t())}}),n=()=>{i(),r()};return n}function lr(e){function t(){let{duration:e}=i.getCurrentPosition();return u(e)||(e=n()),u(a)?Math.min(e,a):e}let{videoNodeController:i,durationFallback:n,durationLimit:a,callbacks:{AdStarted:o,AdVideoFirstQuartile:s,AdVideoMidpoint:d,AdVideoThirdQuartile:l,AdVideoBeforeComplete:c,AdVideoComplete:h}}=e;const p=Object(cs.a)(s),A=Object(cs.a)(d),m=Object(cs.a)(l),v=Object(cs.a)(c);let f=0;const g=()=>{const e=t();if(!u(e))return;const{currentTime:r}=i.getCurrentPosition(),n=(r-f)/e;n>=.25&&p(),n>=.5&&A(),n>=.75&&m()},b=Object(cs.a)((function(e){void 0===e&&(e={completeOnDurationLimit:!1}),g(),h(e)})),y=[dr(i.videoNode,()=>{f=i.getCurrentPosition().currentTime,o()}),i.currentPosition.add(e=>{let{currentTime:i}=e;const{isBeforeEnd:r,isEnd:n}=function(e){let{currentTime:t,duration:i}=e;return t>=i?{isBeforeEnd:!1,isEnd:!0}:t+Nm>=i?{isBeforeEnd:!0,isEnd:!1}:{isBeforeEnd:!1,isEnd:!1}}({currentTime:i,duration:t()});r&&v(),n&&u(a)&&b({completeOnDurationLimit:!0,durationLimit:a})}),i.currentPosition.add(g),i.onEnd.add(b)];return()=>r(y)}function cr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ur(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hr(e){var t;if(!s(e)&&!o(e)||!Dd.a)return e;const i=Um.a[Um.a.length-1],r=null!==(t=null===i||void 0===i?void 0:i.ownerDocument)&&void 0!==t?t:document;return Object(ps.a)(e,"target_ref",r.referrer)}function pr(e,t){if(e===t)return!0;if(!Object(_s.a)(e)||!Object(_s.a)(t))return!1;if(Object(ls.a)(e)!==Object(ls.a)(t))return!1;const i=Object(Bd.a)(e),r=Object(Bd.a)(t);if(i.length!==r.length)return!1;for(const n of r){if(!(n in e))return!1;if(!pr(e[n],t[n]))return!1}return!0}function Ar(e){return function(e,t){let i=e;return Object(ds.a)(Object(dh.a)(t),r=>{let[n,a]=r;if(void 0===a)return;const o="["+n+"]";if(a!==o)for(;i.indexOf(o)>-1;)Object(ts.e)()&&rs.c.event({name:"ReplaceVastMacro",data:{macroName:n,macroValue:a,stringToReplace:e,macros:t}}),i=i.replace(o,a)}),i}(e,Xm)}function mr(e){let{trackingUrls:t,options:i,sendBeaconParams:r}=e;if(!Array.isArray(t))return;const n=Object(Xd.a)(t,Ie),a=Object(os.a)(n,Ar),o=Object(os.a)(a,e=>v({url:e,options:i,win:window}));Object(ds.a)(o,e=>l(e,r))}function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function fr(e){let{eventName:t,trackingEventDetails:i,trackingUrls:r,options:{devicePixelRatio:n,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoContentSize:c,videoSlotSize:u,videoAvatarSize:h,videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,videoCurrentSrc:f,videoMuted:g,videoVolume:b,bufferingTime:y,bufferingTimeRatio:_,currentTime:O,remainingBufferedTime:E,adBreakType:S,adFormatType:T,isFullscreen:w,adPodId:P},pixelsSource:C}=e;const I=Jm[t],N=void 0===I?1:I+1;Jm[t]=N;const D={videoSlotSize:u,videoContentSize:c,videoAvatarSize:{width:Math.round(h.width),height:Math.round(h.height)},videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,bufferingTime:y,bufferingTimeRatio:_,currentTime:O,remainingBufferedTime:E},R=vr({trackingUrls:r,trackingEventDetails:i,isVisibilityReliable:Rd,counterInBundle:N},D,{devicePixelRatio:n,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoCurrentSrc:f,videoMuted:g,videoVolume:b,adBreakType:S,adFormatType:T,isFullscreen:w,adPodId:P});N===Zm&&rs.c.error({error:new is.a({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:vr({eventName:t,eventTrackingsCounts:Jm},R)})});const k="vast"===C?Qm(t):Km(t);rs.c.event({name:k,probability:Object(al.a)(qm,t)?ts.b:ts.a,data:R,labels:{},queryParams:{"pcode-version":null===sh.b||void 0===sh.b?void 0:sh.b.pcodeVersion,"widget-version":null===sh.b||void 0===sh.b?void 0:sh.b.widgetVersion}})}function gr(){return(gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function br(e){try{Object(as.a)("Track event=["+e.eventName+"]"),fr(e=gr({},e,{options:yr(e.options)})),mr(e)}catch(t){rs.c.error({error:new is.a({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function yr(e){const{size:t,screenSize:i,videoContentSize:r}=e;return gr({},e,{size:_(t,Math.round),screenSize:_(i,Math.round),videoContentSize:r&&_(r,Math.round)})}function _r(e,t){const i=function(e){const t=Object(ev.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Object(ss.a)({element:e,eventName:i,listener:()=>{t(Object($m.a)(e))}}):ns.a}function Or(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Er(){return(Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Sr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function wr(e,t){if(!t)return;if(!function(e){return Object(al.a)(_v,e)}(e))return;const i=Object(Bd.a)(t);for(const r of i){const t=Ov[r][e];rs.c.event({name:t,data:void 0})}}function Pr(e,t){let{width:i,height:r}=e;const n=Object(os.a)([i,r],e=>Math.round(e)),a=Math.min(...n),o=Math.max(...n);return t?a>=wv&&o*a>=Pv:a>=Sv&&o*a>=Tv}function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ir(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Nr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Dr(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return Object(Xd.a)(kv,e=>{let{enabled:i}=e;return i in t})}(e);if(i.length>0)return i[0];const r=function(e,t){var i,r;return void 0===e&&(e=window),void 0===t&&(t=null!==(i=null===(r=e.HTMLVideoElement)||void 0===r?void 0:r.prototype)&&void 0!==i?i:{}),Object(Xd.a)(kv,e=>{let{enabled:i}=e;return i in t})}(e,t);return r.length>0?r[0]:void 0}function Rr(e,t){const i=Dr(e,t);if(!i)return null;let r=e.document[i.element];return t&&t[i.element]&&(r=t),r||null}function kr(e){const{videoWidth:t,videoHeight:i}=e;if(u(t)&&u(i))return{width:t,height:i}}function Vr(e){let{win:t,slotSize:i,slotVisibilityRatio:r,videoSlotSize:n,adPodId:a,videoNode:o,bufferingTime:s,adBreakType:d,adFormatType:l}=e;const h=Rv(t),A=h.width*h.height,m=i.width*i.height,v=0===A?0:m/A,f=Ct(t),g=function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;const r=i.type;if("string"===typeof r||"number"===typeof r)switch(r){case"BLUETOOTH":return 3;case Vv.CELL_2G:return.384;case Vv.CELL_3G:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case Vv.ETHERNET:case"ETHERNET":case Vv.WIFI:case"WIFI":case"MIXED":return 10;case Vv.UNKNOWN:}return-1}(t),b=o?kr(o):Ps.videoContentSize;let y=Ps.videoAvatarSize,_=Ps.videoFramesInfo,O=Ps.videoSrc,E=Ps.videoCurrentSrc,S=Ps.videoMuted,T=Ps.videoVolume,w=Ps.currentTime,P=Ps.bufferingTimeRatio,C=Ps.remainingBufferedTime,I=Ps.isFullscreen;if(o){const{innerSize:e,adjacentSize:r,extraHorizontalSpace:a}=Ut({slotSize:i,videoContentSize:b,videoSlotSize:n});y={width:a?r:e,height:a?e:r},_=p(o),O=o.src,E=o.currentSrc,S=o.muted,T=o.volume;const d=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!c(e.buffered.length)||!Object(Ds.a)(e.buffered.start)||!Object(Ds.a)(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map(e=>{let{start:t,end:i}=e;return{start:t,end:i}}).sort((e,t)=>e.start-t.start),i=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],n=i[i.length-1];n.end<e.start?i.push(e):n.end<e.end&&(n.end=e.end)}return i}(t)}(o);w=o.currentTime;const l=(N=d,D=w,Object(Jh.a)(N,e=>{let{start:t,end:i}=e;return t<=D&&D<=i}));l&&(C=l.end-w),c(w)&&c(s)&&s+w>0&&(P=s/(s+w)),I=function(e,t){const i=Rr(e);return!!i&&i.contains(t)}(t,o)}var N,D;const{value:R}=Wt({videoContentSize:b,slotSize:i});let k=Ps.videoToDevicePixelRatio;return u(R)&&(k=R/f),{visibility:r,size:i,adPodId:a,relativeSizeRatio:v,screenSize:h,devicePixelRatio:f,downlink:g,videoContentSize:b,videoSlotSize:n,videoAvatarSize:y,videoPixelRatio:R,videoToDevicePixelRatio:k,videoFramesInfo:_,videoSrc:O,videoCurrentSrc:E===O?void 0:E,videoMuted:S,videoVolume:T,bufferingTime:s,currentTime:w,bufferingTimeRatio:P,remainingBufferedTime:C,adBreakType:d,adFormatType:l,isFullscreen:I}}function jr(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,n=e.getBoundingClientRect();return{winWidth:Lv?Math.max(r.clientWidth,(null===i||void 0===i?void 0:i.innerWidth)||0):(null===i||void 0===i?void 0:i.innerWidth)||r.clientWidth||t.body.clientWidth,winHeight:Lv?Math.max(r.clientHeight,(null===i||void 0===i?void 0:i.innerHeight)||0):(null===i||void 0===i?void 0:i.innerHeight)||r.clientHeight||t.body.clientHeight,left:n.left,top:n.top,width:n.width,height:n.height}}function Lr(e){let{width:t,height:i,top:r,left:n,winWidth:a,winHeight:o}=e;const s=n+t,d=r+i,l=wt(n,0,a),c=wt(r,0,o);return{winWidth:a,winHeight:o,left:l,top:c,width:wt(s,l,a)-l,height:wt(d,c,o)-c}}function Br(e,t){return e.width*e.height/(t.width*t.height)}function Mr(e){const t=function(e){return[jr(e),...Object(os.a)(Object(jv.a)(e),jr)]}(e);let i=Lr(t[0]),r=Br(i,t[0]);for(let o=1;o<t.length;o++){const e=t[o];r=Br(i=Lr((n=i,{winWidth:(a=e).winWidth,winHeight:a.winHeight,left:n.left+a.left,top:n.top+a.top,width:n.width,height:n.height})),t[0])}var n,a;return r}function xr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Fr(e){return Object(ds.a)(Object(Bd.a)(Av),t=>{const i=Av[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(r){rs.c.error({error:new is.a({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else rs.c.error({error:new is.a({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})}),Object(ds.a)(Object(Bd.a)(mv),t=>{const i=mv[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:r=>{if("function"===typeof e[i])try{return e[i](r)}catch(n){rs.c.error({error:new is.a({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:r}})})}else rs.c.error({error:new is.a({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:r}})})}})}),e}function Ur(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Wr(){return(Wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Gr(){return(Gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Yr(e){return"YandexTestMeasurerVpaidEvent_"+e}function Xr(e,t){const i={};return Object(Bd.a)(e).forEach(r=>{t(e[r],r)&&(i[r]=e[r])}),i}function qr(e){return Array.isArray(e)?Object(Xd.a)(e,e=>"string"===typeof e&&e.length>0):[]}function Kr(e){const t=[];return Object(_s.a)(e)?{measurers:Xr(e,(i,r)=>Object(_s.a)(i)?-1!==sf.indexOf(r)||(t.push(new is.a({code:"UNSUPPORTED_MEASURER",details:{measurerName:r,measurersParameters:e}})),!1):(t.push(new is.a({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:r,measurersParameters:e}})),!1)),errors:t}:(void 0!==e&&t.push(new is.a({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t})}function Qr(){return(Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Jr(e){const t=[],{measurers:i,AUCTION_DC_PARAMS:r}=e;let n={},a={};const{bannerParameters:o,errors:s}=function(e){const t=[];if(!Object(_s.a)(e))return{bannerParameters:void 0,errors:t};const{data_params:i}=e;if(!Object(_s.a)(i))return{bannerParameters:void 0,errors:t};const{misc:r}=i;if(!Object(_s.a)(r))return{bannerParameters:void 0,errors:t};const{object_id:n}=r,a=i[n];return Object(_s.a)(a)?{bannerParameters:a,errors:t}:{bannerParameters:void 0,errors:t}}(r);if(t.push(...s),Object(_s.a)(o)){const{measurers:i,unmoderated:r}=o,{measurers:s,errors:d}=Kr(i);if(t.push(...d),n=s,Object(_s.a)(r)){const{measurers:i}=r;i&&t.push(new is.a({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:n,errors:o}=Kr(i);t.push(...o),a=n}}const{measurers:d,errors:l}=Kr(i);t.push(...l);const c=Object(Bd.a)(a).length>0,u=Object(Bd.a)(n).length>0,h=Object(Bd.a)(d).length>0;return Number(c)+Number(u)+Number(h)>1&&t.push(new is.a({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Qr({},a,n,d),errors:t}}function Zr(e){return Object(_s.a)(e)?_(df,(t,i)=>qr(e[i])):rc(df)}function $r(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!Object(_s.a)(i)&&"sad"===i.sad}function en(e){if(!Object(_s.a)(e))return;const{ids:t,partnerCode:i}=e;return"string"===typeof i?Object(_s.a)(t)?{partnerCode:i,ids:Xr(t,e=>"string"===typeof e)}:{partnerCode:i,ids:{}}:void 0}function tn(e){return e<2?1e3:2===e?3e3:5e3}function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function nn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function an(e,t,i){void 0===i&&(i={});const r=e,{onStop:n=ns.a,onInitMeasurer:a=ns.a,onTrackEvent:o=ns.a,onExecutionError:s=ns.a,onAdError:d=ns.a,onPlayingStateChange:l=ns.a,onSlotHoverStateChange:c=ns.a,onSlotVisibilityStateChange:u=ns.a,onSlotSizeChange:h=ns.a}=i,p=new lf(r,t,{onStop:n,onInitMeasurer:a,onTrackEvent:o,onExecutionError:s,onAdError:d,onPlayingStateChange:l,onSlotVisibilityStateChange:u,onSlotHoverStateChange:c,onSlotSizeChange:h});return{measurableVPAIDCreative:function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:r}=t;const n=_(hv,(e,t)=>{return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i(t,r)}});return Object(ds.a)(Object(Bd.a)(pv),t=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{r(t,e)}})}),n}(r,p),userInteractionDispatchers:p.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:p.vpaidCreativeProxyForMeasurers}}function on(e,t){for(var i in t)e[i]=t[i];return e}function sn(e){var t=e.parentNode;t&&t.removeChild(e)}function dn(e,t,i){var r,n=arguments,a={};for(r in t)"key"!==r&&"ref"!==r&&(a[r]=t[r]);if(arguments.length>3)for(i=[i],r=3;r<arguments.length;r++)i.push(n[r]);if(null!=i&&(a.children=i),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===a[r]&&(a[r]=e.defaultProps[r]);return ln(e,a,t&&t.key,t&&t.ref)}function ln(e,t,i,r){var n={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return mf.vnode&&mf.vnode(n),n}function cn(e){return e.children}function un(e,t){this.props=e,this.context=t}function hn(e,t){if(null==t)return e.__?hn(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?hn(e):null}function pn(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return pn(e)}}function An(e){(!e.__d&&(e.__d=!0)&&1===vf.push(e)||gf!==mf.debounceRendering)&&((gf=mf.debounceRendering)||ff)(mn)}function mn(){var e,t,i,r,n,a,o;for(vf.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=vf.pop();)e.__d&&(i=void 0,r=void 0,a=(n=(t=e).__v).__e,(o=t.__P)&&(i=[],r=yn(o,n,on({},n),t.__n,void 0!==o.ownerSVGElement,null,i,null==a?hn(n):a),_n(i,n),r!=a&&pn(n)))}function vn(e,t,i,r,n,a,o,s,d){var l,c,u,h,p,A,m,v=i&&i.__k||Of,f=v.length;if(s==_f&&(s=null!=a?a[0]:f?hn(i,0):null),l=0,t.__k=function e(t,i,r){if(null==r&&(r=[]),null==t||"boolean"==typeof t)i&&r.push(i(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n],i,r);else r.push(i?i("string"==typeof t||"number"==typeof t?ln(null,t,null,null):null!=t.__e||null!=t.__c?ln(t.type,t.props,t.key,null):t):t);return r}(t.__k,(function(i){if(null!=i){if(i.__=t,i.__b=t.__b+1,null===(u=v[l])||u&&i.key==u.key&&i.type===u.type)v[l]=void 0;else for(c=0;c<f;c++){if((u=v[c])&&i.key==u.key&&i.type===u.type){v[c]=void 0;break}u=null}if(h=yn(e,i,u=u||_f,r,n,a,o,s,d),(c=i.ref)&&u.ref!=c&&(m||(m=[]),u.ref&&m.push(u.ref,null,i),m.push(c,i.__c||h,i)),null!=h){var g;if(null==A&&(A=h),void 0!==i.__d)g=i.__d,i.__d=void 0;else if(a==u||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h),g=null;else{for(p=s,c=0;(p=p.nextSibling)&&c<f;c+=2)if(p==h)break e;e.insertBefore(h,s),g=s}"option"==t.type&&(e.value="")}s=void 0!==g?g:h.nextSibling,"function"==typeof t.type&&(t.__d=s)}}return l++,i})),t.__e=A,null!=a&&"function"!=typeof t.type)for(l=a.length;l--;)null!=a[l]&&sn(a[l]);for(l=f;l--;)null!=v[l]&&Sn(v[l],v[l]);if(m)for(l=0;l<m.length;l++)En(m[l],m[++l],m[++l])}function fn(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]="number"==typeof i&&!1===Ef.test(t)?i+"px":null==i?"":i}function gn(e,t,i,r,n){var a,o,s,d,l;if(n?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(a=e.style,"string"==typeof i)a.cssText=i;else{if("string"==typeof r&&(a.cssText="",r=null),r)for(o in r)i&&o in i||fn(a,o,"");if(i)for(s in i)r&&i[s]===r[s]||fn(a,s,i[s])}else"o"===t[0]&&"n"===t[1]?(d=t!==(t=t.replace(/Capture$/,"")),l=t.toLowerCase(),t=(l in e?l:t).slice(2),i?(r||e.addEventListener(t,bn,d),(e.l||(e.l={}))[t]=i):e.removeEventListener(t,bn,d)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!n&&t in e?e[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i?e.removeAttribute(t):e.setAttribute(t,i))}function bn(e){this.l[e.type](mf.event?mf.event(e):e)}function yn(e,t,i,r,n,a,o,s,d){var l,c,u,h,p,A,m,v,f,g,b=t.type;if(void 0!==t.constructor)return null;(l=mf.__b)&&l(t);try{e:if("function"==typeof b){if(v=t.props,f=(l=b.contextType)&&r[l.__c],g=l?f?f.props.value:l.__:r,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in b&&b.prototype.render?t.__c=c=new b(v,g):(t.__c=c=new un(v,g),c.constructor=b,c.render=Tn),f&&f.sub(c),c.props=v,c.state||(c.state={}),c.context=g,c.__n=r,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=b.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=on({},c.__s)),on(c.__s,b.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==b.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==b.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,g)){for(c.props=v,c.state=c.__s,c.__d=!1,c.__v=t,t.__e=i.__e,t.__k=i.__k,c.__h.length&&o.push(c),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,A)}))}c.context=g,c.props=v,c.state=c.__s,(l=mf.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),t.__k=null!=l&&l.type==cn&&null==l.key?l.props.children:l,null!=c.getChildContext&&(r=on(on({},r),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(A=c.getSnapshotBeforeUpdate(h,p)),vn(e,t,i,r,n,a,o,s,d),c.base=t.__e,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else t.__e=On(i.__e,t,i,r,n,a,o,d);(l=mf.diffed)&&l(t)}catch(e){mf.__e(e,t,i)}return t.__e}function _n(e,t){mf.__c&&mf.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){mf.__e(e,t.__v)}}))}function On(e,t,i,r,n,a,o,s){var d,l,c,u,h,p=i.props,A=t.props;if(n="svg"===t.type||n,null==e&&null!=a)for(d=0;d<a.length;d++)if(null!=(l=a[d])&&(null===t.type?3===l.nodeType:l.localName===t.type)){e=l,a[d]=null;break}if(null==e){if(null===t.type)return document.createTextNode(A);e=n?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,A.is&&{is:A.is}),a=null}if(null===t.type)null!=a&&(a[a.indexOf(e)]=null),p!==A&&e.data!=A&&(e.data=A);else if(t!==i){if(null!=a&&(a[a.indexOf(e)]=null,a=Of.slice.call(e.childNodes)),c=(p=i.props||_f).dangerouslySetInnerHTML,u=A.dangerouslySetInnerHTML,!s){if(p===_f)for(p={},h=0;h<e.attributes.length;h++)p[e.attributes[h].name]=e.attributes[h].value;(u||c)&&(u&&c&&u.__html==c.__html||(e.innerHTML=u&&u.__html||""))}(function(e,t,i,r,n){var a;for(a in i)a in t||gn(e,a,null,i[a],r);for(a in t)n&&"function"!=typeof t[a]||"value"===a||"checked"===a||i[a]===t[a]||gn(e,a,t[a],i[a],r)})(e,A,p,n,s),t.__k=t.props.children,u||vn(e,t,i,r,"foreignObject"!==t.type&&n,a,o,_f,s),s||("value"in A&&void 0!==A.value&&A.value!==e.value&&(e.value=null==A.value?"":A.value),"checked"in A&&void 0!==A.checked&&A.checked!==e.checked&&(e.checked=A.checked))}return e}function En(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){mf.__e(e,i)}}function Sn(e,t,i){var r,n,a;if(mf.unmount&&mf.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||En(r,null,t)),i||"function"==typeof e.type||(i=null!=(n=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){mf.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&Sn(r[a],t,i);null!=n&&sn(n)}function Tn(e,t,i){return this.constructor(e,i)}function wn(e,t,i){var r,n,a;mf.__&&mf.__(e,t),n=(r=i===bf)?null:i&&i.__k||t.__k,e=dn(cn,null,[e]),a=[],yn(t,(r?t:i||t).__k=e,n||_f,_f,void 0!==t.ownerSVGElement,i&&!r?[i]:n?null:Of.slice.call(t.childNodes),a,i||_f,r),_n(a,e)}function Pn(e){var t={},i={__c:"__cC"+yf++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[i.__c]=n,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,An(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Consumer.contextType=i,i}function Cn(e){mf.__h&&mf.__h(Tf);var t=Tf.__H||(Tf.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function In(e){return function(e,t,i){var r=Cn(Sf++);return r.__c||(r.__c=Tf,r.__=[i?i(t):Fn(void 0,t),function(t){var i=e(r.__[0],t);r.__[0]!==i&&(r.__[0]=i,r.__c.setState({}))}]),r.__}(Fn,e)}function Nn(e,t){var i=Cn(Sf++);xn(i.__H,t)&&(i.__=e,i.__H=t,Tf.__H.__h.push(i))}function Dn(e,t){var i=Cn(Sf++);xn(i.__H,t)&&(i.__=e,i.__H=t,Tf.__h.push(i))}function Rn(e){return kn((function(){return{current:e}}),[])}function kn(e,t){var i=Cn(Sf++);return xn(i.__H,t)?(i.__H=t,i.__h=e,i.__=e()):i.__}function Vn(e,t){return kn((function(){return e}),t)}function jn(e){var t=Tf.context[e.__c];if(!t)return e.__;var i=Cn(Sf++);return null==i.__&&(i.__=!0,t.sub(Tf)),t.props.value}function Ln(){Pf.some((function(e){if(e.__P)try{e.__H.__h.forEach(Bn),e.__H.__h.forEach(Mn),e.__H.__h=[]}catch(t){return mf.__e(t,e.__v),!0}})),Pf=[]}function Bn(e){e.t&&e.t()}function Mn(e){var t=e.__();"function"==typeof t&&(e.t=t)}function xn(e,t){return!e||t.some((function(t,i){return t!==e[i]}))}function Fn(e,t){return"function"==typeof t?t(e):t}function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Hn(e){var t,i,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Hn(e[t]))&&(r&&(r+=" "),r+=i);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Wn(e){const[t,i]=In(e.getValue());return Nn(()=>(i(e.getValue()),e.add(i)),[e]),t}function zn(e,t){var i;const r=(null!==(i=e.ownerDocument)&&void 0!==i?i:document).createElement("style");return r.type="text/css",r.textContent=t,e.appendChild(r),r}function Gn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Yn(e){const t=Hf();Dn(()=>zf.useStyleModule(t.element,e),[e])}function Xn(e){let{descriptionText:t,buttonText:i,openClickThroughUrl:r,animationProgress:n,hasTimeline:a,disableOverlay:o}=e;return{descriptionText:t,buttonText:i,openClickThroughUrl:r,disableOverlay:o,progress:Wn(n),hasTimeline:a}}function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Kn(){return(Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Qn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Jn(e){const t=new Ag(e),i=Fr(t),{measurableVPAIDCreative:r,userInteractionDispatchers:n}=an(i,{visibilityRatio:e.visibilityRatio,measurersSlot:e.measurersSlot},{onStop:e=>{let{error:t,reason:i}=e;t?rs.c.error({error:t}):rs.c.event({name:"AdCreativeMeasured",probability:ts.a,data:{stopReason:i}})},onInitMeasurer:e=>{!function(e){if("yandexTestMeasurer"===e.measurerName)return;const t=yv[e.measurerName];rs.c.event({name:t,probability:ts.a,data:void 0})}(e)},onTrackEvent:e=>{fr(e)},onExecutionError:e=>{rs.c.error({error:e})},onAdError:e=>{let{error:t}=e;rs.c.errorToStats(t)}});return{creative:r,wrapper:t,userInteractionDispatchers:n}}function Zn(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function $n(e){return Boolean(e.IntersectionObserver)&&!Object(gs.a)(e.IntersectionObserver)}function ea(e){var t;if(null!==(t=!Boolean(e.ownerDocument))&&void 0!==t?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,r=function(e,t){try{if(Object(gs.a)(e.attachShadow))return e.attachShadow(t);if(Object(gs.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(gs.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(e,{mode:Eg});if(!r)return null;const n=i.document.createElement("div");return r.appendChild(n),n}function ta(){return(ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ia(e){let{creative:t,isYandexCreative:i,getLogDetails:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:r,getterError:n,setterError:a}=t;const o=_(hv,(t,n)=>(function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];if("function"===typeof e[n])try{return e[n].apply(e,a)}catch(s){i({methodName:n,args:a,error:s})}else r({methodName:n,args:a})}));return Object(ic.a)(pv,(t,i)=>{Object.defineProperty(o,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){n({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(r){a({propertyName:i,error:r,value:t})}}})}),o}(t,{methodCallError:e=>{let{methodName:t,args:n,error:a}=e;rs.c.error({error:new is.a(a,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:ta({methodName:t,args:n},r())})}),Object(kd.a)(a)},methodAbsent:e=>{let{methodName:t,args:n}=e;rs.c.error({error:new is.a({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:ta({methodName:t,args:n},r())})})},getterError:e=>{let{propertyName:t,error:n}=e;rs.c.error({error:new is.a(n,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:ta({propertyName:t},r())})}),Object(kd.a)(n)},setterError:e=>{let{propertyName:t,value:n,error:a}=e;rs.c.error({error:new is.a(a,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:ta({propertyName:t,value:n},r())})}),Object(kd.a)(a)}})}function ra(e){"function"===typeof e.catch&&e.catch(e=>void 0)}function na(){return(na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function aa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oa(e,t){return Dg.indexOf(e)>=Dg.indexOf(t)}function sa(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:r}=e;if(oa(t,"start")){if(r){const e=r.params.animationParameters,t=r.params.videoParameters;if(e&&!r.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!r.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return oa(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function da(){return(da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function la(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ca(){return(ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ua(e){const{config:t,errors:i}=function(e){const t=[],i=Object(_s.a)(e)?e:{};let r;return vA(i.backgroundSlot)?r=i.backgroundSlot:void 0!==i.backgroundSlot&&t.push(new is.a({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),{config:{backgroundSlot:r,clickThroughCallback:Object(Ds.a)(i.clickThroughCallback)?i.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof i.clickThroughConfirmation?i.clickThroughConfirmation:void 0,renderSkin:Object(Ds.a)(i.renderSkin)?i.renderSkin:void 0,retainLastMediaAfterPlayback:"boolean"===typeof i.retainLastMediaAfterPlayback?i.retainLastMediaAfterPlayback:void 0,allowedToHideVideoSlotAreaPortion:i.allowedToHideVideoSlotAreaPortion},errors:t}}(e),{config:r,errors:n}=J(e);return{config:ca({},t,r),errors:[...i,...n]}}function ha(e,t){return Object(os.a)(e,e=>Ug(e)?{duration:e.durationPortion*t,value:e.value}:{duration:e.durationPortion*t,values:e.values,easing:"easeInOut"})}function pa(e,t,i,r,n){const a=t=>{const r=1-t;return 3*r*r*t*e+3*r*t*t*i+t*t*t},o=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*r+e*e*e},s=t=>{const r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*i};return e=>{const t=e;let i,r,d,l,c,u;for(d=t,u=0;u<8;u++){if(c=a(d)-t,Math.abs(c)<n)return o(d);if(l=s(d),Math.abs(l)<1e-6)break;d-=c/l}if(r=1,(d=t)<(i=0))return o(i);if(d>r)return o(r);for(;i<r;){if(c=a(d),Math.abs(c-t)<n)return o(d);t>c?i=d:r=d,d=.5*(r-i)+i}return o(d)}}function Aa(e){let{position:t,unit:i,steps:r}=e;const{step:n,stepPosition:a}=function(e,t){let i=0;const{length:r}=t;for(let n=0;n<r;n++){const a=t[n],o=i+a.duration,s=i<=e&&e<o;if(n===r-1||s)return{step:a,stepPosition:i};i=o}throw new is.a({code:"CANNOT_DETERMINE_ANIMATION_SCRIPT_STEP_BY_POSITION",details:{position:e,steps:t}})}(t,r);if(Hg(n))return n.value;const{duration:o,values:[s,d],easing:l=zg}=n;if(s===d)return s;if(t>=a+o)return d;const c=("function"===typeof l?l:Wg[l])((t-a)/o);return(0,Gg[i])(c,s,d)}function ma(){return(ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function fa(e){let{width:t}=e;return t<Jg?"small":"middle"}function ga(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ba(e,t,i,r){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!Ob.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,r?"important":""):e.style.cssText+=";"+t+": "+i+(r?"!important":""))}function _a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Oa(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")?ns.a:function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===Fb.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?ns.a:Ii(e,{pip:"false"}):ns.a}function Ea(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:r=!1}=t,n=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),a=n.shift();if(!(null===a||void 0===a?void 0:a.startsWith("WEBVTT")))throw new Error('Must start with "WEBVTT"');const o=a.split("\n"),s=o[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===n.length&&1===o.length)return{valid:!0,strict:r,cues:[],errors:[]};if(!i&&o.length>1&&""!==o[1])throw new Error("Missing blank line after signature");const{cues:d,errors:l}=function(e,t){const i=[];return{cues:Object(Xd.a)(Object(os.a)(e,(e,r)=>{try{return function(e,t,i){let r="",n=0,a=.01,o="",s="";const d=Object(Xd.a)(e.split("\n"),Boolean);if(d.length>0&&d[0].trim().startsWith("NOTE"))return;if(1===d.length&&!wa(d[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(d.length>1&&!wa(d[0])&&!wa(d[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}d.length>1&&wa(d[1])&&(r=d.shift());if("string"!==typeof d[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const l=d[0].split(" --\x3e ");if(2!==l.length||!Sa(l[0])||!Sa(l[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(n=Ta(l[0]),a=Ta(l[1]),i){if(n>a)throw new Error("Start timestamp greater than end (cue #"+t+")");if(a<=n)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&a<n)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=l[1].replace(Wb,"").trim(),d.shift(),!(o=d.join("\n")))return;return{identifier:r,start:n,end:a,text:o,styles:s}}(e,r,t)}catch(n){return void i.push(n)}}),Boolean),errors:i}}(n,r);if(r&&l.length>0)throw l[0];const c=i?function(e){const t={};return Object(ds.a)(e.slice(1),e=>{const i=e.indexOf(":"),r=e.slice(0,i).trim(),n=e.slice(i+1).trim();t[r]=n}),Object(Bd.a)(t).length>0?t:void 0}(o):void 0,u={valid:0===l.length,strict:r,cues:d,errors:l};return i&&(u.meta=c),u}function Sa(e){return Wb.test(e)}function Ta(e){const t=e.match(Wb);if(null===t)throw new Error("Timestamp parse error");const i=parseFloat(t[1]||"0"),r=parseFloat(t[2]),n=parseFloat(t[3]);return i*Dh+r*Nh+n}function wa(e){return-1!==e.indexOf("--\x3e")}function Pa(e,t){const i=()=>{const i=kr(e);t(i)},n=[];return n.push(Object(ss.a)({element:e,eventName:"resize",listener:i}),ai(i)),()=>{r(n)}}function Ca(e,t,i){function r(){0!==o&&(clearTimeout(o),o=0)}let{threshold:n=Yb,delay:a=Xb}=void 0===i?{}:i,o=0,s=0,d=0;const l=ki(e,"click",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),c=ki(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,r(),o=window.setTimeout(r,a))}),{passive:!0}),u=ki(e,"touchend",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),h=ki(e,"touchmove",(function(e){if(0===o||!Object(_s.a)(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];if(a=t,l=i,Math.abs(s-a)>n||Math.abs(d-l)>n)r();else var a,l}),{passive:!0});return()=>{l(),c(),u(),h()}}function Ia(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Na(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Da(e){const t=e.duration||0;let i=(r=e.currentTime,n=Jb,Math.round(r/n)*n||0);var r,n;return t-i<Jb&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}function Ra(){return(Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ka(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Va(e){return e.muted?0:e.volume}function ja(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function La(e){if(!St(e))return!1;const{adParametersObject:t}=e;return!!Object(_s.a)(t)&&"theme-empty"===t.adCreativeConversionType}function Ba(e){var t,i;const r=!0===e.HAS_TITLE,n=!0===e.HAS_BODY,a=e.BUTTON_POSITION,{data_params:o}=null!==(t=e.AUCTION_DC_PARAMS)&&void 0!==t?t:{},s=o&&am(o),{title:d,body:l}=null!==(i=null===s||void 0===s?void 0:s.text)&&void 0!==i?i:{},c=function(e){let{titleEnabled:t,bodyEnabled:i,body:r,title:n,buttonPosition:a}=e;return!(t&&i&&r&&n)?Object(al.a)(gy,a)?a:"left-bottom":Object(al.a)(fy,a)?a:"right-bottom"}({titleEnabled:r,bodyEnabled:n,buttonPosition:a,title:d,body:l});return"left-bottom"===c||"left-center"===c?{position:c,side:"left",oppositeSide:"right"}:{position:c,side:"right",oppositeSide:"left"}}function Ma(e){const{BUTTON_COLOR:t="#ffdb4d",BUTTON_TEXT_COLOR:i="#000000",BUTTON_BORDER_COLOR:r=""}=e,n=Object(os.a)((a=t,[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]),e=>rt(e)?e:0).join(", ");var a;return{backgroundColor:"rgb("+n+")",boxShadow:"0 6px 8px rgba("+n+", 0.53)",color:i,borderColor:r}}function xa(e,t,i){if(!e)return Ey;const r=Oy(e.controlsVisibility),n=Boolean(t.abuseUrl);return{isCloseAvailable:r&&n,isCloseDialogActive:"selection"===i}}function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ha(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wa(e){return Object(qd.a)(e,(e,t)=>e+t.getDuration(),0)}function za(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ga(){return(Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ya(){return(Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Xa(e,t){let i=0;for(let r=0;r<e.length;r++){const n=e.charAt(r);n===n.toLowerCase()?i++:i+=t}return i}function qa(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Ka(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Qa(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}function Ja(e,t,i){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}return i}function Za(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $a(e){if(!Object(_s.a)(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return y({stickTo:eo(t,fS),stickyColorScheme:eo(i,vS)})}function eo(e,t){if("string"!==typeof e)return;if(!Object(_s.a)(t))return;const i=e.toLowerCase();return de(t).indexOf(i)>-1?i:void 0}function to(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?M(i):void 0}function io(e,t){return"true"===to(e,t)}function ro(){return(ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ao(e,t,i){var r;const n=[],a=i.querySelector("AdSource");if(!a)throw new is.a({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let o=pS;if(a.hasAttribute("id")){if(!rt(o=Number(a.getAttribute("id"))))throw new is.a({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else n.push(new is.a({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const s=i.querySelector("Extensions");if(!s)throw new is.a({code:"NO_AD_BREAK_EXTENSIONS",details:t});const d=a.querySelector("VASTAdData"),l=null!==(r=null===d||void 0===d?void 0:d.querySelector("VAST"))&&void 0!==r?r:void 0,c=l?sS(l):void 0,u=a.querySelector("AdTagURI"),h=M(u);if(!u||!h)throw new is.a({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const p={adTagURI:h,adFoxParameters:void 0,inlineVast:c},A=i.getAttribute("breakType"),m=B(i,"breakId"),v=B(i,"timeOffset","start"),f=()=>new is.a({code:"VMAP_INCORRECT_TIME_OFFSET",details:no({},t,{timeOffset:v,breakIdAttribute:m})});if(-1===lS.indexOf(m))throw new is.a({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:no({},t,{breakIdAttribute:m})});const g=A===hS,b=function(e,t){switch(e){case cS:return[new is.a({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case uS:case hS:return[];default:throw new is.a({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(A,t);if(n.push(...b),g!==gi({adType:m})){if("inroll-overlay"!==m)throw new is.a({code:"INCOMPATIBLE_BREAK_TYPE_ATTRIBUTE",details:t});n.push(new is.a({code:"INCORRECT_BREAK_TYPE_ATTRIBUTE",details:{adBreakType:m,adBreakTypeAttribute:A}}))}let y;if("inpage"===m)y=function(e){const t=to("Stick",e),i=$a({stickTo:to("StickTo",e),stickyColorScheme:to("ColorScheme",e)});return ro({stick:"true"===t,adType:"inpage",replayMode:gS(e)},i)}(s);else if("inroll"===m)y={adType:"inroll"};else if("inroll-overlay"===m)y={adType:"inroll-overlay"};else if("start"===v){if(dS[v]!==m)throw f();y={adType:"preroll"}}else if("end"===v){if(dS[v]!==m)throw f();y={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(v))throw f();{if(["midroll","overlay"].indexOf(m)<0)throw f();const e=function(e,t){return Number(to(e,t))}("MaxRepeatCount",s),t=Z(B(i,"repeatAfter")),r={timeOffset:Z(v),repeatAfter:isNaN(t)?mS:t,maxRepeatCount:isNaN(e)?AS:e,repeatNumber:0};y=no("midroll"===m?{adType:"midroll",broadcastReplace:io("BroadcastReplace",s)}:{adType:"overlay"},r)}}return{adBreak:no({impId:o},y,e,p),errors:n,events:[]}}function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function so(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:r}=e;const{xml:n,responseText:a}=t,o={responseText:a,vmapLoadParams:i};if(null===n||void 0===n)throw i?new is.a({code:"VMAP_EMPTY_RESPONSE",details:oo({},i,{vmapXmlObject:t})}):new is.a({code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const s=n.querySelector("VMAP");if(!s)throw new is.a({code:"NO_VMAP_ROOT_NODE",details:o});const d=s.querySelectorAll("AdBreak");if(null===d||0===d.length)throw new is.a({code:"NO_VMAP_AD_BREAKS",details:o});const l=new CS,c=n.querySelector("VMAP > Extensions");if(!c)throw new is.a({code:"NO_VMAP_EXTENSIONS",details:o});const u=s.querySelectorAll("TrackingEvents");Object(ns.a)(u);const h=e=>{const t=c.querySelector('Extension[type="'+e+'"]');return t?M(t):""},p=e=>parseInt(h(e),10);l.isSingleVideoSession=(e=>"true"===h(e))("SingleVideoSession");const A={sessionId:h("SessionID"),vastTimeout:p("VASTTimeout"),videoTimeout:p("VideoTimeout"),vpaidTimeout:p("VPAIDTimeout"),wrapperTimeout:p("WrapperTimeout"),wrapperMaxCount:p("WrapperMaxCount"),bufferFullTimeout:p("BufferFullTimeout"),bufferEmptyLimit:p("BufferEmptyLimit")},m=[],v=[];for(let g=0;g<d.length;g++)try{const{adBreak:e,errors:t,events:i}=ao(oo({},A,r),o,d[g]);l.adBreaks.push(e),m.push(...t),v.push(...i)}catch(f){m.push(f)}return{vmap:l,errors:m,events:v}}function lo(){return(lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function co(e){const t=Object(_s.a)(e)?e:{};return y(lo({},$a(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperTimeout:void 0===t.wrapperTimeout?void 0:Number(t.wrapperTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ho(e){let t={};try{const i=e.getItem(ES);null!==i&&(t=JSON.parse(i))}catch(r){}const i={};return Object(cc.a)(t,(e,t)=>{u(e)&&(i[t]=e)}),i}function po(){return(po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ao(){return(Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mo(e){if(!Object(_s.a)(e))return{};const{partnerId:t,category:i,vmapId:r,vmapScenarioId:n,impId:a,videoContentId:o,additionalParams:s,vmap:d,hasPreroll:l}=e;if(void 0!==a&&!rt(a))throw new is.a({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==r&&!rt(r))throw new is.a({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==d&&!Object(Dl.a)(d))throw new is.a({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==l&&"boolean"!==typeof l)throw new is.a({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==n&&!rt(n))throw new is.a({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return Ao({},function(e){const t=Object(_s.a)(e)?e:{};return y({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:d,hasPreroll:l,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:a,vmapId:r,vmapScenarioId:n,videoContentId:"string"===typeof o?o:void 0,additionalParams:ct(s)})}function vo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function bo(e){if(!Object(_s.a)(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const n=(r=e.adFoxParameters,Object(_s.a)(r)?me(r)?void 0===r.containerId||Object(Dl.a)(r.containerId)?Object(Al.a)(r.ownerId)?0===r.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT");n?i.push(new is.a({code:n,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}var r;return{config:t,errors:i}}function yo(){return(yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function _o(e){if(!Object(_s.a)(e))return{config:{},errors:[]};const{config:t,errors:i}=bo(e);return{config:yo({},t,mo(e),function(e){if(Object(_s.a)(e))return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?Object(os.a)(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?Object(os.a)(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?Object(os.a)(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),function(e){if(!Object(_s.a)(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!ee(t))throw new is.a({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!ee(i))throw new is.a({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&Object(Dl.a)(e.vast)?String(e.vast):void 0,desiredBitrate:Y(e.desiredBitrate),secureMode:VS(e),preferableAdSize:RS(e),loadHarmlessVastCallback:Object(Ds.a)(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:i}}function Oo(e){return Object(Dl.a)(e)?e:jS}function Eo(){return(Eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function So(){return(So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function To(){return(To=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Po(e){return!!Object(Al.a)(e)&&HS.indexOf(e)>-1}function Co(){return(Co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Io(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function No(e,t,i){const r=Object(Ul.a)(Object(os.a)(Object(dh.a)(t),e=>{let[t,i]=e;return[GS(t),i]}));return Eb(e,r,i)}function Do(e,t,i){let r;const n=new dl.a,a=nr(e,t,e=>{r=e,n.dispatch(e)}),o=new xd.a(r,i),s=n.add(o);return{valueSignal:o,teardown:()=>{s(),a()}}}function Ro(){return(Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ko(e){return e.getBoundingClientRect().bottom>e.ownerDocument.body.getBoundingClientRect().bottom}function Vo(e){var t;if(!e)return!1;const i=null!==(t=(e.ownerDocument||document).defaultView)&&void 0!==t?t:window;return Boolean(i.Element)&&e instanceof i.Element}function jo(e,t){void 0===t&&(t=ZS);const i=e.ownerDocument,{body:r}=i,n=i.documentElement,a=i.defaultView,o=Math.max(r.scrollHeight,r.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);if(e===n||e===r){return o-((a.pageYOffset||n.scrollTop)-(n.clientTop||0)+a.innerHeight)<t}return!(e.clientHeight>0&&e.scrollHeight>e.clientHeight&&e.scrollHeight-(e.scrollTop+e.clientHeight)>t)}function Lo(e){const{parentElement:t}=e;if(!t)return!1;const i=t.parentElement;if(!i)return!1;let r=i;for(;Boolean(r);){if(Vo(r)&&!jo(r))return!1;r=r.parentNode||r.host}return!0}function Bo(e,t){if(eT)return!1;const{left:i,right:r,top:n,bottom:a}=sl(e),o=r-i,s=a-n,d=e.ownerDocument!==document;let l;if(d){const t=Array.prototype.slice.call(document.getElementsByTagName("iframe"),0);l=Object(Jh.a)(t,t=>t.contentWindow===e.ownerDocument.defaultView)}return!ms(t,t=>{let[r,a]=t,c=i+(o-1)*(1+r)/2,u=n+(s-1)*(1+a)/2;if(l){const{left:e,top:t}=sl(l);c+=e,u+=t}const h=document.elementFromPoint(c,u);if(!h||e===h||e.contains(h))return!0;if(d&&h&&"IFRAME"===h.tagName&&h.contentWindow&&h.contentWindow.document.body.contains(e))return!0;if(Object(Ds.a)(e.getRootNode)){if(function e(t,i){const r=t.getRootNode();if(!r||!r.host)return!1;if(i.contains(r.host))return!0;return e(r.host,i)}(h,e))return!0;if(function e(t,i){const r=i.getRootNode();if(!r||!r.host)return!1;if(t===r.host)return!0;return e(t,r.host)}(h,e))return!0}return!1})}function Mo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xo(e){return e[aT]}function Fo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Uo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ho(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function zo(){return(zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Go(){return(Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Yo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Xo(e){let{placeholderElement:t,placeholderWidth:i,adContentSize:r}=e;const n=function(e){let{placeholderWidth:t,adContentSize:i}=e;if(!i)return;const{width:r,height:n}=i;if(!u(r)||!u(n))return;const a=n/r;return Math.floor(t*a)}({placeholderWidth:i,adContentSize:r});void 0!==n?r&&(Object(as.a)("inPage: adjust ad height to adContentSize=["+JSON.stringify(r)+"] nextHeight=["+n+"]"),Eb(t,{height:n+"px"},!0)):Object(as.a)("inPage: skip adjust placeholder to unknown ad size")}function qo(){return(qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ko(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Qo(e){return e.createElement("video")}function Jo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Zo(){return(Zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.r(t);var $o=i(26),es=i(25),ts=i(4),is=i(0),rs=i(1),ns=i(6),as=i(3),os=i(7),ss=i(14),ds=i(8),ls=i(34),cs=i(12);const us=["pagehide","unload"];var hs=i(121),ps=i(18);const As="adfox.ru",ms=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1};var vs=i(20);const fs=[...["localhost","127.0.0.1"].concat([]),...[vs.b,"yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",vs.c,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]];var gs=i(23);const bs=(e=>Object(gs.a)(e.navigator.sendBeacon))(window);var ys=i(46);Object(ys.a)({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var _s=i(2);const Os=-1,Es={droppedVideoFrames:Os,corruptedVideoFrames:Os,totalVideoFrames:Os},Ss=h({},Es,{droppedVideoFramesRatio:Os}),Ts=0,ws={width:0,height:0},Ps={visibility:0,size:ws,relativeSizeRatio:0,screenSize:ws,devicePixelRatio:0,downlink:0,videoSlotSize:ws,videoContentSize:void 0,videoAvatarSize:ws,videoPixelRatio:Os,videoToDevicePixelRatio:Os,videoFramesInfo:Ss,videoSrc:"",videoMuted:!0,videoVolume:Ts,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:Os,remainingBufferedTime:0,isFullscreen:void 0,adPodId:void 0};var Cs=i(64),Is=i(112),Ns=i(81),Ds=i(10),Rs=i(38),ks=i(45),Vs=i(138);const js="client-ts",Ls="client-timezone-offset",Bs="adsdk-bundle-version",Ms="adsdk-bundle-name",xs="adsdk-container-visibility",Fs="adsdk-container-width",Us="adsdk-container-height",Hs="video-avatar-width",Ws="video-avatar-height",zs="ad-session-id",Gs="sid",Ys="viewability-undetermined",Xs="top-ancestor",qs="top-ancestor-undetermined",Ks="video-volume",Qs="video-muted",Js="pcode-active-testids",Zs="shyid",$s="document-has-focus",ed="is-fullscreen",td="device-orientation",id="ad-pod-id";var rd=i(33),nd=i(28),ad=i(139),od=i(55);const sd=(e,t,i)=>{let r=e.getItem(t);return r||(r=i(t),e.setItem(t,r)),r};var dd=i(59),ld=i(75);const cd=(e,t,i)=>{if(!Object(_s.a)(e))return e;const r=e,n=t.split("."),a=n.pop();for(const o of n){const t=e[o];e=Object(_s.a)(t)?t:e[o]={}}return e[a]=i,r},ud=e=>{try{return e()}catch(t){return}},hd=(e,t,i,r)=>(function(){try{return t.apply(i||this,arguments)}catch(n){if(Object(Ds.a)(r)&&r(n),!0===n.preventProtect)throw n;hd.log(n,e)}});hd.log=function(e,t){console.log("LOG:"+t+":"+e)},hd.setTimeout=(e,t,i,r)=>window.setTimeout(hd("timeout",e,i,r),t);class pd{}pd.YaContextCallbacks=A("Ya.C","ontext._callbacks"),pd.YaContextCallbacksCalls=A("Ya.C","ontext._callbacks_call"),pd.AdvManager=A("A","dvManager"),pd.AdvBlock=A("A","dvBlock"),pd.RTB=A("R","TB"),pd.Rtb=A("R","tb"),pd.MetrikaAdtune=A("metrika_a","dtune");class Ad{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const md=Object(od.a)(()=>((e,t,i)=>{let r;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],e=>{if(!(r=ud(()=>Object(ld.a)(e,t))))return ud(()=>Object(dd.a)(e.frames))||[]}),r||(r=i()),cd(e,t,r),r})(self,"Ya.pcodeCrossFrameData",()=>new Ad({}))),vd=e=>sd(md(),e,()=>new Ad({})),fd=Object(od.a)(()=>((e,t,i)=>{let r=Object(ld.a)(e,t);return r||(r=i(),cd(e,t,r)),r})(self,"Ya.pcodeWindowData",()=>new Ad({}))),gd=e=>sd(fd(),e,()=>new Ad({})),bd=hd("metrika::pushEvent",(e,t)=>{const i=Object(ld.a)(e,"Ya._metrika.dataLayer")||[];cd(e,"Ya._metrika.dataLayer",i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:m({},t)}}})}),yd=hd("sessionId::configureMetrika",(e,t)=>{bd(e,{adSessionID:t})});var _d=i(60);const Od=()=>(1e6*Object(_d.a)()).toFixed(0)+(new Date).valueOf().toString();let Ed;const Sd=()=>(Ed||(Ed=((e,t,i,r)=>{let n=t.getItem("sessionId");return n||(n=i.getItem("sessionId")||e(),r(window,n)),t.setItem("sessionId",n),i.setItem("sessionId",n),n})(Od,gd("common"),vd("common"),yd)),Ed);var Td=i(32);const wd=()=>Object(Td.a)(Sd)||void 0,Pd=e=>{var t;const i=null===(t=e.yandex)||void 0===t?void 0:t.getSiteUid;if(Object(Ds.a)(i))return String(i())};var Cd=i(140),Id=i(149);const Nd="function"===typeof IntersectionObserver&&Object(gs.a)(IntersectionObserver);var Dd=i(70);const Rd=Nd||!Dd.a;var kd=i(27),Vd=i(57);const jd=e=>(e=>e instanceof Promise||"Promise"===Object(Vd.a)(e)&&Boolean(b(()=>Object(gs.a)(e.constructor))))(e)||(e=>Boolean(b(()=>Object(Ds.a)(e.then)&&Object(Ds.a)(e.catch))))(e);var Ld=i(73),Bd=i(11),Md=i(15),xd=i(9),Fd=i(50),Ud=i(132);const Hd="ru",Wd="TranslatorError";class zd extends Fd.a{constructor(){super(...arguments),this.name=Wd}}const Gd=function(e,t){void 0===t&&(t=!1);const i=(t,i,r)=>e[t][i][r],r=(t,i,r)=>e[t]&&e[t][i]&&e[t][i][r],n=e=>{let{keyset:t,key:n,lang:a=Hd,onError:o,throwErr:s=!0}=e;if(r(a,t,n))return i(a,t,n);if(r(Hd,t,n))return i(Hd,t,n);{const e=new zd("Tanker locale for lang="+a+", keyset="+t+", key="+n+" not found");return s&&Object(kd.a)(e),"function"===typeof o&&o(e),""}};if(t){const e=e=>{let{keyset:t,key:i,lang:r}=e;return t+"_"+i+"_"+r};return Object(Ud.a)(n,e)}return n}(i(176)),Yd=function(e,t){return void 0===t&&(t=Hd),Gd({keyset:"adsdk",key:e,lang:t})};var Xd=i(16),qd=i(39);const Kd=function e(t){return Object(qd.a)(t,(t,i)=>t.concat(Object(ls.a)(i)?e(i):i),[])};var Qd=i(29);const Jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var Zd=i(30);const $d=Object(Zd.b)(window,"adsdkwithcredentials"),el=$d?(""+$d).toLowerCase():void 0,tl="true"===el||"false"!==el&&void 0,il="\x3c!-- Bad partner/domain --\x3e",rl="\x3c!-- PageImp data not found --\x3e";var nl=i(52),al=i(22),ol=i(43);const sl=e=>{try{const{left:t,right:i,top:r,bottom:n}=e.getBoundingClientRect();return{left:t,right:i,top:r,bottom:n,width:i-t,height:n-r}}catch(t){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};var dl=i(13),ll=i(78),cl=i(31),ul=i(146),hl=i(113);const pl=e=>{let{version:t=rd.a,win:i}=e;const r=Object(cl.a)(i),n=ul.a.ES5,a=""+Object(hl.a)(t)+n+"/proxy_frame.html";return Object(Ds.a)(r)?r(a):a};var Al=i(17);let ml;const vl=(void 0===(fl=window)&&(fl=window),ml||(ml=fl.document.createElement("div")),ml);var fl;const gl=(e,t)=>{const i="undefined"!==typeof vl.style[e];if(i&&t&&Object(Al.a)(t))try{vl.style.cssText=e+": "+t+";";const i=Boolean(vl.style.cssText);return vl.style.cssText="",i}catch(r){return!1}return i};var bl=i(88);const yl={},_l=function(e){return void 0===e&&(e=""),yl[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<bl.b.length;i++){const r=bl.b[i],n=r?""+r+t:e;if(gl(n))return yl[e]=n}return yl[e]=e}(e)},Ol={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},El=e=>{const t=w({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0});return encodeURI(JSON.stringify(t))},Sl={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},Tl={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},wl=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const r=i?Tl:Sl;T(t,r.attributes),S(t,r.styles)},Pl=$o.a,Cl=Object(ys.a)({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:Pl}),Il=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),Nl=e=>{const t=e.data;return!(!Object(_s.a)(t)||"kill-me"!==t.type)};var Dl=i(5),Rl=i(90);const kl=5e3;class Vl extends Md.a{constructor(e,t){var i,r,n;super(),this.port=e,this.commandHandlers=t,n=e=>{const t=Object(ss.a)({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new is.a({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},(r="listenForCommandEvents")in(i=this)?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,this.listenForNewCommands(),this.addDestroyHandler(Object(ss.a)({element:e,eventName:"messageerror",listener:()=>{this.destroy(new is.a({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=Object(ol.a)(6),r=Object(Qd.a)(kl);r.promise.then(()=>{this.destroy(new is.a({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))}).catch(kd.a),this.addDestroyHandler(()=>r.clear());const n=this.waitForNextCommandEvent({name:e,id:i}),a=new Promise((t,a)=>{n.then(n=>{if(r.clear(),"success"===n.status)t(n.payload);else if("error"===n.status){const e=n.payload;a(Object(Rl.b)(e))}else{if("abort"===n.status)return;this.destroy(new is.a({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:n.status,payload:n.payload,name:e,commandId:i}}))}}).catch(a)}),o=Object(cs.a)(()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})});return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:a,abort:o}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new is.a({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(C({},e,{type:"command"}))}catch(t){0,this.destroy(new is.a({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise(t=>{const i=this.listenForCommandEvents(r=>{r.name===e.name&&r.id===e.id&&(i(),t(r))})})}listenForNewCommands(){this.listenForCommandEvents(e=>{var t;if("start"!==e.status)return;const i=null===(t=this.commandHandlers)||void 0===t?void 0:t[e.name];if(!i)return void this.destroy(new is.a({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const r=this.createCommandControlDescriptor(e),n=e.payload;try{i(r,n)}catch(a){0,this.destroy(new is.a({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:a}}))}})}createCommandControlDescriptor(e){const t=new dl.a;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy(r=>{i||"abort"===r.status&&r.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())})).catch(ns.a),{resolve:r=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:r})},reject:r=>{if(i)return;i=!0,t.removeAll();const n=Object(Rl.c)(r);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:n})},subscribeForAbort:function(){return i?ns.a:t.add(...arguments)}}}isEventDataCommandLike(e){return!!Object(_s.a)(e)&&("command"===e.type&&(!!Object(Dl.a)(e.id)&&!!Object(Dl.a)(e.status)))}}const jl=Object(Bd.a)({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),Ll=["src","poster"],Bl=Object(Bd.a)({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),Ml=["video/mp4","video/webm"],xl={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},Fl=Object(Bd.a)({load:0,play:0,pause:0,setAttribute:0});var Ul=i(49);const Hl=Object(Bd.a)({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),Wl=e=>{return I({},Object(Ul.a)(Object(os.a)(Hl,t=>[t,e[t]])),{target:null})},zl=new WeakSet;class Gl extends Md.a{static isVideoNodeLocked(e){return zl.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),Object(as.a)("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",Object(Ul.a)(Object(os.a)(Ml,e=>[e,this.params.videoNode.canPlayType(e)]))),Object(ds.a)(Object(Bd.a)(xl),e=>{const t=xl[e];Object(ds.a)(t,e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})})}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(Object(al.a)(Fl,e)){if("setAttribute"===e){const[e,r=""]=t;if(!Object(Dl.a)(e))return;return Object(al.a)(Ll,e)?i.setAttribute(e,r):void rs.c.error({error:new is.a({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:r}})})}return i[e]()}rs.c.error({error:new is.a({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!Object(al.a)(Bl,e))return void rs.c.error({error:new is.a({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const r=e,n=i[r];cd(i,e,t),this.params.handleVideoNodePropertyChange(r,i[r]),this.addDestroyHandler(()=>{cd(i,e,n)})}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Object(ds.a)(jl,t=>{this.addDestroyHandler(Object(ss.a)({element:e,eventName:t,listener:e=>{xl.hasOwnProperty(e.type)&&Object(ds.a)(xl[e.type],e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}),setTimeout(this.ignoreAfterDestroy(()=>{const t=Wl(e);this.params.handleVideoNodeEvent(t)}),0)}}))})}}class Yl extends Md.a{constructor(e){super(),this.params=e,N(this,"dispatcher",void 0),N(this,"localVideoNode",void 0),N(this,"vpaidEventBus",new dl.a),N(this,"vpaidGetterPropertyBus",new dl.a),N(this,"dispatcherCommandHandlers",{handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:r,args:n}]=t;i(),this.vpaidEventBus.dispatch({eventName:r,args:n})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:r,value:n}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:r,value:n})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:r}=e,[{methodName:n,args:a}]=t;const o=this.localVideoNode;if(o)try{Object(as.a)("[outsideAPI] call video method=["+n+"], args=["+a+"]");const e=o.callVideoNodeMethod(n,a);return jd(e)?e.then(e=>{i(e)}).catch(r):i(e)}catch(s){this.destroy(new is.a({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new is.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:r,value:n}]=t;i();const a=this.localVideoNode;a?Object(al.a)(Bl,r)?(Object(as.a)("[outsideAPI] set video property name=["+r+"], value=["+n+"]"),a.setVideoNodeProperty(r,n)):this.destroy(new is.a({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:r,value:n}})):this.destroy(new is.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:r,value:n}}))}}),N(this,"handleVideoNodeEvent",e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])}),N(this,"handleVideoNodePropertyChange",(e,t)=>{Object(as.a)("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])}),Object(as.a)("[outsideApi]: init"),this.addDestroyHandler(e=>{e&&rs.c.error({error:e})}),this.changeFrameVisibility(!1),this.dispatcher=new Vl(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler(()=>this.dispatcher.destroy(void 0)),this.addDestroyHandler(Object(ss.a)({element:e.port,eventName:"message",listener:e=>{if(!Nl(e))return;const{data:t}=e;this.destroy(new is.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler(e=>{this.isDestroyed||(rs.c.error({error:null!==e&&void 0!==e?e:new is.a({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))}),this.addDestroyHandler(()=>{this.vpaidEventBus.removeAll()})}async doGETRequest(e){Object(as.a)("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:r}=await t.promise;return Object(as.a)("[outsideApi]: finish get request"),{responseStatus:r,responseText:i}}async loadCreative(e){Object(as.a)("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,Object(as.a)("[outsideApi]: done loading creative")}async initCreative(e){Object(as.a)("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,Object(as.a)("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return Object(as.a)("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return Object(as.a)("[outsideApi]: "+(e?"show":"hide")+" frame"),wl({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(Gl.isVideoNodeLocked(t))throw Object(as.a)("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");Object(as.a)("[outsideApi]: assign video tag"),this.localVideoNode=new Gl({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler(()=>{var e;Object(as.a)("[outsideApi]: UNassign video tag"),null===(e=this.localVideoNode)||void 0===e||e.destroy(void 0)})}listenRemoteVpaidEvents(e,t){return Object(as.a)("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add(i=>{let{eventName:r,args:n}=i;e===r&&t(r,n)})}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add(t=>{let{methodName:i,value:r}=t;e(i,r)})}}const Xl=async e=>{let{container:t,initAbort:i,initTimeout:r,win:n}=e;const a=Object(ol.a)(6);rs.c.event({name:"VASFrameInitStart",probability:ts.a,data:{handshakeID:a}});const o=Date.now();let s=!1;const d=new dl.a;d.add(()=>{s=!0}),i.add(()=>{Object(as.a)("[initOutsideApi]: init aborted"),rs.c.event({name:"VASFrameInitAborted",probability:ts.a,data:{handshakeID:a}}),d.dispatch(void 0)});const l=D({},ll.a,{handshakeID:a}),c=(e=>{let{container:t,frameUrl:i,initialData:r}=e;const n=t.ownerDocument.createElement("iframe");return T(n,{name:El(r),sandbox:Il,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),S(n,P({},Ol)),wl({iframe:n,shouldBeVisibleNow:!1}),t.appendChild(n),n})({container:t,frameUrl:pl({win:window}),initialData:l});d.add(()=>{Object(as.a)("[initOutsideApi]: remove frame"),Object(es.a)(c)});const u=new MessageChannel;u.port1.start(),d.add(()=>{u.port1.close()});const h=new Promise((e,t)=>{Object(as.a)("[initOutsideApi]: wait for frame to load"),c.addEventListener("load",()=>{Object(as.a)("[initOutsideApi]: got load event. transfer port"),c.contentWindow.postMessage({type:"init",handshakeID:a},"*",[u.port2]),e()})}),p=new Promise((e,t)=>{const i=Object(ss.a)({element:u.port1,eventName:"message",listener:t=>{const r=t.data;"handshake"===r.type&&r.initialData.handshakeID===a&&(Object(as.a)("[initOutsideApi]: got handshake event"),i(),e())}})}),A=Promise.all([h,p]),{promise:m,clear:v}=Object(Qd.a)(r);if(m.then(()=>{var e;rs.c.error({error:new is.a({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null===(e=c.parentElement)||void 0===e?void 0:e.tagName,frameBoundingClientRect:sl(c),handshakeID:a}})}),d.dispatch(void 0)}),A.then(()=>{v()}),d.add(()=>{v()}),await Promise.race([A,m]),s)throw new is.a({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});rs.c.values({name:"VASFrameInitSuccess",probability:ts.a,data:{handshakeID:a},labels:{},values:{timeSpent:Date.now()-o}}),c.removeAttribute("name"),i.removeAll();const f=new Yl({port:u.port1,initialData:l,frame:c});return f.addDestroyHandler(()=>{Object(as.a)("[initOutsideApi]: do teardown since class destroy"),rs.c.event({name:"VASFrameDestroy",probability:ts.a,data:{handshakeID:a}}),d.dispatch(void 0)}),f.addDestroyHandler(Object(ss.a)({element:u.port1,eventName:"message",listener:e=>{const t=e.data;Object(_s.a)(t)&&"destroy"===t.type&&rs.c.error({error:new is.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),Object(as.a)("[initOutsideApi]: init done"),f},ql=e=>{Object(as.a)("[initOutsideApi]: do init"),(e=>Cl.call({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:Pl,callbackArguments:[{step:e}]}))({name:"before OutsideAPI init call",initParams:e});const{container:t,initTimeout:i}=e,r=new dl.a,n=t.ownerDocument.defaultView;return{initPromise:Xl({container:t,initAbort:r,initTimeout:i,win:n}),abortInit:()=>r.dispatch(void 0)}},Kl={idle:["initializing"],initializing:["initialized"]};class Ql extends Md.a{constructor(){super(),R(this,"initPromise",void 0),R(this,"state",new xd.a({name:"idle"},(e,t)=>{const i=Kl[e.name];return i&&Object(al.a)(i,t.name)||rs.c.error({error:new is.a({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),Object(as.a)("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),R(this,"users",0),Object(as.a)("SingleVASFrame: create instance"),this.initPromise=new Promise(e=>{this.state.add(t=>{"initialized"===t.name&&e(t.outsideApi)})}),this.state.add(e=>{"initializing"===e.name&&e.outsideApiInitPromise.then(e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler(()=>{e.destroy(void 0)})}).catch(e=>{this.destroy(e)})})}init(e){Object(as.a)("SingleVASFrame: do init");const t=ql(e);this.addDestroyHandler(()=>{t.abortInit()}),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");Object(as.a)("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){Object(as.a)("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let Jl;const Zl=()=>(Jl||(Jl=new Ql).addDestroyHandler(()=>{Jl=void 0}),Jl),$l=async e=>{const t=Zl();return(await t.initPromise).doGETRequest(e)},ec=function(e,t){let i=e[t];if(!Object(gs.a)(i)){const n=i;try{delete e[t],i=e[t],e[t]=n}catch(r){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,Object(_s.a)(t))for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return new i},tc=e=>e instanceof Date||"Date"===Object(Vd.a)(e);var ic=i(47);const rc=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let r=t;if(Object(ls.a)(t)){return t.map(t=>e(t,i))}return tc(t)?new Date(t.getTime()):(!Object(Ds.a)(t)&&Object(_s.a)(t)&&(r=i.preserveConstructors?ec(t):{},Object(ic.a)(t,(t,n)=>{r[n]=e(t,i)})),r)},nc=["nobanner","noad"];let ac={ads:[],children:[],xmlString:"",url:void 0};const oc=(e,t,i)=>{const r=B(e,t,i),n=parseInt(r,10);return c(n)?n:i},sc=-1,dc=4,lc=2147483647;var cc=i(68),uc=i(48);G({},uc.a);const hc=G({},uc.a),pc=e=>hc[e],Ac=(ns.a,ns.a,ns.a,ns.a,"TRUE"===pc("IGNORE_DESIRED_BITRATE_INAPP"));var mc=i(148);const vc=Boolean(mc.a),fc=-1,gc={adLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0,disclaimers:0},bc=Object(Bd.a)(gc),yc=_(gc,()=>!1),_c={controlsVisibility:{}},Oc={};let Ec={sequence:0,adId:void 0,bidreqid:void 0,campaignid:void 0,pageId:void 0,impId:void 0,vmapRequestId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],icons:[],isNonLinear:!1,progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,isClickable:!0,isNotReplacedBroadcastAd:!1};let Sc={showCountDown:!0,showSoundButton:!0,showLabel:!0};const Tc=e=>({src:M(e.querySelector("StaticResource")),program:B(e,"program"),xPosition:oc(e,"xPosition",0),yPosition:oc(e,"yPosition",0),width:oc(e,"width",0),height:oc(e,"height",0)}),wc=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let Pc;const Cc=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const r=e.querySelector("VideoClicks"),n=e.querySelectorAll("MediaFile"),a=e.querySelector("Linear"),o=e.querySelector("NonLinear"),s=e.querySelector("NonLinearClickThrough"),d=e.querySelector("TrackingEvents"),l=d?d.querySelectorAll("Tracking"):[],c=Object(dd.a)(e.querySelectorAll("Impression")),u=e.querySelectorAll("Error"),h=e.querySelector("Extensions"),p=e.querySelector("Description"),A=e.querySelectorAll("Icons Icon"),m=e.querySelector("AdParameters"),v=e.querySelector("AdSystem"),f=e.querySelector("AdTitle"),b=e.querySelector("Creative"),y=Object(Dl.a)(e.id)?e.id:void 0,_=rc(Ec,{preserveConstructors:!1});_.adId=y,b&&(_.creativeId=Object(Dl.a)(b.id)?b.id:void 0),_.parseIndex=void 0===Pc?Pc=0:++Pc,_.randomHexString=Object(ol.a)(16);const O=e.querySelector("InLine"),E=e.querySelector("Wrapper"),S=Boolean(O);if(S===Boolean(E)){if(S)throw new is.a({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new is.a({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(_.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return sc;const i=parseInt(t,10);return ee(i)?i:(rs.c.error({error:new is.a({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),sc)}(e),S&&m){const e=M(m);_.adParameters=e;const t=F(e);if(Object(_s.a)(t)){_.adParametersObject=t;const e=function(e){if(!Object(_s.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(_s.a)(t))return;const{data_params:i}=t;if(!Object(_s.a)(i))return;const{misc:r}=i;if(!Object(_s.a)(r))return;const{click_url:n}=r;if(!Object(_s.a)(n))return;const{abuse:a}=n;return Object(Dl.a)(a)?a:void 0}(t);e&&(_.abuseUrl=e),_.playbackAdParameters=J(t.playbackParameters).config;const i=function(e){if(!Object(_s.a)(e))return;const{background:t}=e;return Object(_s.a)(t)&&Object(Dl.a)(t.color)?t.color:void 0}(t);void 0!==i&&(_.backgroundColor=i);const r=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(Object(Dl.a)(t))return t}(t);r&&wc(_,"packshotStart",r);const{bidreqid:n,campaignid:a,pageId:o,impId:s,vmapRequestId:d}=function(e){if(!Object(_s.a)(e))return{};const{AUCTION_DC_PARAMS:t}=e;if(!Object(_s.a)(t))return{};const{data_params:i}=t;if(!Object(_s.a)(i))return{};const{misc:r}=i;if(!Object(_s.a)(r))return{};const{bidreqid:n,campaignid:a,pageId:o,impId:s,vmap_request_id:d}=r;return{bidreqid:Object(Dl.a)(n)?n:void 0,campaignid:Object(Dl.a)(a)?a:void 0,pageId:Object(Dl.a)(o)?o:void 0,impId:Object(Dl.a)(s)?s:void 0,vmapRequestId:Object(Dl.a)(d)?d:void 0}}(t);_.bidreqid=n,_.campaignid=a,_.pageId=o,_.impId=s,_.vmapRequestId=d}}if(E){const t=M(e.querySelector("VASTAdTagURI"));if(!t)throw new is.a({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});_.vastAdTagUri=t}if(void 0!==n)for(let g=0;g<n.length;g++){const e=U(n[g]);e&&_.mediaFiles.push(e)}if(r){const e=M(r.querySelector("ClickThrough"));e&&(_.clickThrough=e)}if(r){const e=r.querySelectorAll("ClickTracking");for(let t=0;t<e.length;t++)wc(_,"clickThrough",M(e[t]))}for(let g=0;g<l.length;g++){const e=B(l[g],"event"),t=M(l[g]);if("progress"===e){const e=B(l[g],"offset",""),r=$(e);void 0!==r?_.progressTrackings.push({urls:[t],offset:r}):rs.c.error({error:new is.a({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else wc(_,e,t)}Object(ds.a)(c,e=>{wc(_,"impression",M(e))});for(let g=0;g<u.length;g++)wc(_,"error",M(u[g]));for(let g=0;g<A.length;g++)_.icons.push(Tc(A[g]));if(h){const e=h.querySelectorAll('Extension[type="skipAd"]');for(let l=0;l<e.length;l++)rs.c.event({name:"UsingSkipAdExtensionInVast",probability:ts.a,data:void 0}),wc(_,"skip",M(e[l]));const t=h.querySelector('Extension[type="skipTime"]');if(x(t)){const e=Z(M(t));rs.c.event({name:"UsingSkipTimeExtensionInVast",probability:ts.a,data:{skipTime:e}}),_.skipTime=Z(M(t)),_.skipTime>180&&(_.skipTime=0)}const i=h.querySelector('Extension[type="controls"]');i&&(_.imhoParams=(e=>{const t=te({},Sc),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==B(i,"layout"));const r=e.querySelector('control[id="soundbtn"]');r&&(t.showSoundButton="0"!==B(r,"layout"));const n=e.querySelector('control[id="adlabel"]');return n&&(t.showLabel="0"!==B(n,"layout")),t})(i));const r=h.querySelector('Extension[type="isClickable"]');x(r)&&(_.isClickable="0"!==M(r)),h.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(_.isNotReplacedBroadcastAd=!0);const n=h.querySelector('Extension[type="backgroundBlur"]');x(n)&&(_.backgroundBlur="1"===M(n));const a=h.querySelector('Extension[type="OutstreamEndScreen"]');a&&(_.endScreenParams=(e=>{const t={randomBackgrounds:[]},i=e.querySelector("RandomBackgrounds");if(i){const e=i.querySelectorAll("Background");for(let i=0;i<e.length;i++){const r=B(e[i],"src");Object(Dl.a)(r)&&t.randomBackgrounds.push(r)}}return t})(a));const o=h.querySelector('Extension[type="CustomTracking"]'),s=o?o.querySelectorAll("Tracking"):[];for(let l=0;l<s.length;l++){const e=B(s[l],"event");wc(_,e,M(s[l]))}const d=h.querySelector('Extension[type="isIndependentOnVideoElement"]');x(d)&&(_.isIndependentOnVideoElement="1"===M(d))}if(x(p)&&(_.description=M(p)),x(v)&&(_.adSystem=M(v)),x(f)&&(_.adTitle=M(f)),a){const e=B(a,"skipoffset","").trim();if(""!==e){const t=Z(e);isNaN(t)?g(new is.a({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),_.trackingEvents.error):_.skipOffset=t}const t=a.querySelector("Duration");t&&(_.duration=Z(M(t)))}if(o){if(_.isNonLinear=!0,s){const e=M(s);e&&(_.clickThrough=e)}_.mediaFiles=Object(Xd.a)([H(o)],Boolean)}return _},Ic=async e=>{const t="YANDEX"===e.loadParameters.vastSourceType,{xmlString:i,xmlVastNode:r}=e,n=r.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!Object(Al.a)(e))return!1;const t=Number(e.split(".")[0]);return!!u(t)&&t<=dc}(n))throw new is.a({code:t?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:i,version:n}});const a=Object(dd.a)(r.querySelectorAll("VAST Ad"));if(0===a.length)return rc(ac,{preserveConstructors:!1});const o=[],s=Object(os.a)(a,i=>{const r=Cc(i,{isYandexVastUrl:t}),{vastAdTagUri:n}=r;if(!n)return[r];if(e.loadParameters.wrapperMaxCount<=1)return rs.c.error({error:new is.a({code:t?"YANDEX_WRAPPER_MAX_COUNT_LIMIT":"WRAPPER_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:a,wrapperTimeout:s}=e.loadParameters,d=Object(Qd.a)(s),l=d.promise.then(()=>(rs.c.error({error:new is.a({code:t?"YANDEX_WRAPPER_LOAD_TIMEOUT":"WRAPPER_LOAD_TIMEOUT",details:{wrapperTimeout:s,vastAdTagUri:n,parsingParameters:e.loadParameters}})}),[])),c=Lc({url:v({url:n,options:a,win:window}),loadParameters:ie({},e.loadParameters,{wrapperMaxCount:e.loadParameters.wrapperMaxCount-1})}).then(e=>(d.clear(),o.push(e),Object(os.a)(e.ads,e=>(((e,t)=>{t.mediaFiles.length&&(e.mediaFiles=[...e.mediaFiles,...t.mediaFiles]),Object(ds.a)(Object(Bd.a)(t.trackingEvents),i=>{e.trackingEvents[i]=[...e.trackingEvents[i]||[],...t.trackingEvents[i]||[]]}),e.clickThrough||(e.clickThrough=t.clickThrough),null===e.skipTime&&(e.skipTime=t.skipTime),null===e.skipOffset&&(e.skipOffset=t.skipOffset),e.isClickable=e.isClickable||t.isClickable,e.progressTrackings.push(...t.progressTrackings),isNaN(e.duration)&&(e.duration=t.duration),e.sequence===sc&&(e.sequence=t.sequence),t.isNotReplacedBroadcastAd&&(e.isNotReplacedBroadcastAd=!0),!1!==e.backgroundBlur&&"boolean"===typeof t.backgroundBlur&&(e.backgroundBlur=t.backgroundBlur),t.endScreenParams&&(e.endScreenParams?((e,t)=>{e.randomBackgrounds.push(...t.randomBackgrounds)})(e.endScreenParams,t.endScreenParams):e.endScreenParams=t.endScreenParams),e.adSystem||(e.adSystem=t.adSystem),t.isIndependentOnVideoElement&&(e.isIndependentOnVideoElement=!0)})(e,r),e)))).catch(i=>(rs.c.error({error:new is.a({code:t?"YANDEX_WRAPPER_LOAD_ERROR":"WRAPPER_LOAD_ERROR",details:{error:i,vastAdTagUri:n,parsingParameters:e.loadParameters}})}),[]));return Promise.race([l,c])}),d=k(await Promise.all(s)),[l,c]=V(d,e=>e.isNonLinear),h=c.length>0;return h&&l.length>0&&rs.c.error({error:new is.a({code:t?"YANDEX_LINEAR_AND_NONLINEAR_IN_SINGLE_VAST":"LINEAR_AND_NONLINEAR_IN_SINGLE_VAST",details:void 0})}),{ads:h?c:l,xmlString:i,children:o,url:e.vastUrl}},Nc=async e=>{const{xmlString:t}=e,i=L(t),r="YANDEX"===e.loadParameters.vastSourceType;if(!i)throw new is.a({code:r?"YANDEX_INVALID_VAST_XML":"INVALID_VAST_XML",details:{xmlString:t}});const n=i.querySelector("VAST");if(!n){const e=r?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",n=r?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new is.a({code:nc.indexOf(j(i))>-1?e:n,details:{xmlString:t}})}return Ic(ie({},e,{xmlVastNode:n}))},Dc=async(e,t)=>{let i;try{await new Promise((r,n)=>{t&&t.then(r,n),i=window.setTimeout(r,e)})}finally{window.clearTimeout(i)}};var Rc=i(42);const kc=e=>{let{url:t,data:i,withCredentials:r=!0}=e;return new Promise((e,n)=>{const a=new XMLHttpRequest;a.open("GET",t),a.withCredentials=r,a.onerror=()=>n({reason:"error",error:new Error("XHR Error["+a.status+"]["+a.statusText+"]["+t+"]")}),a.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:r}=t;i({responseText:r,responseStatus:e})}})({xhr:a,resolve:e});try{a.send(i)}catch(o){o.message="XHR Send Error["+o.message+"]["+t+"]",n({reason:"error",error:o})}})},Vc=e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:n,timeoutDetails:a}=e;const o=t;if("string"===typeof o.reason&&Object(_s.a)(o.error)){const{error:e,reason:t}=o;if("error"===t)return new is.a(e,{code:i,details:r});if("timeout"===t)return new is.a(e,{code:n,details:a})}return new is.a(t,{code:i,details:r})},jc=async e=>{let{url:t,loadParameters:i}=e;const{vastTimeout:r}=i,n=s(t),a="VASFrame"===i.requestMethod?$l:kc,o="boolean"!==typeof tl||tl;try{const{responseText:e,responseStatus:s}=await ne({url:t,data:null,timeout:r,doRequest:a,withCredentials:o}),d=function(e,t,i){if(200!==t)switch(e){case il:return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case rl:return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,s,n);if(d)throw new is.a({code:d,details:{url:t,responseText:e,responseStatus:s}});return Nc({xmlString:e,loadParameters:i,vastUrl:t})}catch(d){const e="AD_FOX"===i.vastSourceType;let a;a=Object(nl.a)(d)?d.code:e?"ADFOX_VAST_LOAD_ERROR":n?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR";const o=Vc({thrownError:d,errorCode:a,errorDetails:void 0,timeoutCode:n?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT",timeoutDetails:{vastTimeout:r,url:t}});return Promise.reject(o)}},Lc=async e=>{let{url:t,loadParameters:i}=e;if(!t)return Promise.reject(new is.a({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:r}=i;rs.c.event({name:"VastLoadStart",probability:ts.a,data:{url:t,loadParameters:i,timeout:r}});const n=Date.now(),a=await jc({url:t,loadParameters:i});return rs.c.values({name:"VastLoadSuccess",probability:ts.a,data:{url:t,timeout:i.vastTimeout,vast:a},labels:{},values:{adsCount:a.ads.length,timeSpent:Date.now()-n}}),a},Bc={bids:[],creatives:{},creativeUrls:{}};var Mc=i(105);const xc=100,Fc=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};class Uc extends Md.a{constructor(e,t,i){super(),this.adFoxParameters=e,this.adBreak=t,this.win=i,ue(this,"requestPromise",void 0),ue(this,"onFetchBidsStart",new dl.a),ue(this,"postMessageRequestId",ks.a+"_"+Object(ol.a)(16)),this.addDestroyHandler(()=>{this.onFetchBidsStart.removeAll()}),this.requestPromise=new Promise(e=>{this.addDestroyHandler(e)}),this.requestBids()}requestBids(){rs.c.event({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then(async e=>{let{timeout:t}=e;rs.c.event({name:"HBFetchBidsStart",data:ce({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:r}=Object(Qd.a)(t);throw this.addDestroyHandler(i),await r,new is.a({code:"HB_FETCH_BIDS_TIMEOUT",details:ce({},this.getDataForLogs(),{timeout:t})})}).catch(e=>{rs.c.errorToStats(e),this.destroy(Bc)})}subscribeHBMessages(){this.addDestroyHandler(Object(ss.a)({element:this.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!Object(_s.a)(t)||!Object(_s.a)(i))return;const{id:r,methodName:n}=t;if(r===this.postMessageRequestId)switch(n){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:rs.c.error({error:new is.a({code:"HB_MESSAGE_UNKNOWN_METHOD",details:ce({},this.getDataForLogs(),{methodName:n})})})}}}))}handleFetchBidsStartEventData(e){if(!Object(_s.a)(e))return void rs.c.error({error:new is.a({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;u(t)?this.onFetchBidsStart.dispatch({timeout:t}):rs.c.error({error:new is.a({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:ce({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:n}=function(e,t){const i=[];if(!Array.isArray(e))throw new is.a({code:"HB_NON_ARRAY_BIDS_DATA",details:le({},t,{fetchedBids:e})});e.length>1&&i.push(new is.a({code:"HB_EXTRA_BIDS_DATA",details:le({},t,{fetchedBids:e})}));const[r]=e;if(!Object(_s.a)(r))throw new is.a({code:"HB_NON_OBJECT_BIDS_DATA",details:le({},t,{fetchedBids:e})});const{bids:n,creatives:a,creativeUrls:o}=r;if(!Array.isArray(n)||!Fc(n,_s.a))throw new is.a({code:"HB_INVALID_BIDS_OBJECTS",details:le({},t,{fetchedBids:e})});if(!Object(_s.a)(a)||!Fc(de(a),Al.a))throw new is.a({code:"HB_BIDS_INVALID_CREATIVES",details:le({},t,{fetchedBids:e})});if(!Object(_s.a)(o)||!Fc(de(o),Al.a))throw new is.a({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:le({},t,{fetchedBids:e})});return{bids:n,creatives:a,creativeUrls:o,warnings:i}}(e,this.getDataForLogs()),a={bids:t,creatives:i,creativeUrls:r};ae(n),rs.c.event({name:"HBFetchBidsComplete",data:ce({},this.getDataForLogs(),{fetchedBidsObject:a})}),this.destroy(a)}catch(t){rs.c.errorToStats(t)}}sendBidsRequest(){const e=Object(Mc.a)(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const n of e)se(ce({win:n},t));const{promise:i,clear:r}=Object(Qd.a)(xc);return this.addDestroyHandler(r),new Promise((e,t)=>{i.then(()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),r=new Promise(r=>{t=Object(ss.a)({element:e,eventName:"message",listener:e=>{let{data:n}=e;n===i&&(t(),r())}}),e.postMessage(i,"*")});return{teardown:t,promise:r}}(this.win);return this.addDestroyHandler(t),e}).then(()=>{t(new is.a({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))}).catch(t);const n=oe(t=>{r(),e(t)},e=>{rs.c.error({error:new is.a({code:"HB_START_MULTIPLE_TIMES",details:ce({},this.getDataForLogs(),{data:e})})})});this.addDestroyHandler(this.onFetchBidsStart.add(n))})}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const Hc={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},Wc=Object(Bd.a)(Hc),zc=Object(Zd.b)(window,"adsdksecuremode"),Gc=zc&&Object(al.a)(Wc,zc)?zc:void 0,Yc=e=>{let{secureMode:t,url:i}=e;const r=null!==Gc&&void 0!==Gc?Gc:t;return"ForceSafe"===r||"Safe"===r&&(!i||!s(i))},Xc=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],qc=(fe(),function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1});var Kc=i(71);const Qc=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var Jc,Zc;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(Jc||(Jc={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(Zc||(Zc={}));const $c=e=>Math.max(0,Math.round(e));class eu{constructor(){this.config=ye()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}let tu=0;const iu=()=>tu,ru=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},nu=e=>{return e.getFullYear()+"-"+ru(e.getMonth()+1,2)+"-"+ru(e.getDate(),2)+"T"+ru(e.getHours(),2)+":"+ru(e.getMinutes(),2)+":"+ru(e.getSeconds(),2)+"."+ru(e.getMilliseconds(),3)+(e=>{const t=-e.getTimezoneOffset();return""+(t>=0?"+":"-")+ru(Math.floor(Math.abs(t)/60),2)+":"+ru(Math.abs(t)%60,2)})(e)},au=()=>(function(e,t){let i=e+Object(_d.a)()*(t+1-e);return i=Math.floor(i)})(1,4294967295),ou=(e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(a){}const r=/(%[0-9A-Z]{2})+/g;let n;for(let o=0;o<i.length;o++){const e=i[o].split("="),s=e.slice(1).join("=");try{const i=e[0].replace(r,decodeURIComponent);if(s.replace(r,decodeURIComponent),t===i){n=decodeURIComponent(s);break}}catch(a){return}}return n};let su=0;const du=e=>{let{win:t,date:i=new Date,pr1:r,pr:n,testtag:a,isTurbo:o=ve(t),addsSsSkipToken:s=!1,layoutConfig:d=new eu,cookies:l,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:A,extid_tag_loader:m}=e;d.set("req_no",(()=>su++)()),d.set("ad_no",_e());const v=Te({},(e=>{let{win:t,pr:i,date:r=new Date,pr1:n=au(),location:a,extid_loader:o,extid_tag_loader:s}=e;const d=fe(t)&&t.context&&t.context.sourceUrl||void 0,l=d||t.document.referrer;return{dl:d||a||Oe(t),date:nu(r),pd:r.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:n,pr:i,prr:l,pv:r.getHours(),pw:r.getDay(),extid_loader:void 0===o?Ee(t):o,extid_tag_loader:void 0===s?Se(t):s}})({win:t,date:i,pr1:r,pr:n,location:p,extid_loader:A,extid_tag_loader:m}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:a?a.toString():"","is-turbo":Number(o),"skip-token":ge(),"ad-session-id":h||Sd(),"layout-config":d.toString(),"enable-flat-highlight":1},l);return s&&(v["ss-skip-token-length"]=20,v["allow-repeat-ads"]=0),v},lu=2048,cu=[/avito/],uu=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],hu=["an.ya","ndex.ru/adf","ox"].join(""),pu="TRUE"===pc("REQUEST_ADFOX_FROM_YANDEX_RU")&&!ll.a.LOADER_LOADED_FROM_AN_YANDEX_RU?vs.b+"/an/adfox":vs.a+"/adfox";class Au extends Md.a{constructor(e){super(),this.params=e,Ve(this,"loadVastPromise",void 0),Ve(this,"loadingTimeoutPromise",void 0);const{promise:t,clear:i}=Object(Qd.a)(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch(e=>{throw rs.c.errorToStats(e),this.destroy(),e})}async processAdFoxVastLoading(){var e;const{adConfig:t,adBreak:i,adPlacementOptions:r}=this.params;let{adFoxParameters:n}=t;const{bids:a,containerId:o}=n;if(!a&&o){const e=new Uc(ke({},n,{containerId:o}),i,window);this.addDestroyHandler(()=>{e.destroy(Bc)});const r=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then(()=>{throw new is.a({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,adBreak:i,timeout:i.vastTimeout}})})]);n=ke({},n,r)}const s=await Promise.race([Re({adFoxParameters:n,adPlacementOptions:r,secureMode:t.secureMode}),this.loadingTimeoutPromise.then(()=>{throw new is.a({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adBreak:i,adFoxParameters:n}})})]),{vastBase64:d}=s;if(d){const e=await this.processBase64Vast(d).catch(e=>{throw new is.a({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,adBreak:i,vastBase64:d,error:e}})});return rs.c.event({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t,adBreak:i,vast:e}}),this.destroy(),e}const l=await this.processLoadingHBCreativeUsingCampaignId(n,s),c=Object(Xd.a)(null!==(e=n.bids)&&void 0!==e?e:[],e=>""+(e.campaign_id||"")===s.campaignId);return Object(ds.a)(c,e=>{let{win_notice:t}=e;t&&Object(ds.a)(l.ads,e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)})}),rs.c.event({name:"AdFoxVastLoaded",data:{adConfig:t,adBreak:i,vast:l}}),this.destroy(),l}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:r,adBreak:n}=this.params,{creatives:a={},creativeUrls:o={}}=e,s=a[i],d=o[i];if(!s&&!d)throw new is.a({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:r,adBreak:n,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch(e=>{throw new is.a({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastBase64:s,error:e}})}):Lc({url:d,loadParameters:yi({adConfig:r,adBreak:n,isAdFox:!0,adPlacementOptions:Ps})}).catch(e=>{throw new is.a({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastUrl:d,error:e}})})}processBase64Vast(e){let t;try{t=E(e)}catch(i){throw new is.a({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:i}})}return Nc({xmlString:t,loadParameters:yi({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:Ps}),vastUrl:void 0})}}var mu=i(76);const vu=mu.a+"/1_0",fu="https://"+vs.c+"/"+vu+"/",gu="https://"+vs.b+"/ads/system/",bu={AdSDKLoader:"adsdk",VpaidPlayerLoader:"interactive_viewer"},yu=""+fu+(bu.VpaidPlayerLoader+".js"),_u=Object(Zd.b)(window,"adsdknovastconvertation"),Ou="https://"+vs.c+"/"+vu+"/ad_creative.js",Eu={MotionTGO:Ou,InteractiveElementsAdCreative:Ou,ThemeEmpty:Ou,Survey:Ou},Su={Overlay:"overlay-creative/javascript",Motion:"motion-creative/javascript",VpaidCreative:"vpaid-creative/javascript",Survey:"survey-creative/javascript"},Tu=Le({},ws,{bitrate:0});const wu=_(i(145).a,e=>"https://"+vs.c+"/"+vu+"/"+e+".js"),Pu=function(e){const t={};return Object(ic.a)(e,(e,i)=>{t[e]=i}),t}(wu),Cu=Be({},Tu,{url:wu.InteractiveElementsAdCreative,type:Su.Motion}),Iu={MotionTGO:"motion",InteractiveElementsAdCreative:"interactiveViewer",ThemeEmpty:"themeEmpty",Survey:"survey"};var Nu=i(110);const Du="https://"+vs.c+"/"+mu.a+"/1_0/vpaid-motion.js",Ru="https://"+vs.c+"/pcode/media/vpaid-motion.js",ku="https://"+vs.a+"/system/video-ads-sdk/vpaid-motion.js",Vu=Object(hl.a)(Nu.a)+"vpaid-motion.js",ju=[Du,Ru,ku,Vu],Lu="https://"+vs.c+"/pcode/media/vpaid-creative.js",Bu="https://"+vs.c+"/"+mu.a+"/1_0/vpaid-creative.js",Mu=[Lu,Bu];var xu=i(77);const Fu=["application/javascript","application/x-javascript"],Uu=Fe({},Tu,{type:"application/x-javascript"}),Hu=Ue({url:Ou},Uu),Wu=He({},Tu,{url:wu.MotionTGO,type:Su.Motion}),zu=We({},Tu,{url:wu.Survey,type:Su.Survey}),Gu=ze({},Tu,{url:wu.ThemeEmpty,type:Su.VpaidCreative});const Yu=["https://"+vs.c+"/pcode/media/vpaid-pythia-survey-embed.js"],Xu="video-banner_survey",qu=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&ms(t,e=>Object(al.a)(Mu,e.url))},Ku="video-banner_theme_empty";var Qu=i(74);var Ju=i(125),Zu=i(72),$u=(i(178),i(35)),eh=i(111),th=i(143);const ih=Object(Bd.a)({AdSDKLoader:0,VpaidPlayerLoader:0}),rh=Object(al.a)(ih,nd.c),nh="VpaidPlayerLoader"===nd.c,ah=gu+"adsdk.js";var oh=i(144),sh=i(51),dh=i(41),lh=i(69);const ch=Object(Zd.b)(window,"adsdkabflags"),uh=Object(Zd.b)(window,lh.a);var hh=i(133),ph=i(122);const Ah=Object(Zd.b)(window,"adsdkmotionoldanimation"),mh=Object(Zd.b)(window,"adsdkthemeemptyactionbutton");var vh=i(161),fh=i(116);const gh=Object(Zd.b)(window,"adsdkver"),bh=parseInt(null!==gh&&void 0!==gh?gh:"",10),yh=rt(bh)&&u(bh)?bh:void 0,_h={adsdkdebug:hh.a,adsdkecmaver:ph.a,adsdkmotionoldanimation:Ah,adsdknovastconvertation:_u,adsdksecuremode:Gc,adsdkthemeemptyactionbutton:mh,adsdktracelogs:vh.a,adsdkwithcredentials:tl,adsdkver:yh,adsdkabflags:ch,adsdkuaas:fh.a,[lh.a]:uh},Oh={adsdkdebug:"UsingAdsdkDebugHardcodedParam",adsdkecmaver:"UsingAdsdkEcmaVerHardcodedParam",adsdkmotionoldanimation:"UsingAdsdkMotionOldAnimationHardcodedParam",adsdknovastconvertation:"UsingAdsdkNoVASTConvertationHardcodedParam",adsdksecuremode:"UsingAdsdkSecureModeHardcodedParam",adsdkthemeemptyactionbutton:"UsingAdsdkThemeEmptyActionButtonHardcodedParam",adsdktracelogs:"UsingAdsdkTraceLogsHardcodedParam",adsdkwithcredentials:"UsingAdsdkWithCredentialsHardcodedParam",adsdkver:"UsingAdsdkVerHardcodedParam",adsdkabflags:"UsingAdsdkabflagsParam",adsdkuaas:"UsingAdsdkuaasParam",[lh.a]:"UsingAimBannerId"};var Eh=i(62);const Sh="TRUE"===pc("ENABLE_UNSUPPORTED_LOADER_SCRIPT_SRC_WARNING")||void 0;var Th=i(147),wh=i(61);const Ph=()=>{if(!rh)return;const{currentScript:e}=document;if(!e)return;const{src:t,crossOrigin:i}=e;if(!Object(Al.a)(t))return;const r=nd.c,n="AdSDKLoader"===r?ah:""+fu+bu[r]+".js",a=Object(ps.f)(nt({},Object(ps.e)(t),{search:"",hash:""}));(Object(Dl.a)(i)?"anonymous"===i.toLowerCase():""===i)&&(rs.c.event({name:"CrossOriginAnonymousLoaderScript",probability:ts.a,data:{src:t,crossOrigin:String(i)}}),Object(wh.a)('VAS script "crossorigin" attribute set to the value "anonymous". This value is NOT supported. Remove this attribute.')),a!==n&&(Object(Ds.a)(Object(cl.a)(window))?rs.c.event({name:"AbdLoaderScripsSrc",probability:ts.a,data:{src:t}}):0===a.indexOf(Th.a)?rs.c.event({name:"HardcodedLoaderScriptSrc",probability:ts.a,data:{src:t}}):"AdSDKLoader"===r?(Sh&&Object(wh.a)("You are using unsupported Video Ads SDK script src ["+a+"] please, use new link ["+ah+"]"),rs.c.event({name:"UnsupportedAdsdkLoaderScriptSrc",probability:ts.a,data:{src:t,crossOrigin:String(i)}})):rs.c.event({name:"UnexpectedLoaderScripsSrc",probability:ts.a,data:{src:t,expectedSrc:n,crossOrigin:String(i)}}))};var Ch=i(135);const Ih=1e3,Nh=60,Dh=60*Nh,Rh=30*(24*Dh*Ih),kh=()=>{Date.now()-nd.a<Rh||Dc(2e3).then(()=>ot({url:fu+"build_info.json",method:"GET"})).then(e=>{let{responseText:t}=e;const{version:i}=JSON.parse(t);i!==rd.a&&rs.c.warning({name:"UsingDeprecatedLoaderVersion",message:"AdSDK version you are using ("+rd.a+") is out of date. Actual version is "+i+"."})}).catch(e=>{rs.c.error({error:new is.a(e,{code:"REQUEST_BUILD_INFO_ERROR"})})})};var Vh=i(56);const jh=window;dt({videoAd:{debugParameters:{},encodeUrl:Ju.a,loadedModules:{},loadModule:function(e){return new Promise((t,i)=>{Object(Vh.b)({moduleName:e,version:void 0,onSuccess:t,onError:i,win:window,timeout:Vh.a})})},skipTokens:[],modules:{},play:e=>(rs.c.event({name:"UsingQuickIntegrationApi",data:void 0,probability:ts.c}),new Promise((t,i)=>{Object(Vh.b)({moduleName:"AdLoader",version:void 0,onSuccess:r=>{let{play:n}=r;n(e).then(t).catch(i)},onError:i,win:window,timeout:Vh.a})})),getBundleVersion:()=>String(rd.a),getModuleVersion:()=>String(Nu.a)},video:{addVideoPlayer:(e,t,i,r)=>{rs.c.warning({name:"UsingDeprecatedGlobalMethodAddVideoPlayer",message:"You are using deprecated HTML5VideoPlayer. Use Yandex StreamPlayer https://"+vs.b+"/support/video-hosting/index.html."}),Object(Vh.b)({moduleName:"VideoPlayer",version:void 0,onSuccess:n=>{n.addVideoPlayer(e,t,i,r)},onError:ns.a,win:window,timeout:Vh.a})}}},"ya");const Lh=ya;if(Object(_s.a)(sh.b)?rs.c.event({name:"UsingGlobalStatsRootField",probability:ts.c,data:{statsRootParams:sh.b}}):Object(Zu.a)(sh.a)&&rs.c.error({error:new is.a({code:"GLOBAL_STATS_ROOT_FIELDS_EXTRACTION_ERROR",details:{error:sh.a}})}),(th.a||nh)&&(Object(ds.a)(Object(dh.a)(_h),e=>{let[t,i]=e;void 0!==i&&rs.c.event({name:Oh[t],data:{value:i}})}),$u.b)){$u.b instanceof ReferenceError?rs.c.event({name:"VasUAASConfigIsEmpty",data:{}}):rs.c.error({error:new is.a($u.b,{code:"VAS_UAAS_CONFIG_EXTRACTION_ERROR",details:{error:$u.b}})})}if(rh){const e=Object(Ul.a)(Object(os.a)(Object(Bd.a)(uc.a),e=>["flag_"+e,1])),t={crossorigin:void 0},{currentScript:i}=document;if(i){const{crossOrigin:e}=i;Object(Dl.a)(e)&&(t.crossorigin=e.toLowerCase())}rs.c.values({name:"CreateLoader",data:st({statsRootParams:sh.b},t),labels:{bundleName:nd.c},values:st({liveTime:Date.now()-nd.a},e)}),oh.a&&eh.a.logTimingAndLoadRum("adsdk.js",(null===Eh.a||void 0===Eh.a?void 0:Eh.a.src)||ah)}rh&&(Ph(),kh());const Bh=Object(cs.a)(e=>{rs.c.event({name:"UsingVpaidAdSkipTokens",data:{skipTokens:e},probability:ts.a})});class Mh{static toBase64(){const e=Mh.getUnits();return e.length>0&&Bh(e),e.length?O(Object(os.a)(e,e=>"yabs."+e).join("\n")):void 0}static getUnits(){return Array.isArray(Lh.videoAd.skipTokens)?Lh.videoAd.skipTokens:[]}}var xh=i(108),Fh=i(109);const Uh=e=>{let{additionalParams:t,videoContentId:i,videoContentName:r,videoPublisherId:n,videoPublisherName:a,videoGenreId:o,videoGenreName:s,musicArtistId:d,musicGenreId:l,musicGenreName:c,preferableAdSize:u}=e;return ut({},ct(t),{"video-content-id":i,"video-content-name":r,"video-publisher-id":n,"video-publisher-name":a,"video-genre-id":lt(o),"video-genre-name":lt(s),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:d,"music-genre":l,"music-genre-name":c,"ad-session-id":wd(),"pcode-icookie":xh.a,"pcode-test-ids":Fh.a,"pcode-flags":JSON.stringify(uc.a),"preferable-ad-size-width":u?String(u.width):void 0,"preferable-ad-size-height":u?String(u.height):void 0,"pcode-version":void 0,"widget-version":void 0,uniformat:void 0})},Hh=e=>{let{adConfig:t,adBreak:i,random:r,win:n}=e;const{targetRef:a,width:o,height:s,tagsList:d,extParam:l,charset:c,distrId:u,metaRequestIndex:h,metaImpIdRequestIndex:p}=t,A=n.document.referrer,m=Object(Qu.a)(n);let v;return a?(v=a,rs.c.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:ts.a})):"about:blank"===m?(v=A,rs.c.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:ts.a})):v=m,pt({},Uh(t),{"meta-request-index":void 0===h?void 0:String(h),"meta-impid-request-index":void 0===p?void 0:String(p),"repeat-number":ht(i)?String(i.repeatNumber):void 0,"target-ref":v,"page-ref":A,"video-width":o,"video-height":s,"tags-list":lt(d),"ext-param":l,charset:c||"UTF-8","video-session-id":i.sessionId,"skip-token":Mh.toBase64(),"distr-id":u,"enable-page-options":"65536",rnd:String(r),uniformat:"ENABLE"===Rs.a.getFlagValueAndActivateTestId("UNIFORMAT")?"true":void 0})},Wh="Yabs Ad Server",zh=[Wh,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],Gh={width:void 0,height:void 0},Yh=void 0,Xh={text:"",textColor:"#FFFFFF",isVisible:!1};var qh=i(151);const Kh=e=>{const{protocol:t}=Object(ps.e)(e);return"blob:"===t?e:s(e)?Object(Ds.a)(Object(cl.a)())?e:Object(ps.b)(e,{[Gs]:ks.a,vsid:qh.a}):e},Qh=e=>yt({},e,{url:Kh(e.url)});var Jh=i(44);i(129);const Zh="TRUE"===pc("ENABLE_MEDIA_FILES_WITH_MSE_FILTER_UNDER_ABD_ONLY")||void 0,$h=e=>{const t=Number(pc(e));return c(t)?t:void 0},ep=$h("MEDIA_FILE_BITRATE_PRIORITY_FACTOR"),tp=ee(ep)?wt(ep,0,1):1e-6;var ip=i(114);const rp=e=>{let{src:t,win:i}=e;const r=et(t),{promise:n,teardown:a}=Object(ip.a)({src:r?Vu:t,win:i});return{promise:n.then(()=>i.getVPAIDAd),teardown:a}},np=$h("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_MP4"),ap=ee(np)?np:void 0,op=$h("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNKNOWN_TYPE"),sp=ee(op)?op:void 0,dp=$h("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNSET_TYPE"),lp=ee(dp)?dp:void 0,cp=$h("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_WEBM"),up=ee(cp)?cp:void 0,hp={webm:null!==up&&void 0!==up?up:1,mp4:null!==ap&&void 0!==ap?ap:2,unknown:null!==sp&&void 0!==sp?sp:3,unset:null!==lp&&void 0!==lp?lp:4},pp=["application/vnd.apple.mpegurl","application/x-mpegurl"],Ap=["bitrate","minBitrate","maxBitrate","width","height"],mp=9007199254740991,vp=$h("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FACTOR"),fp=ee(vp)?vp:.001,gp={multiplier:1,isVertical:!1},bp=1e3,yp=Object(cs.a)(()=>{rs.c.error({error:new is.a({code:"MEDIA_FILE_STRING_SIZE",details:void 0}),probability:ts.a})}),_p=zt("DPR_STRATEGY",["SUBTRACTION","DIVISION"]),Op=$h("DPR_WEIGHT"),Ep=$h("PERFECT_VDPR"),Sp=$h("PERFECT_VPR"),Tp=$h("VPR_PRIORITY_MULTIPLIER"),wp="undefined"===typeof Tp?1.2:Tp,Pp="undefined"===typeof Ep?1:Ep,Cp="undefined"===typeof Sp?1:Sp,Ip="video/webm",Np='video/webm; codecs="vorbis,vp8"';const Dp="video/mp4";var Rp=i(65);const kp=document.createElement("video"),Vp="function"===typeof kp.load,jp=Vp?function(e,t){return void 0===t&&(t=kp),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,Lp="TRUE"===xu.a.getFlagValueAndActivateTestId("DISABLE_144P_QUALITY"),Bp="TRUE"===pc("ENABLE_H265_CODECS")||void 0,Mp="TRUE"===pc("ENABLE_VP9_CODECS")||void 0,xp=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},Fp=["4D","64"],Up=["0C","14","15","1E","1F","20","28","2A"],Hp=(e=>{const t=qt(e);return!!t&&Boolean(b(()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"')))})(window),Wp=qt(),zp=!Rp.a&&jp("video/webm"),Gp=Hp&&zp,Yp=Wp&&Object(gs.a)(Wp),Xp=Object(Ds.a)(Cs.a),qp=void 0!==window.AbortController&&void 0!==window.fetch&&Object(gs.a)(AbortController)&&Object(gs.a)(fetch),Kp=Yp&&qp,Qp=Object(cs.a)(e=>{rs.c.error({error:new is.a({code:"INVALID_MEDIA_FILE_MIN_MAX_BITRATE",details:{mediaFile:e}})})}),Jp=(e,t)=>e+"_"+t;class Zp extends Md.a{constructor(e){let{win:t,onReport:i}=e;super();const r=t;if(void 0===r.ReportingObserver)return;const n=new r.ReportingObserver(e=>{i({reportSourceEvent:"callback",reports:e,records:n.takeRecords()})},{buffered:!0});n.observe();const a=n.takeRecords();a.length&&i({reportSourceEvent:"buffered",reports:[],records:a}),this.addDestroyHandler(Object(ss.a)({element:t,eventName:"beforeunload",listener:()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler(()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),n.disconnect()})}}const $p=250;let eA=0;const tA=[],iA=(e,t)=>{const i=e.contentDocument.body;return ai(()=>{var e;!Boolean(null===(e=i.ownerDocument)||void 0===e?void 0:e.defaultView)&&t()})};class rA extends Md.a{static create(e){const{parentElement:t,attributes:i,scope:r}=e,n=oi(t,i);if(!n)throw ii({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new rA(si({},e,{iframe:n}))}static createHidden(e){const{parentElement:t,attributes:i,scope:r}=e,n=function(){const e=oi(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}(t,i);if(!n)throw ii({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new rA(si({},e,{iframe:n}))}constructor(e){super(),di(this,"iframe",void 0),di(this,"window",void 0);const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler(()=>{Object(es.a)(i)}),this.addDestroyHandler(iA(this.iframe,()=>{this.destroy(ii({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))})),this.addDestroyHandler(ni(this.window,(i,r,n)=>{const a="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;rs.c.error({error:ii({scope:t,errorType:r,error:i,details:si({},a,{error:i,data:n})})})}))}}var nA,aA=i(103);!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(nA||(nA={}));Object(ys.a)({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});var oA,sA;const dA=null!==(oA=null!==(sA=window.URL)&&void 0!==sA?sA:window.webkitURL)&&void 0!==oA?oA:{},lA=Object(Ds.a)(dA.createObjectURL)&&Object(Ds.a)(dA.revokeObjectURL)?dA:void 0,cA=e=>jp(e)&&(e=>Boolean(lA)&&!Vt(e))(e),uA=Object(ys.a)({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class hA{constructor(e){hi(this,"readyPromise",void 0),hi(this,"ready",!1),hi(this,"video",void 0),hi(this,"xhr",void 0),hi(this,"blobUrl",void 0);const{type:t}=e;if(!cA(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=this.preloadToBlob(e);uA.call({callbackArguments:[{mediaFile:e,videoPreloader:this}]}),this.readyPromise=i.then(t=>(this.ready=!0,null!==t&&void 0!==t?t:e))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),Object(Al.a)(this.blobUrl)&&(null===lA||void 0===lA||lA.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await ot({method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e});return ui({},e,{url:null===lA||void 0===lA?void 0:lA.createObjectURL(t)})}}class pA{constructor(e){Ai(this,"parsedParams",void 0),Ai(this,"contentType",void 0),Ai(this,"_promise",void 0),Ai(this,"_isPreloaded",!1),Ai(this,"_vpaidWindow",void 0),Ai(this,"preloaders",[]),Ai(this,"_preloadedVpaidAdParameters",void 0),Ai(this,"_preloadedVideoFile",void 0),Ai(this,"_preloadedAdCreativeInitFunction",void 0),Ai(this,"getMediaFiles",void 0),Ai(this,"getJSMediaFile",void 0),Ai(this,"getVastAd",void 0),Ai(this,"mediaAd",void 0);const{params:t,contentType:i,options:r,mediaAd:n}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i=nA.NORMAL,preloadJS:r=!0,preloadVideo:n=!0}=e,{width:a=t.clientWidth,height:o=t.clientHeight}=e,s=Y(e.desiredBitrate);let{preloadTimeout:d}=e;return("number"!==typeof d||d>lc)&&(d=lc),{preloadTimeout:d,width:a,height:o,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:r,preloadVideo:n}}(t),this.contentType=i,this.getMediaFiles=r.getMediaFiles,this.getJSMediaFile=r.getJSMediaFile,this.getVastAd=r.getVastAd,this.mediaAd=n}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}destroy(e){this._promise&&rs.c.event({name:"PreloadCancelled",data:{reason:e},probability:ts.a}),this._promise=void 0,this._vpaidWindow=void 0,Object(ds.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{const{preloadJS:e,preloadVideo:t}=this.parsedParams,i=this.getVastAd();if(e&&"js"===this.contentType){if(!ci(i))return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:e,animationMediaFile:t}}=ft(i.adParameters),r=e.length>0?this._preloadVideoFile(e,this.parsedParams):void 0,n=t?this._preloadAdCreative(t,this.parsedParams):void 0;return void(await Promise.all([r,n]))}t&&"video"===this.contentType&&await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams)}catch(e){Object(ds.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0,this._logError(e,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=rA.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e,t){const i=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:t,teardown:r}=Pt({animationMediaFile:e,win:i});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:r}),this._preloadedAdCreativeInitFunction=await t}catch(r){return void this._logError(r,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["preloadTimeout"]),r=this.getJSMediaFile();if(!r)return;const n=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=n;try{const{promise:e,teardown:t}=rp({src:r.url,win:n});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(s){return this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null===(t=n.Ya)||void 0===t?void 0:t.preloadVPAIDAd))return;const a=n.Ya.preloadVPAIDAd(pi({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let o;this.preloaders.push(a);try{o=await a.readyPromise}catch(s){return void this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=o.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:r,desiredBitrate:n}=t;const{adBreak:a}=this.mediaAd,o=this.mediaAd.getAdPodId(),{prioritisedMediaFile:s}=ti(e,{container:{width:i,height:r},desiredBitrate:n,isVideoADB:Object(Ds.a)(Object(cl.a)()),bitratePriorityFactor:tp,allowedToHideVideoSlotAreaPortion:0,mediaFileTypePriorities:hp,enableMediaFilesWithMseFilterUnderAbdOnly:Zh},{adBreak:a,adPodId:o,initiator:"PreloadingController"});if(!s)return;const d=Qh(s),l=new hA(d);let c;this.preloaders.push(l);try{c=await l.readyPromise}catch(u){return void this._logError(u,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=c}_logError(e,t){li(e),rs.c.error({error:new is.a(e,{code:t})})}}class AA{constructor(){mi(this,"src",void 0),mi(this,"type",void 0),mi(this,"x",NaN),mi(this,"y",NaN),mi(this,"width",NaN),mi(this,"height",NaN)}static fromVastIcon(e){const t=new AA;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class mA{get contentType(){return this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.adBreak=e,this.vastAd=t,this.adConfig=i,vi(this,"icons",void 0),vi(this,"preloadingController",void 0),vi(this,"duration",0),vi(this,"getMediaFiles",()=>_t(this.vastAd.mediaFiles,this.adConfig.secureMode)),vi(this,"getAdContentDimensions",()=>(function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:r,adParameters:n,isNonLinear:a}=t;if(a)return Yh;if(St(t)){const{parsed:{videoMediaFiles:e}}=ft(n);return 0===e.length?Gh:gt(e)}const o=Ot(r,i);return gt(o?[o]:_t(r,i))})({vastAd:this.vastAd,secureMode:this.adConfig.secureMode})),vi(this,"getJSMediaFile",()=>Ot(this.vastAd.mediaFiles,this.adConfig.secureMode)),vi(this,"getPreloadedAdCreativeInitFunction",()=>{var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedAdCreativeInitFunction}),this.icons=Object(os.a)(this.vastAd.icons,e=>AA.fromVastIcon(e)),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return(this.vastAd.adId||"")+";"+(this.vastAd.creativeId||"")+";"+this.vastAd.parseIndex+";"+this.vastAd.randomHexString+";"+(this.vastAd.bidreqid||"")+";"+(this.vastAd.campaignid||"")+";"+(this.vastAd.pageId||"")+";"+(this.vastAd.impId||"")+";"+(this.vastAd.vmapRequestId||"")}trackError(e){g(e,this.vastAd.trackingEvents.error)}hasMediaFiles(){const e=this.getMediaFiles();return Boolean((null===e||void 0===e?void 0:e.length)>0)}isNotReplacedBroadcastAd(){return this.vastAd.isNotReplacedBroadcastAd}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new pA({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){const{isNonLinear:e,adSystem:t}=this.vastAd;return t===Wh||e}getIsIndependentOnVideoElement(){if(this.vastAd.isNonLinear)return!0;if(Tt(this.vastAd))return!0;const e=this.getJSMediaFile();if(!e)return!1;if(et(e.url)&&s(e.url)){if(void 0===this.vastAd.isIndependentOnVideoElement)return rs.c.event({name:"MotionWithoutExtensionIsIndependentOnVideoElement",probability:ts.a,data:void 0}),!0;if(!this.vastAd.isIndependentOnVideoElement)return rs.c.event({name:"MotionWithExtensionIsIndependentOnVideoElementFalseValue",probability:ts.a,data:void 0}),!0}return void 0!==this.vastAd.isIndependentOnVideoElement&&this.vastAd.isIndependentOnVideoElement}getIsYandexCreative(){return e=this.vastAd,Object(al.a)(zh,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVideoFile}getPreloadedVpaidAdParameters(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(Object(as.a)("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}shouldShowGuiForVpaid(){return Boolean(this.vastAd.imhoParams)||St(this.vastAd)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.shouldShowGuiForVpaid()&&!s(e.url))}}const vA=e=>{try{return"display"in Ti(e)}catch(t){return!1}},fA=Object(Kc.a)();var gA=i(115);const bA=function(e){if(void 0===e&&(e=window),Object(gA.a)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),yA=Object(gA.a)();var _A=i(36);const OA=zp?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var EA=i(134);const SA="__yaMuffleVideoPlayPromiseOriginalPlay",TA=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Ni(Ri(e))}})(e);return()=>{t(),i(),r()}};var wA;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(wA||(wA={}));class PA{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Object(_s.a)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=wA[this.code]||"")}}var CA=i(58);const IA=function(e){void 0===e&&(e=window);const t=Object(CA.a)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1};var NA;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(NA||(NA={}));const DA=function(e){void 0===e&&(e=window);const t=Object(CA.a)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1},RA=function(e){return void 0===e&&(e=window),Object(CA.a)(e).toLowerCase().indexOf("tizen")>-1},kA=function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);const t=Object(CA.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,r]=t;return{major:parseInt(i,10),minor:parseInt(r,10)}}(e);return 2===t.major&&3===t.minor},VA=function(e){return void 0===e&&(e=window),Object(CA.a)(e).toLowerCase().indexOf("web0s")>-1};var jA,LA=i(80),BA=i(117),MA=i(104);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(jA||(jA={}));const xA={once:!0,passive:!0};let FA=!1;const UA=-1<fA&&fA<=16,HA=Bi({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:NA.AutomaticallyGenerated}),WA=Bi({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:NA.AutomaticallyGenerated}),zA=500;class GA{constructor(e,t){let{checkSoundEnabled:i,promise:r}=t;if(this.video=e,this.stop=_A.a,this.isStopped=!1,this.revertVideoState=_A.a,this.getIsActiveWindow())return this.promise=Promise.resolve(Li({},WA,{detectionMethod:NA.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const n=document.createElement("div");n.style.display="none";const a=TA(e),o=ji(e,()=>Ii(e,{src:OA}));let s;this.revertVideoState=Object(od.a)(()=>{o(),e.load(),a(),Object(es.a)(n)}),this.promise=new Promise(async(e,t)=>{let r,n,a;if(s=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);n=e.autoplayAbility,r=e.detectionMethod}else n=!1;if(!this.isStopped){if(n)a=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);a=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(Bi({canPlayUnMuted:n,canPlayMuted:a,detectionMethod:r||NA.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(ji(t,()=>{t.load()}),await Dc(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:NA.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise(e=>{Vi(t,{useProgressEvent:!0,timeoutForNonPromisePlay:zA}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(i=>{const r=function(e){const{error:t}=e;return new PA(t)}(t);r&&r.code===wA.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:NA.MediaError})},0):e({autoplayAbility:!1,detectionMethod:i})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:NA.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!Object(_s.a)(i))return;const{isActive:r,hasBeenActive:n}=i;return{isActive:r,hasBeenActive:n}}(e);return Boolean(t&&t.hasBeenActive)}}var YA;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(YA||(YA={}));const XA="TRUE"===pc("DISABLE_SUBTITLES")||void 0,qA="DISABLE"===pc("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0,KA={open:{reason:1,action:0},close:{reason:2,action:0}},QA={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},JA={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},ZA={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},$A=xi({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0}},QA,JA,ZA),em={abuseUrl:"",legalInfoText:""},tm={isAvailable:!1},im=/&\w+;/g,rm={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},nm=["spec","logo","misc"],am=e=>{if(Object(_s.a)(e))for(const t in e)if(e.hasOwnProperty(t)&&!Object(al.a)(nm,t)){const i=e[t];return i.text&&Object(Al.a)(i.text.banner_flags)&&(i.text.banner_flags=i.text.banner_flags.split(",")),i}},om=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!Object(_s.a)(t)||!Object(_s.a)(t.data_params))return;const i=am(t.data_params);if(!Object(_s.a)(i))return;const r=i.assets;if(!Object(_s.a)(r))return;const n={},{logo:a,button:o,icon:s,app:d}=r;if(Object(_s.a)(a)){const e=Object(dh.a)(a);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:a}=r;Object(Dl.a)(e)&&rt(n)&&rt(a)&&(t[i]={url:e,width:n,height:a})}Hi(t)||(n.logo=t)}}if(Object(_s.a)(o)){const{caption:e,href:t,key:i}=o;Object(Dl.a)(e)&&Object(Dl.a)(t)&&Object(Dl.a)(i)&&(n.button={caption:e,href:t,key:i})}if(Object(_s.a)(d)){const{review_count:e,store_name:t,name:i,download_count:r,rating:a,store_app_id:o,store_content_id:s,price_currency_symbol:l,price_currency_code:c,price:h,age:p,free:A}=d;rt(e)&&Object(Dl.a)(t)&&Object(Dl.a)(i)&&Object(Dl.a)(r)&&u(a)&&Object(Dl.a)(o)&&Object(Dl.a)(s)&&Object(Dl.a)(l)&&Object(Dl.a)(c)&&u(h)&&rt(p)&&"boolean"===typeof A&&(n.app={review_count:e,store_name:t,name:i,download_count:r,rating:a,store_app_id:o,store_content_id:s,price_currency_symbol:l,price_currency_code:c,price:h,age:p,free:A})}if(Object(_s.a)(s)){const e=Object(dh.a)(s);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:a}=r;Object(Dl.a)(e)&&rt(n)&&rt(a)&&(t[i]={url:e,width:n,height:a})}Hi(t)||(n.icon=t)}}return n},sm=e=>{if(!Array.isArray(e))return[];const t=Object(os.a)(e,e=>{const t=e[0],i=Number(e[1]),r=Number(e[2]),n=e[3];if(Object(Dl.a)(t)&&!isNaN(i)&&!isNaN(r)){const e=[t,String(i),String(r)];return Object(_s.a)(n)&&e.push(n),e}});return Object(Xd.a)(t,e=>void 0!==e)},dm=Object(cs.a)(e=>{rs.c.event({name:"AdCreativeVideoBannerVastHasDisclaimers",data:e,probability:ts.a})}),lm=Object(cs.a)(()=>{rs.c.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0,probability:ts.a})}),cm=Object(cs.a)(()=>{rs.c.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0,probability:ts.a})}),um=Object(cs.a)(e=>{rs.c.event({name:"AdCreativeVideoBannerVastHasBannerFlags",data:e,probability:ts.a})}),hm=e=>{if(!Object(_s.a)(e))return;const{AUCTION_DC_PARAMS:t,HAS_DOMAIN:i,AGE_BACKGROUND_COLOR:r,AGE_TEXT_COLOR:n,BODY_BACKGROUND_COLOR:a,BODY_TEXT_COLOR:o,BUTTON_BORDER_COLOR:s,BUTTON_COLOR:d,BUTTON_TEXT_COLOR:l,DISCLAIMER_BACKGROUND_COLOR:c,DISCLAIMER_TEXT_COLOR:u,DOMAIN_BACKGROUND_COLOR:h,DOMAIN_TEXT_COLOR:p,HAS_AGE:A,HAS_BODY:m,HAS_BUTTON:v,HAS_DISCLAIMER:f,HAS_LEGAL:g,HAS_TITLE:b,LEGAL_BACKGROUND_COLOR:y,LEGAL_TEXT:_,LEGAL_TEXT_COLOR:O,TITLE_BACKGROUND_COLOR:E,TITLE_TEXT_COLOR:S,BUTTON_POSITION:T,BUTTON_LABELS:w}=e;if(!Object(_s.a)(t)||!Object(_s.a)(t.data_params))return;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_DOMAIN"in e||"HAS_AGE"in e)&&cm();const P=am(t.data_params);if(!Object(_s.a)(P)||!Object(_s.a)(P.text))return;const C=P.text,{title:I,domain:N,green_url_text_prefix:D,green_url_text_suffix:R,body:k,age:V,banner_flags:j}=C,L=function(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:r}=e;return Object(Dl.a)(i)?i:Object(Dl.a)(r)?r:Object(Dl.a)(t)?t:void 0}({domain:N,greenUrlTextPrefix:D,greenUrlTextSuffix:R}),B=P.unmoderated||C.unmoderated||{},{punyDomain:M}=B,x=Array.isArray(j)?j:[],{hasDrugDisclaimer:F,hasDietarysupplDisclaimer:U,hasDistanceSales:H,legalInfoText:W}=Gi(e);x.length>0&&um({bannerFlags:x}),B===C.unmoderated&&lm();const z={title:vm(I),domain:vm(N),greenUrl:vm(L),punyDomain:vm(M),domainBackgroundColor:vm(h),domainTextColor:vm(p),hasGreenUrl:fm(i),body:vm(k),ageRestriction:vm(V),hasAgeRestriction:fm(A),extraLinks:pm(B),legalInfoText:W,hasDrugDisclaimer:F,hasDietarysupplDisclaimer:U,hasDistanceSales:H,hasButton:fm(v),images:Wi(e),clickThruUrl:Ui(e),ageBackgroundColor:vm(r),ageTextColor:vm(n),bodyBackgroundColor:vm(a),bodyTextColor:vm(o),buttonBorderColor:vm(s),buttonColor:vm(d),buttonTextColor:vm(l),hasDisclaimer:fm(f),disclaimerBackgroundColor:vm(c),disclaimerTextColor:vm(u),hasBody:fm(m),hasLegal:fm(g),hasTitle:fm(b),legalBackgroundColor:vm(y),legalText:vm(_),legalTextColor:vm(O),titleBackgroundColor:vm(E),titleTextColor:vm(S),buttonPosition:vm(T),buttonLabels:gm(w),offer:P,assets:om(e),targetUrl:zi(e)};return z.title&&(z.title=Fi(z.title)),z.body&&(z.body=Fi(z.body)),z},pm=e=>{if(!Object(_s.a)(e))return[];const{sitelinks:t,addInfo:i,telNum:r,workingTime:n,metro:a,region:o}=e;if(mm(t)){const e=Object(Xd.a)(t,e=>Object(Dl.a)(e.title)&&Object(Dl.a)(e.url));if(e.length)return Object(os.a)(e,e=>({type:"sitelink",text:e.title,url:e.url}))}const s=null===i||void 0===i?void 0:i.callouts_list;if(Am(s)){const e=Object(Xd.a)(s,Dl.a);if(e.length)return Object(os.a)(e,e=>({type:"callout",text:e}))}const d=Object(Xd.a)([r,n,a,o],Dl.a);return Object(os.a)(d,e=>({type:"contact",text:e}))},Am=e=>Array.isArray(e)&&Fc(e,Al.a),mm=e=>Array.isArray(e)&&Fc(e,_s.a),vm=e=>Object(Dl.a)(e)?e:void 0,fm=e=>"boolean"===typeof e?e:void 0,gm=e=>Object(_s.a)(e)&&Fc(de(e),e=>"string"===typeof e)?e:void 0,bm=bc,ym=0,_m=!0,Om=!0,Em=1e3/60;class Sm{constructor(e,t){this.callback=t,tr(this,"animationFrameFunctions",void 0),tr(this,"time",0),tr(this,"startTime",0),tr(this,"id",0),tr(this,"started",!1),tr(this,"loop",()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()}),this.animationFrameFunctions=er(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}const Tm=1500;class wm{constructor(e){this.params=e,ir(this,"animationFramesController",void 0),ir(this,"position",0),ir(this,"offset",0),ir(this,"duration",void 0),ir(this,"onFinishOnce",void 0),ir(this,"onAnimationFrame",e=>{let{diff:t}=e;const i=t/this.duration,r=Tm/this.duration;if(Math.abs(this.offset)>=r){const e=this.position+i+this.offset;return void this.setPosition(e)}const n=i*(1+this.offset/r);this.position=wt(this.position+n,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-n,this.params.callback(this.position)}),this.duration=e.duration,this.onFinishOnce=Object(cs.a)(e.onFinish),this.animationFramesController=new Sm(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=wt(e,0,1),this.offset=0,this.params.callback(e))}}class Pm{constructor(e){rr(this,"dispatch",Object(cs.a)(e=>{this.value=e,this._isDispatched=!0,r(this.callbacks,e),this.callbacks.length=0})),rr(this,"callbacks",[]),rr(this,"_isDispatched",!1),rr(this,"value",void 0),Object(Ds.a)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),ns.a):(this.callbacks.push(e),()=>{this.callbacks=Object(Xd.a)(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}const Cm=0,Im=0,Nm=500/Ih,Dm=function(e){return void 0===e&&(e=window),-1!==Object(Kc.a)(e)}(),Rm=null===kp.onwaiting,km=!Rm||Dm||Rp.a?(e,t)=>{let i=0,r=!1;return ai(()=>{const n=e.currentTime,a=e.duration,o=1/$p;if(!e.paused){const e=i+o;r?n>e&&(t(!1),r=!1):n<e&&n!==a&&(t(!0),r=!0)}i=n})}:(e,t)=>{let i=!1;const r=ki(e,"pause",()=>{i&&(i=!1,t(!1))},{passive:!0}),n=ki(e,"waiting",()=>{i||(i=!0,t(!0))},{passive:!0}),a=ki(e,"playing",()=>{i&&(i=!1,t(!1))},{passive:!0}),o=ki(e,"canplay",()=>{i&&(i=!1,t(!1))},{passive:!0});return()=>{r(),n(),a(),o()}};class Vm extends Md.a{constructor(){super(),cr(this,"isStarted",!1),cr(this,"lastStartTime",void 0),cr(this,"spent",0),cr(this,"callbacks",[]),cr(this,"timeoutId",0),cr(this,"recalculateTimeAndDispatchCallbacks",()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)}),this.addDestroyHandler(()=>{this.stop()})}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise(t=>{this.addCallback(e,t)})}addCallbackToArray(e,t){const i={time:e,callback:t};for(let r=0;r<this.callbacks.length;r++){const{time:t}=this.callbacks[r];if(t>=e)return void this.callbacks.splice(r,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=V(this.callbacks,e=>{let{time:t}=e;return t<=this.spent});this.callbacks=t,Object(ds.a)(e,e=>{let{callback:t}=e;t()})}}class jm extends Md.a{constructor(){super(),ur(this,"bufferingTimeCount",void 0),ur(this,"isPlaying",new xd.a(!1)),ur(this,"isBuffering",new xd.a(!1)),this.bufferingTimeCount=new Vm,this.addDestroyHandler(()=>{this.bufferingTimeCount.destroy()})}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(km(e,e=>{this.isBuffering.dispatch(e)})),this.addDestroyHandler(nr([this.isPlaying,this.isBuffering],(e,t)=>e&&t,e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()}))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/Ih}}const Lm=20,Bm=e=>{switch(!0){case e<=1*Ih:return"ReturnBackAfterClickThroughIn1Sec";case e<=2*Ih:return"ReturnBackAfterClickThroughIn2Sec";case e<=10*Ih:return"ReturnBackAfterClickThroughIn10Sec";case e<=60*Ih:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}},Mm=NaN,xm=0,Fm={duration:Mm,remainingTime:xm};var Um=i(79);const Hm=Object(Bd.a)({portion:"portion",seconds:"seconds"});class Wm{constructor(e){var t,i,r;r={portion:[],seconds:[]},(i="trackingUrls")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,Object(ds.a)(e,e=>{let{urls:t,offset:{unit:i,value:r}}=e;this.trackingUrls[i].push({urls:[...t],offset:r})})}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!ee(i))return[];const r=t-i,n={portion:r/t,seconds:r},a=[];return Object(ds.a)(Hm,e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,n[e]);a.push(...t)}),a}getTrackingUrlsByUnitAndOffset(e,t){const[i,r]=V(this.trackingUrls[e],e=>{let{urls:i,offset:r}=e;return t>=r});return this.trackingUrls[e]=r,k(Object(os.a)(i,e=>{let{urls:t}=e;return t}))}}const zm=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)},Gm=zm();var Ym=i(107);const Xm={PAGEURL:encodeURIComponent(Object(Ym.a)(document).location),Y_DEVICE_TYPE:Gm?"mobile":"desktop",Y_AD_SESSION_ID:Sd()},qm=["clickThrough","close","impression","mute","skip","unmute"],Km=e=>"AdParametersTracking_"+e,Qm=e=>"VastTracking_"+e,Jm={},Zm=100;var $m=i(63),ev=i(141);const tv={AdClickThru:e=>{rs.c.error({error:new is.a({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:e})})}};class iv extends Md.a{get contentType(){return this.mediaAd.contentType}constructor(e){let{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:r}=e;super(),Or(this,"adDisplayController",void 0),Or(this,"mediaAd",void 0),Or(this,"adPodViewerPlaybackParams",void 0),Or(this,"playbackPosition",new xd.a(Fm,pr)),Or(this,"userInteractionDispatchers",tv),Or(this,"packshotStartLatch",new Pm),Or(this,"adVideoIsBuffering",new xd.a(!1)),Or(this,"playingState",new xd.a("idle",(e,t)=>"idle"===t?(rs.c.error({error:new is.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&rs.c.error({error:new is.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),Or(this,"isCreativeStartRequested",new xd.a(!1)),Or(this,"onReady",new dl.a),Or(this,"onBeforeDestroy",new dl.a),Or(this,"isStarted",new xd.a(!1)),Or(this,"onResume",new dl.a),Or(this,"onPause",new dl.a),Or(this,"onVolumeChange",new dl.a),Or(this,"onImpression",new dl.a),Or(this,"onImpressionDetermined",new dl.a),Or(this,"onImpressionUndetermined",new dl.a),Or(this,"onFirstQuartile",new dl.a),Or(this,"onMidpoint",new dl.a),Or(this,"onThirdQuartile",new dl.a),Or(this,"onBeforeComplete",new dl.a),Or(this,"completeLatch",new Pm(()=>{this.trackVastEvent("complete",void 0)})),Or(this,"onClickThrough",new dl.a),Or(this,"onAdInteraction",new dl.a),Or(this,"playingTimeCounter",new Vm),Or(this,"shouldPlayTimeCounter",new Vm),Or(this,"bufferingTimeManager",void 0),Or(this,"getAdParametersTrackingUrls",e=>{var t,i;return null===(t=this.mediaAd.vastAd.adParametersObject)||void 0===t?void 0:null===(i=t.trackingEvents)||void 0===i?void 0:i[e]}),Or(this,"subscribeFullscreenForLogs",()=>{const{videoNodeController:e}=this.adDisplayController,t=Object(cs.a)(()=>{rs.c.error({error:new is.a({code:"VIDEOTAG_FULLSCREEN",details:void 0})})});e.isFullscreen()?t():this.onBeforeComplete.addOne(()=>{e.isFullscreen()&&t()})}),this.addDestroyHandler(e=>{const i=Math.round(this.shouldPlayTimeCounter.getTime()),r=Math.round(this.playingTimeCounter.getTime()),n=Math.round(i-r),a=Math.round(this.bufferingTimeManager.getBufferingTime()*Ih),o=Math.round(this.getDuration()*Ih),s=Math.round(this.getAdRemainingTime()*Ih),d=Math.round(o-s),l=Math.round(a/d*1e6),{droppedVideoFrames:c,corruptedVideoFrames:u,totalVideoFrames:h,droppedVideoFramesRatio:A}=p(this.adDisplayController.videoNode),{videoToDevicePixelRatio:m,videoPixelRatio:v}=t.getAdPlacementOptions(),f=t.disclaimerParameters.getValue().length>0;rs.c.values({name:"ViewerDestroy",probability:ts.a,data:{destroyReason:e},labels:{},values:{shouldPlayTime:i,playingTime:r,notPlayingTime:n,bufferingTime:a,duration:o,remainingTime:s,currentTime:d,bufferingTimeRatio:l,videoToDevicePixelRatio:m,videoPixelRatio:v,droppedVideoFrames:Math.round(c),corruptedVideoFrames:Math.round(u),totalVideoFrames:Math.round(h),droppedVideoFramesRatio:Math.round(1e6*A),vastHasDisclaimers:f?1:0,vastHasNoDisclaimers:f?0:1}}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)}),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=r,this.isStarted.add(()=>{this.trackVastEvent("creativeView",void 0)}),this.onResume.add(()=>{this.trackVastEvent("resume",void 0)}),this.onPause.add(()=>{this.trackVastEvent("pause",void 0)}),this.packshotStartLatch.subscribe(()=>{this.trackVastEvent("packshotStart",void 0)});let n=0===this.getVolume();this.onVolumeChange.add(()=>{const e=0===this.getVolume();n!==e&&(this.trackVastEvent(e?"mute":"unmute",void 0),n=e)}),this.onImpression.addOne(()=>{this.trackVastEvent("impression",void 0)}),this.onImpressionDetermined.addOne(()=>{this.trackVastEvent("impressionDetermined",void 0)}),this.onImpressionUndetermined.addOne(()=>{this.trackVastEvent("impressionUndetermined",void 0)});const a=new Wm(i.vastAd.progressTrackings);this.playbackPosition.add(e=>{let{remainingTime:t,duration:i}=e;const r=a.getTrackingUrlsByPosition({duration:i,remainingTime:t});r.length&&br({eventName:"progress",trackingEventDetails:void 0,trackingUrls:r,options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"vast"})}),this.onFirstQuartile.add(()=>{this.trackVastEvent("firstQuartile",void 0)}),this.onMidpoint.add(()=>{this.trackVastEvent("midpoint",void 0)}),this.onThirdQuartile.add(()=>{this.trackVastEvent("thirdQuartile",void 0)}),this.bufferingTimeManager=new jm,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add(e=>{"play"!==e?(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause()):(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume())})}),this.isStarted.addOne(()=>{const e=(this.getDuration()+Lm)*Ih;this.playingTimeCounter.addCallback(e,()=>{this.trackError(new is.a({code:"TOO_LONG_PLAYING",details:{src:this.getSrc()}}))}),this.playingTimeCounter.start(),this.onPause.add(()=>{this.playingTimeCounter.stop()}),this.onResume.add(()=>{this.playingTimeCounter.start()}),this.addDestroyHandler(()=>{this.playingTimeCounter.stop()})}),this.isStarted.add(()=>{this.playingState.dispatch("play")}),this.onPause.add(()=>{this.playingState.dispatch("pause")}),this.onResume.add(()=>{this.playingState.dispatch("play")}),this.addDestroyHandler(()=>{this.playingState.dispatch("end")}),this.onBeforeComplete.add(()=>{this.trackVastEvent("beforeComplete",void 0)}),this.addDestroyHandler(e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackVastEvent(t,void 0)}),this.addDestroyHandler(()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()}),this.addDestroyHandler(Object(ss.a)({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne(()=>{this.subscribeFullscreenForLogs()})}trackOnCreativeInit(){this.trackVastEvent("onCreativeInit",void 0)}trackVastEvent(e,t){var i;const r=null!==(i=this.mediaAd.vastAd.trackingEvents[e])&&void 0!==i?i:[];br({eventName:e,options:this.adDisplayController.getAdPlacementOptions(),trackingEventDetails:t,trackingUrls:r,pixelsSource:"vast"})}trackStartEvent(){this.isCreativeStartRequested.getValue()||rs.c.error({error:new is.a({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=Os),this.trackVastEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let n;this.isDestroyed&&rs.c.error({error:new is.a({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e}})}),e.url?n=e.url:r&&(rs.c.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r}}),n=r);const{pauseOnClickThrough:a,clickThroughConfirmation:o}=this.adDisplayController.config,{clickThroughCallback:s}=this.adDisplayController.config;if(!Boolean(s||n)||!i)return void this.trackVastEvent("clickThrough",void 0);n&&(n=v({url:hr(n),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const d=Object(cs.a)((function(i){void 0===i&&(i=!1);const r=Date.now(),o=t.adDisplayController.getPaused(),d=a&&!o;if(d&&t.pause(),i){const e=_r(window.document,i=>{var n;if(!i)return;d&&t.resume();const a=Date.now()-r;br({eventName:"returnAfterClickThrough",trackingEventDetails:{timeSpentBeforeReturn:a},trackingUrls:null!==(n=t.getAdParametersTrackingUrls("returnAfterClickThrough"))&&void 0!==n?n:[],options:t.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"});const o=Bm(a);rs.c.event({name:o,data:{timeSpentBeforeReturn:a}}),e()});t.addDestroyHandler(e)}t.trackVastEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(a)}),s&&ts.d&&rs.c.event({name:"ClickThroughCallbackHandle",probability:ts.a,data:{clickThroughParams:e,url:n,pauseOnClickThrough:a}})}));if(s){o||d();const t=this.isDestroyed;s({url:n,onHandle:d}),!t&&this.isDestroyed&&rs.c.error({error:new is.a({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e}})}),rs.c.event({name:"ClickThroughCallbackCall",probability:ts.a,data:{clickThroughParams:e,url:n,pauseOnClickThrough:a}})}else{null!==window.open(n,"_blank")&&d(!0)}}isClickable(){return Boolean(this.adPodViewerPlaybackParams.isClickable)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isNonLinear(){return this.mediaAd.vastAd.isNonLinear}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;if(this.isNonLinear())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isNonLinear())return Yh;if(this.isAdaptive())return Gh;const e={width:this.getAdWidth(),height:this.getAdHeight()};return e.height!==Cm&&e.width!==Im?e:void 0}getDesiredBitrate(){const{desiredBitrate:e=fc}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}}const rv=640,nv=480;class av extends iv{constructor(e){super(e),Sr(this,"preferredSource",void 0),Sr(this,"videoNodeController",void 0),Sr(this,"curtain",void 0),Sr(this,"startTracked",!1),Sr(this,"makeVideoClickable",this.ignoreAfterDestroy(()=>{const{videoNode:e,slotParameters:t}=this.adDisplayController,i=()=>{const{clickThroughUrl:e}=this.adPodViewerPlaybackParams;rs.c.event({name:"VideoElementClick",data:{clickThroughUrl:e}}),e&&this.clickThrough({url:e})};this.addDestroyHandler(this.videoNodeController.onClick.add(i)),this.addDestroyHandler(Object(ss.a)({element:t.element,eventName:"click",listener:i,ignoreBubbling:!0})),ar(e)&&this.isClickable()&&(vc||(this.addDestroyHandler(Si(e,{cursor:"pointer"})),this.addDestroyHandler(Si(t.element,{cursor:"pointer"}))))})),Sr(this,"setAdMediaFile",Object(cs.a)(e=>{this.preferredSource=e,this.videoNodeController.setSrc(e),this.onReady.dispatch(void 0)})),Sr(this,"getVideoMediaFileToPlay",Object(cs.a)(()=>{const{width:e,height:t}=this.getVideoSize();let i=this.mediaAd.getPreloadedVideoFile();const r=this.mediaAd.getMediaFiles(),{adBreak:n}=this.mediaAd,a=this.mediaAd.getAdPodId();if(i||(i=ti(r,{container:{width:e,height:t},desiredBitrate:this.getDesiredBitrate(),isVideoADB:Object(Ds.a)(Object(cl.a)(this.adDisplayController.slotWindow)),bitratePriorityFactor:tp,allowedToHideVideoSlotAreaPortion:this.adDisplayController.config.allowedToHideVideoSlotAreaPortion,mediaFileTypePriorities:hp,enableMediaFilesWithMseFilterUnderAbdOnly:Zh},{adBreak:n,adPodId:a,initiator:"VideoAdPodViewer"}).prioritisedMediaFile),i)return i}));const{adDisplayController:t}=e;this.videoNodeController=t.videoNodeController,this.videoNodeController.isFullscreen()&&this.trackVastEvent("fullscreen",void 0);const i=()=>{this.videoNodeController.isFullscreen()?this.trackVastEvent("fullscreen",void 0):this.trackVastEvent("exitFullscreen",void 0)};this.videoNodeController.fullscreenApi.addHandler(i),this.addDestroyHandler(()=>{this.videoNodeController.fullscreenApi.removeHandler(i),this.curtain&&Object(es.a)(this.curtain)}),this.isStarted.addOne(this.makeVideoClickable);const{adPodViewerPlaybackParams:r}=this,n=new Error,{videoTimeout:a}=r;this.shouldPlayTimeCounter.addCallback(a,()=>{if(this.isStarted.getValue())return;const{videoNode:e}=this.videoNodeController;this.destroy({reason:"error",details:new is.a(n,{code:"VIDEO_TIMEOUT",details:{adPodId:this.mediaAd.getAdPodId(),timeout:a,src:this.getSrc(),config:t.config,viewerPlaybackParams:r,networkState:e.networkState,readyState:e.readyState}})})})}resume(){this.playingState.dispatch("play"),this.videoNodeController.play()}play(e){void 0===e&&(e=!0),this.isDestroyed&&rs.c.error({error:new is.a({code:"PLAY_VIDEO_VIEWER_AFTER_DESTROY",details:{adPodId:this.mediaAd.getAdPodId()}})}),this.playingState.dispatch(e?"play":"pause");const t=this.getVideoMediaFileToPlay();if(t)this.setAdMediaFile(t),e?this.isCreativeStartRequested.getValue()?this.resume():this.start():this.addDestroyHandler(this.videoNodeController.onPlay.addOne(()=>{if(this.isCreativeStartRequested.getValue())return;this.videoNodeController.videoNode.currentSrc===this.preferredSource.url&&(rs.c.event({name:"StartVideoAdByVideoPlay",data:void 0}),this.start())}));else{const e=this.mediaAd.getMediaFiles();this.destroy({reason:"error",details:new is.a({code:1===e.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE",details:{mediaFiles:e,adPodId:this.mediaAd.getAdPodId()}})})}}pause(){this.playingState.dispatch("pause"),this.videoNodeController.pause()}skipAd(){this.destroy({reason:"skip",details:void 0})}getAdSkippableState(){const{skipDelay:e}=this.adPodViewerPlaybackParams;return e>0&&this.getCurrentTime()>e}getAdWidth(){var e,t;const i=this.videoNodeController.videoNode;return i.videoWidth>0?i.videoWidth:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.width)&&void 0!==e?e:Im}getAdHeight(){var e,t;const i=this.videoNodeController.videoNode;return i.videoHeight>0?i.videoHeight:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.height)&&void 0!==e?e:Cm}getCurrentTime(){const{currentTime:e}=this.videoNodeController.getCurrentPosition();return e}getAdRemainingTime(){if(this.isDestroyed)return 0;const e=this.getDuration();if(!this.isCreativeStartRequested.getValue())return e;const{currentTime:t}=this.videoNodeController.getCurrentPosition();return e-t}getDuration(){const e=this.mediaAd.getDuration();if(!this.isStarted.getValue()||this.isDestroyed)return e;const{duration:t}=this.videoNodeController.getCurrentPosition();return t||e}getSrc(){var e,t;return null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.url)&&void 0!==e?e:""}setMuted(e){this.videoNodeController.setMuted(e)}getVolume(){return this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.videoNodeController.setVolume(e)}resizeAd(e,t,i){void 0===i&&(i=nA.NORMAL)}subscribeEvents(){this.addDestroyHandler(this.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.onPlayAfterPause.add(()=>{this.startTracked&&this.onResume.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.playingState.add(e=>{"pause"===e&&this.onPause.dispatch(void 0)}));const{bufferEmptyLimit:e}=this.adPodViewerPlaybackParams;this.addDestroyHandler(or({videoNodeController:this.videoNodeController,bufferEmptyLimit:e,callback:()=>{const{videoNode:t}=this.videoNodeController,i=new is.a({code:"BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:e,adPodId:this.mediaAd.getAdPodId(),networkState:t.networkState,readyState:t.readyState}});this.destroy({reason:"error",details:i})}}));const{bufferFullTimeout:t}=this.adPodViewerPlaybackParams;this.addDestroyHandler(sr({videoNodeController:this.videoNodeController,bufferFullTimeout:t,callback:()=>{const{videoNode:e}=this.videoNodeController;this.destroy({reason:"error",details:new is.a({code:"BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:t,adPodId:this.mediaAd.getAdPodId(),networkState:e.networkState,readyState:e.readyState}})})}})),this.addDestroyHandler(this.videoNodeController.onError.add(e=>{e=new is.a(e,{details:Er({},e.details,{selectedMediaFile:this.getVideoMediaFileToPlay(),mediaFiles:this.mediaAd.getMediaFiles()})}),this.destroy({reason:"error",details:e})})),this.addDestroyHandler(lr({videoNodeController:this.videoNodeController,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:void 0,callbacks:{AdStarted:()=>{this.startTracked=!0,this.isStarted.dispatch(!0),this.trackStartEvent(),this.onImpression.dispatch(void 0)},AdVideoFirstQuartile:()=>this.onFirstQuartile.dispatch(void 0),AdVideoMidpoint:()=>this.onMidpoint.dispatch(void 0),AdVideoThirdQuartile:()=>this.onThirdQuartile.dispatch(void 0),AdVideoBeforeComplete:()=>this.onBeforeComplete.dispatch(void 0),AdVideoComplete:()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:!0}),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:!0}})}}}));const i=this.videoNodeController.currentPosition.add(e=>{let{currentTime:t,duration:i}=e;if(i>0)this.mediaAd.actualizeDuration(i);else{const e=this.mediaAd.getDuration();if(!e)return;i=e}this.playbackPosition.dispatch({duration:i,remainingTime:i-t})});this.addDestroyHandler(()=>{i()})}start(){this.isCreativeStartRequested.dispatch(!0),this.subscribeEvents(),this.videoNodeController.setSeekAllowed(!1),this.addDestroyHandler(this.videoNodeController.onSeekRestore.add(()=>{rs.c.event({name:"RestoreSeek",data:{},probability:ts.a})})),this.addDestroyHandler(()=>{this.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)}getVideoSize(){const e=this.videoNodeController.getWidth(),t=this.videoNodeController.getHeight();if(e&&t)return{width:e,height:t};const{width:i,height:r}=this.adDisplayController.slotParameters.size.getValue();return i&&r?{width:i,height:r}:{width:rv,height:nv}}}const ov=-1,sv=-1,dv=-2,lv=!1,cv={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:dv,getAdVolume:Ts,getAdIcons:!1,getAdExpanded:!1,getAdHeight:Cm,getAdWidth:Im,getAdLinear:!0,getAdSkippableState:lv},uv=Tr({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),hv=Tr({},cv,uv),pv={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},Av={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},mv={adVolume:"setAdVolume"},vv=10,fv="Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",gv={AdSkipped:"skip",AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume"},{initMoatTracking:bv}=i(179),yv={adloox:"AdCreativeInitMeasurer_adloox",admetrica:"AdCreativeInitMeasurer_admetrica",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",sizmek:"AdCreativeInitMeasurer_sizmek",weborama:"AdCreativeInitMeasurer_weborama"},_v=["impression"],Ov={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},sizmek:{impression:"TrackingEventWithMeasurer_impression_sizmek"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"},admetrica:{impression:"TrackingEventWithMeasurer_impression_admetrica"}},Ev=Object(Bd.a)({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),Sv=180,Tv=320*Sv,wv=160,Pv=300*wv;class Cv extends Md.a{constructor(e){var t;super(),Ir(this,"onResize",void 0),Ir(this,"resizeObserverCallback",e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})}),Ir(this,"getElementWindow",e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null});const i=sl(e);this.onResize=new xd.a({width:i.width,height:i.height},(e,t)=>{let{width:i,height:r}=t;return e.width===i&&e.height===r}),this.addDestroyHandler(()=>{this.onResize.removeAll()});const r=this.getElementWindow(e),n=null!==(t=null===r||void 0===r?void 0:r.ResizeObserver)&&void 0!==t?t:window.ResizeObserver;if("undefined"!==typeof n&&Object(gs.a)(ResizeObserver))try{const t=new n(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(a){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return Cr({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=sl(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Object(ss.a)({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(ai(i))}}class Iv{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class Nv{constructor(e){this.distributionFunction=e,Nr(this,"stopped",!0),Nr(this,"cancel",void 0),Nr(this,"clock",void 0),Nr(this,"lastNow",0),Nr(this,"lastKnockTime",0),Nr(this,"lastTimeout",0),Nr(this,"restTime",0),Nr(this,"destroyed",!1),Nr(this,"isFirstKnock",!0),Nr(this,"count",0),this.clock=new Iv}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const Dv={height:0,width:0},Rv=function(e){if(void 0===e&&(e=window),void 0===e.screen)return Dv;const{width:t=Dv.width,height:i=Dv.height}=e.screen;return{width:t,height:i}},kv=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],Vv={UNKNOWN:0,ETHERNET:1,WIFI:2,CELL_2G:3,CELL_3G:4};var jv=i(100);const Lv=ms([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],e=>null!==navigator.userAgent.match(e)),Bv=!0,Mv=!0,xv=.5,Fv=2;class Uv extends Md.a{constructor(e,t){let{considerDocumentVisibility:i=Bv,numberOfMeasurementSteps:r=Fv}=void 0===t?{}:t;super(),this.element=e,xr(this,"totalVisibilityValueSignal",new xd.a(!1)),xr(this,"totalVisibilityRatioValueSignal",void 0),xr(this,"elementVisibilityRatioValueSignal",void 0),xr(this,"documentVisibilityValueSignal",new xd.a(Mv)),xr(this,"recalculateVisibility",()=>{if(this.isDestroyed||!Ci(this.element))return;const e=Mr(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)}),xr(this,"refreshTotalVisibility",()=>{const e=this.elementVisibilityRatioValueSignal.getValue(),t=this.documentVisibilityValueSignal.getValue()?e:0;this.totalVisibilityValueSignal.dispatch(t>=xv),this.totalVisibilityRatioValueSignal.dispatch(t)});const n=Math.max(r,Fv);this.totalVisibilityRatioValueSignal=new xd.a(0),this.elementVisibilityRatioValueSignal=new xd.a(0);const a=e.ownerDocument.defaultView.IntersectionObserver;Boolean(a)?this.startIntersectionObserver(a,n):this.startVisibilityCheckInterval(),i&&this.startObservingDocumentVisibility(e.ownerDocument),this.elementVisibilityRatioValueSignal.add(this.refreshTotalVisibility),this.documentVisibilityValueSignal.add(this.refreshTotalVisibility),this.addDestroyHandler(()=>{this.totalVisibilityValueSignal.removeAll(),this.totalVisibilityRatioValueSignal.removeAll(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll()})}startIntersectionObserver(e,t){const i=[xv],r=1/t;for(let a=1;a<t;a++)i.push(a*r);const n=new e(e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)},{threshold:i});n.observe(this.element),this.addDestroyHandler(()=>{n.disconnect()})}startVisibilityCheckInterval(){const e=ai(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=Object(Qd.a)(0);t.then(this.recalculateVisibility).catch(ns.a),this.addDestroyHandler(i)}async startObservingDocumentVisibility(e){await Dc(0);const t=Object($m.a)(e);this.documentVisibilityValueSignal.dispatch(t);const i=_r(e,e=>{this.documentVisibilityValueSignal.dispatch(e)});this.addDestroyHandler(i)}}class Hv{constructor(){var e=this;Ur(this,"events",{}),Ur(this,"subscribe",(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let r=this.events[t];void 0===r&&(r=this.events[t]=[]),r.push({callback:e,context:i})}),Ur(this,"unsubscribe",(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=Object(Xd.a)(i,t=>{let{callback:i}=t;return e!==i}))}),Ur(this,"dispatch",(function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];if("string"!==typeof t)throw new Error("Event name MUST be a string");const a=e.events[t];a&&Object(ds.a)(a,e=>{let{callback:i,context:n}=e;try{i.apply(n,r)}catch(a){rs.c.error({error:new is.a(a,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:r}})})}})}))}}i(180);const Wv=WBViewAbility;var zv=i(66);const Gv=8,Yv={id1:"",id2:"",id5:"",id7:"",id9:""},Xv=e=>Object(ps.b)("https://pixel.adlooxtracking.com/ads/ic.php",(e=>{let{id1:t,id2:i,id5:r,id7:n,id9:a}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:r,id7:n,id9:a,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(e)),qv="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",Kv=e=>"https://"+vs.c+"/pcode-static/measurers/"+e+"/video/adloox.js",Qv=Ns.b.split("/"),Jv=Qv[Qv.length-1],{initMoatTracking:Zv}=i(181),$v={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},ef="yandexhostedvideo786420153684",tf=async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;await Object(zv.a)({src:"https://"+vs.c+"/pcode-static/measurers/1/main.js",win:window}).promise,verify(i,{vpaidCreative:t,measurerParameters:r})},rf={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n}=e;const a=i.ownerDocument.defaultView,o=(e=>"https://"+vs.c+"/pcode-static/measurers/"+e+"/video/adriver.js")(n);await Object(zv.a)({win:a,src:o}).promise,new a.AdriverViewabilityYandexVPAID(Wr({},r,{ya_custom:"ADSID="+ks.a}),i,t),Object(as.a)("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n,yastaticVersion:a}=e;const o=Zv(i,zr({},r,{zMoatADID:ks.a,slicer1:Jv,partnerCode:ef}),t.getAdDuration(),ef,a);Object(ds.a)(Object(Bd.a)($v),e=>{t.subscribe(()=>{try{o.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(i){n(new is.a({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:i,eventName:e}}))}},e)})},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n,yastaticVersion:a}=e;var o;const s=Hr({},r,{targetelt:((o=i).id||(o.id=Object(ol.a)(Gv)),o.id),urli:qv,urlv:qv,urle:qv},{id8:ks.a}),d=Object(qd.a)(Object(dh.a)(s),(e,t,i)=>{let[r,n]=t;return"string"!==typeof n?e:e+(0===i?"#":"&")+r+"="+encodeURIComponent(n)},"");t.subscribe(()=>{const e=""+Kv(a)+d;l(Xv(Hr({},Yv,s))),Object(zv.a)({win:i.ownerDocument.defaultView,src:e}).promise.catch(e=>{n(new is.a({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))})},"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n}=e;const a=i.ownerDocument.defaultView,o=(e=>"https://"+vs.c+"/pcode-static/measurers/"+e+"/video/weborama.js")(n);await Object(zv.a)({win:a,src:o}).promise,new a.WBMeasurerV(i,t,JSON.stringify(Gr({},r,{siteid:ks.a}))),Object(as.a)("weborama measurer loaded")},admetrica:tf,sizmek:tf,yandexTestMeasurer:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n}=e;Object(as.a)("start YandexTestMeasurer initialization"),Object(ds.a)(Ev,e=>{const i=Object(cs.a)(()=>{rs.c.event({name:Yr(e),data:void 0,probability:ts.a})});t.subscribe((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Object(as.a)("YandexTestMeasurer received VPAID event=["+e+"], args=["+me(r)+"]"),i()}),e)}),Object(as.a)("complete YandexTestMeasurer initialization")}},nf={moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"42",unstable:"42"},adriver:{actual:"28",unstable:"28"},sizmek:{actual:"1",unstable:"1"},admetrica:{actual:"1",unstable:"1"},yandexTestMeasurer:{actual:"1",unstable:"2"}},af=(e,t)=>{const i=nf[e],r=t;return Object(_s.a)(r)&&"use_unstable_script"in r&&Boolean(r.use_unstable_script)?i.unstable:i.actual},of=3e4,sf=Object(Bd.a)(rf),df={1:[],2:[],3:[],5:[]};class lf extends Md.a{constructor(e,t,i){var r,n;super(),r=this,this.vpaidCreative=e,this.parameters=t,this.callbacks=i,nn(this,"userInteractionDispatchers",{AdClickThru:e=>{this.onClickThru.dispatch(e)}}),nn(this,"vpaidCreativeProxyForMeasurers",void 0),nn(this,"playingStateValueSignal",new xd.a(!1)),nn(this,"bufferingTimeManager",void 0),nn(this,"slotVisibilityStateValueSignal",void 0),nn(this,"slotHoverStateValueSignal",new xd.a(!1)),nn(this,"vpaidInitParameters",void 0),nn(this,"measurerStartParameters",void 0),nn(this,"shouldPlayTimeCounter",new Vm),nn(this,"lastVolume",void 0),nn(this,"vpaidEventBus",new Hv),nn(this,"vpaidCreativeProxyForMeasurersEventBus",new Hv),nn(this,"isVisibilityConfirmed",!1),nn(this,"initializedMeasurers",void 0),nn(this,"initMeasurableParameters",Object(cs.a)(e=>{var t;const i=e[4];if(!Object(_s.a)(i))throw new is.a({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:r}=i,n=e[5];if(!Object(_s.a)(n)||!Object(_s.a)(n.slot))throw new is.a({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:a,videoSlot:o,yandexAdPlaybackParams:s}=n,d=null!==(t=this.parameters.measurersSlot)&&void 0!==t?t:a;this.bufferingTimeManager.start(o);const{parameters:l,errors:c}=function(e){if(!e)return{parameters:void 0,errors:[new is.a({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(h){return{parameters:void 0,errors:[new is.a({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:r,dwell:n,start:a,trackingEvents:o,viewedComplete:s,weborama:d,moat:l}=t,{measurers:c,errors:u}=Jr(t);return{parameters:{measurers:c,viewability:Zr(i),dwell:Zr(n),trackingEvents:z(W(o),{encounters:qr(r),viewedComplete:qr(s),start:qr(a)}),weborama:d,moat:en(l),skipAdSdkDetect:$r(t)},errors:u}}(r);if(Object(ds.a)(c,this.callbacks.onExecutionError),!l)throw new is.a({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:r}});const{skipAdSdkDetect:u}=l;if(!Object(_s.a)(s)){const e=new is.a({code:u?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:fv,details:{adParameters:r}});if(this.callbacks.onExecutionError(e),!u)throw e}this.vpaidInitParameters={slot:d,videoSlot:o,adParameters:l},this.initMeasurers()})),nn(this,"initMeasurers",Object(cs.a)(()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t}=this;if(!e)return this.callbacks.onExecutionError(new is.a({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i,weborama:r,moat:n},slot:a}=e;if(r&&"string"===typeof r.wbStatData)try{(new Wv).init(a,r.wbStatData,t)}catch(s){this.callbacks.onExecutionError(new is.a(s,{code:"WEBORAMA_INIT_ERROR",details:void 0}))}if(n){const{partnerCode:e,ids:i}=n;try{!function(e){let{vpaid:t,container:i,ids:r,partnerCode:n}=e;bv(t,i,r,n)}({ids:i,vpaid:t,container:a,partnerCode:e})}catch(s){this.callbacks.onExecutionError(new is.a(s,{code:"INIT_MOAT_TRACKING_ERROR",details:{ids:i,partnerCode:e}}))}}const o=rn({},i,{yandexTestMeasurer:{}});return this.initializedMeasurers=o,Promise.all(Object(os.a)(Object(Bd.a)(o),async e=>{const i=o[e],r=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(i,["use_unstable_script"]),n=rf[e],d=af(e,i);try{await n({vpaidCreative:t,slot:a,measurerParameters:r,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:d}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:a,measurerParameters:r})}catch(s){this.callbacks.onExecutionError(new is.a({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:r,error:new Fd.a(s)}}))}}))})),nn(this,"trackEncounters",Object(cs.a)(e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0),this.trackImpressionWithVisibility()):this.callbacks.onExecutionError(new is.a({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),nn(this,"trackTrueView",Object(cs.a)(e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),nn(this,"startMeasurement",Object(cs.a)(()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new is.a({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:r}=e,{viewability:n,dwell:a}=i;this.addDestroyHandler(function(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||"function"!==typeof t.querySelector)&&t.querySelector(":hover")===e}(e);i&&t(!0);const r=ki(e,"mouseenter",()=>{i||(i=!0,t(!0))}),n=ki(e,"mouseleave",()=>{i&&(i=!1,t(!1))});return()=>{r(),n()}}(t,e=>{this.slotHoverStateValueSignal.dispatch(e)}));const o=new Cv(t),s=o.getSize();this.callbacks.onSlotSizeChange(s);const d=ar(r)?new Cv(r):o,l=new xd.a(Pr(s,vc));let c;if(o.onResize.add(e=>{this.callbacks.onSlotSizeChange(e),l.dispatch(Pr(e,vc))}),this.parameters.visibilityRatio)c=this.parameters.visibilityRatio;else{const e=new Uv(t,{numberOfMeasurementSteps:vv});c=e.totalVisibilityRatioValueSignal,this.addDestroyHandler(()=>e.destroy())}this.measurerStartParameters={videoSlotSize:d.onResize,slotSize:o.onResize,visibilityRatio:c},this.addDestroyHandler(c.add(e=>{this.slotVisibilityStateValueSignal.dispatch(e>=xv)})),this.addDestroyHandler(()=>{d.destroy(),o.destroy()});const u=new Nv(e=>{let{count:t}=e;return 1===t&&(u.destroy(),this.trackTrueView("progress")),of}),h=new Nv(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"viewability5",intervalId:5}:1===e?{eventName:"viewability1",intervalId:1}:2===e?{eventName:"viewability2",intervalId:2}:3===e?{eventName:"viewability3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,n[i.intervalId],void 0),tn(t)}),p=new Nv(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"dwell5",intervalId:5}:1===e?{eventName:"dwell1",intervalId:1}:2===e?{eventName:"dwell2",intervalId:2}:3===e?{eventName:"dwell3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,a[i.intervalId],void 0),tn(t)}),A=new Nv(e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),A.destroy()),tn(t)});this.addDestroyHandler(()=>{u.destroy(),h.destroy(),p.destroy(),A.destroy()}),this.addDestroyHandler(this.playingStateValueSignal.add(e=>{u.setEnabled(e)})),this.addDestroyHandler(nr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,l],(e,t,i)=>e&&t&&i,e=>{e&&A.reset(),h.setEnabled(e),A.setEnabled(e)})),this.addDestroyHandler(nr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,l],(e,t,i,r)=>e&&t&&i&&r,e=>{p.setEnabled(e)}))})),nn(this,"methodSniffers",{subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe}),nn(this,"onClickThru",new dl.a),nn(this,"eventSniffers",{AdLoaded:()=>{this.initMeasurers().then(()=>{this.vpaidEventBus.dispatch("AdLoaded")}).catch(kd.a)},AdClickThru:(e,t,i)=>{var r;this.callbacks.onExecutionError(new is.a({code:"VPAID_MEASURER_RECEIVED_AD_CLICK_THRU_EVENT",details:{adParameters:null===(r=this.vpaidInitParameters)||void 0===r?void 0:r.adParameters}})),this.onClickThru.dispatch({url:e,id:t,playerHandles:i}),this.vpaidEventBus.dispatch("AdClickThru",e,t,i)}}),nn(this,"vpaidWillSetProperty",(e,t)=>{this.vpaidCreative[e]=t}),nn(this,"vpaidWillCallMethod",(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(r){return this.vpaidEventBus.dispatch("AdError",r),void this.destroy({error:r})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodSniffers[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)}),nn(this,"trackImpressionWithVisibility",()=>{Rd?this.trackEvent("impressionDetermined",this.getTrackingUrlsByTrackingEventName("impressionDetermined"),void 0):this.trackEvent("impressionUndetermined",this.getTrackingUrlsByTrackingEventName("impressionUndetermined"),void 0)}),nn(this,"updatePlayTimeCounter",e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}}),nn(this,"trackEvent",(function(e,t,i){if(void 0===t&&(t=[]),Object(as.a)("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters||!r.measurerStartParameters)return void r.callbacks.onExecutionError(new is.a({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:n,videoSlotSize:a,visibilityRatio:o}=r.measurerStartParameters,s={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Vr({win:window,slotSize:n.getValue(),videoSlotSize:a.getValue(),slotVisibilityRatio:o.getValue(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime()}),pixelsSource:"adParameters"};mr(s),r.callbacks.onTrackEvent(s),wr(e,r.initializedMeasurers)})),this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.onClickThru.add(e=>{let{url:t,id:i,playerHandles:r}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),void 0),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,i,r)}),this.playingStateValueSignal.add(i.onPlayingStateChange);let a=!1;t.visibilityRatio&&(a=t.visibilityRatio.getValue()>=xv),this.slotVisibilityStateValueSignal=new xd.a(a),null===(n=t.visibilityRatio)||void 0===n||n.add(e=>this.slotVisibilityStateValueSignal.dispatch(e>=xv)),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new jm,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.addDestroyHandler(e=>{i.onStop(e),Object(ds.a)([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],e=>{e.dispatch(!1),e.removeAll()})}),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=_(uv,(e,t)=>()=>{Object(as.a)("Measurer called VPAID action method=["+t+"]"),rs.c.event({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t}})}),r=_(cv,(t,i)=>{return function(){const t=e[i];for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.apply(e,n)}});return Object(ds.a)(Ev,e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...r)}),e)}),Fr(rn({},i,r,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;Object(ds.a)(Ev,t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.vpaidDidDispatchEvent(t,r)}),t)})}vpaidDidDispatchEvent(e,t){const i=gv[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdVideoComplete"===e&&(this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete")),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new is.a({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};Object(as.a)("Track VPAIDMeasurer event=[error]"),f(i),this.callbacks.onAdError(i)}var r,n,a,o,s;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdUserClose"===e)&&this.callbacks.onExecutionError(new is.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null===(r=this.vpaidInitParameters)||void 0===r?void 0:r.adParameters}}));"AdSkipped"===e&&this.callbacks.onExecutionError(new is.a({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null===(n=this.vpaidInitParameters)||void 0===n?void 0:n.adParameters}}));"AdImpression"===e&&this.callbacks.onExecutionError(new is.a({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null===(a=this.vpaidInitParameters)||void 0===a?void 0:a.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new is.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null===(o=this.vpaidInitParameters)||void 0===o?void 0:o.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new is.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null===(s=this.vpaidInitParameters)||void 0===s?void 0:s.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdStopped":case"AdError":case"AdSkipped":this.destroy({reason:e})}const d=this.eventSniffers[e];void 0===d?this.vpaidEventBus.dispatch(e,...t):d(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?Object(os.a)(i,t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return Object(_s.a)(i)?Object(ps.b)(t,i,{override:!1}):t}):[]}getConsumerAdditionalTrackingParams(e,t){const i=Object(Td.a)(()=>{var i,r;return null===(i=(r=this.parameters).getAdditionalTrackingParameters)||void 0===i?void 0:i.call(r,{eventName:e,url:t})});return!Object(_s.a)(i)||Hi(i)?null:i}onAdVideoStart(){this.measurerStartParameters?this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}):this.callbacks.onExecutionError(new is.a({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const cf="ENABLE"===pc("TRACK_COMPLETE_BEFORE_PACKSHOT")?"ENABLE":void 0,uf=()=>Ts,hf=()=>!1,pf=()=>!1,Af=e=>"2.0";var mf,vf,ff,gf,bf,yf,_f={},Of=[],Ef=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;mf={__e:function(e,t){for(var i,r;t=t.__;)if((i=t.__c)&&!i.__)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError&&(r=!0,i.setState(i.constructor.getDerivedStateFromError(e))),null!=i.componentDidCatch&&(r=!0,i.componentDidCatch(e)),r)return An(i.__E=i)}catch(t){e=t}throw e}},un.prototype.setState=function(e,t){var i;i=this.__s!==this.state?this.__s:this.__s=on({},this.state),"function"==typeof e&&(e=e(i,this.props)),e&&on(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),An(this))},un.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),An(this))},un.prototype.render=cn,vf=[],ff="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bf=_f,yf=0;var Sf,Tf,wf,Pf=[],Cf=mf.__r,If=mf.diffed,Nf=mf.__c,Df=mf.unmount;mf.__r=function(e){Cf&&Cf(e),Sf=0,(Tf=e.__c).__H&&(Tf.__H.__h.forEach(Bn),Tf.__H.__h.forEach(Mn),Tf.__H.__h=[])},mf.diffed=function(e){If&&If(e);var t=e.__c;if(t){var i=t.__H;i&&i.__h.length&&(1!==Pf.push(t)&&wf===mf.requestAnimationFrame||((wf=mf.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(i,100);"undefined"!=typeof window&&(t=requestAnimationFrame(i))})(Ln))}},mf.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Bn),e.__h=e.__h.filter((function(e){return!e.__||Mn(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],mf.__e(i,e.__v)}})),Nf&&Nf(e,t)},mf.unmount=function(e){Df&&Df(e);var t=e.__c;if(t){var i=t.__H;if(i)try{i.__.forEach((function(e){return e.t&&e.t()}))}catch(e){mf.__e(e,t.__v)}}};const Rf=e=>Object(nl.a)(e)?e:new is.a(e,{code:"PREACT_ERROR",details:{error:e}}),kf=e=>{const[t]=In(new xd.a({status:"initial"}));Dn(()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),ns.a):t.addOne(t=>{"initial"!==t.status&&e.onFirstRender(t)})},[t]),Nn(()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})},[t]);const[i]=function(e){var t=Cn(Sf++),i=In();return t.__=e,Tf.componentDidCatch||(Tf.componentDidCatch=function(e){t.__&&t.__(e),i[1](e)}),[i[0],function(){i[1](void 0)}]}((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];const a=Object(ls.a)(r)&&1===r.length&&Object(Zu.a)(r[0])?r[0]:void 0,o=null!==a&&void 0!==a?a:new Error("Preact error boundary error"),s=Rf(o);rs.c.error({error:s});const{status:d}=t.getValue();"initial"===d?t.dispatch({status:"error",error:s}):e.onRuntimeError(s)}));return i||"error"===t.getValue().status?null:dn(cn,null,e.children)},Vf=(Object(ys.a)({propertyName:"ERROR_BOUNDARY_GLOBAL_CALLBACK",win:window}),Pn({}));Vf.Provider.displayName="ErrorBoundaryTestContext";const jf=e=>{const t=e.components;return dn(cn,null,Object(qd.a)(t,(t,i)=>i(Un({},e.componentsProps,{children:t})),e.children))};var Lf=function(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=Hn(e))&&(r&&(r+=" "),r+=t);return r};const Bf=Pn(ws);Bf.Provider.displayName="SlotSizeContext";const Mf=e=>Wn(e),xf=()=>jn(Bf),Ff=Pn({element:document.body});Ff.Provider.displayName="SlotContext";const Uf=e=>{return{element:e}},Hf=()=>jn(Ff);Number(new Date);class Wf{constructor(){var e,t,i;e=this,t="usingStylesByContainersMap",i=new WeakMap,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const r=i.get(t);return r?(i.set(t,r+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const r=i.get(t);return!r||(i.set(t,r-1),!(r>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const zf=new class{constructor(){Gn(this,"stylesUsingCounter",new Wf),Gn(this,"styleElementsMap",new WeakMap)}useStyleModule(e,t){const i=t,r=[];for(let n=0;n<i.length;n++){const[t,a]=i[n];if(a){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=zn(e,a),r=this.styleElementsMap.get(e);r?r.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}r.push(t)}}return r.length?Object(cs.a)(()=>{Object(ds.a)(r,t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),r=this.styleElementsMap.get(e);if(!i||!r)return;const n=r.get(t);Object(es.a)(n),r.delete(t),0===r.size&&this.styleElementsMap.delete(e)})}):ns.a}},Gf=Pn({descriptionText:void 0,buttonText:"",openClickThroughUrl:ns.a,progress:0,hasTimeline:!1,disableOverlay:!1});Gf.Provider.displayName="PackshotContext";var Yf=i(152),Xf=i.n(Yf);const qf=e=>{let{children:t,onClick:i}=e;return Yn(Xf.a),dn("div",{className:Yf.locals.PackshotButton,onClick:i},dn("div",{className:Yf.locals.PackshotButton__content},t))};var Kf=i(162),Qf=i.n(Kf);const Jf=e=>{let{width:t,height:i}=e;return Yn(Qf.a),dn("div",{className:Kf.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})},Zf=4,$f=e=>Math.floor(1e4*e)/1e4;var eg=i(93),tg=i.n(eg);const ig="#ff1a2d",rg=1,ng=e=>{let{currentNumber:t,count:i,color:r=""+ig,adAnimationProgress:n,backgroundOpacity:a=rg}=e;Yn(tg.a);const{width:o,transform:s}=function(e){let{currentNumber:t,count:i}=e;const r=Zf*(i-1)/i,n="calc("+$f(100/i)+"% - "+$f(r)+"px)",a=t*Zf;return{width:n,transform:"translateX("+("calc("+$f(100*t)+"% + "+$f(a)+"px)")+")"}}({currentNumber:t,count:i});return dn("div",{className:eg.locals.TimelineBar__container,style:{width:o,transform:s}},dn("div",{className:Lf(eg.locals.TimelineBar,eg.locals.TimelineBar__background),style:{opacity:""+a}}),dn("div",{className:Lf(eg.locals.TimelineBar,eg.locals.TimelineBar__progress),style:{transform:"scaleX("+n+")",backgroundColor:r}}))};var ag=i(82),og=i.n(ag);const sg=()=>{Yn(og.a);const{width:e,height:t}=xf(),i=function(e){let{width:t}=e;return t<560?13:t<720?14:16}({width:e}),{descriptionText:r,buttonText:n,openClickThroughUrl:a,progress:o,hasTimeline:s,disableOverlay:d=!1}=(()=>jn(Gf))();return dn("div",{onClick:n?void 0:a,className:Lf(ag.locals.PackshotScreen,{[ag.locals.PackshotScreen_clickable]:!n}),style:{width:e+"px",height:t+"px"}},!d&&dn("div",{className:ag.locals.PackshotScreen__packshotOverlayWrapper},dn(Jf,{width:e,height:t})),n&&dn("div",{className:ag.locals.PackshotScreen__buttonWrapper},dn(qf,{onClick:a},n)),Object(Dl.a)(r)&&dn("div",{className:ag.locals.PackshotScreen__textBlock,style:{fontSize:i+"px"}},r),s&&dn("div",{className:ag.locals.PackshotScreen__timelineBarWrapper},dn(ng,{adAnimationProgress:o,currentNumber:0,count:1,color:"white"})))},dg=[e=>dn(Ff.Provider,{value:Uf(e.container),children:e.children}),e=>dn(Bf.Provider,{value:Mf(e.containerSize),children:e.children}),e=>dn(Gf.Provider,{value:Xn(e),children:e.children})],lg=1e4;class cg extends Md.a{constructor(e){var t,i,r;super(),this.props=e,t=this,i="shouldPlay",r=new xd.a(!0),i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const{duration:n,win:a,openClickThroughUrl:o,hasTimeline:s}=this.props,d=!u(n);this.addDestroyHandler(e=>{Object(as.a)("Packshot: destroy packshot reason=["+e.reason+"]"),rs.c.event({name:"PackshotDestroyed",data:{isInfiniteDuration:d,reason:e}})});const l=new xd.a(0);let c;this.addDestroyHandler(function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return wn(dn(kf,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},dn(jf,{components:dg,componentsProps:e},dn(sg,null))),t),()=>{wn(null,t)}}(qn({},this.props,{openClickThroughUrl:()=>{rs.c.event({name:"PackshotButtonClicked",data:void 0}),o()},animationProgress:l,onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},hasTimeline:s}))),rs.c.event({name:"PackshotRendered",data:{isInfiniteDuration:d}}),d?(c=new Sm(a,e=>{let{time:t}=e;const i=Math.atan(t/lg)/(.5*Math.PI);l.dispatch(i)}),this.addDestroyHandler(()=>{c.stop()}),c.start()):(c=new wm({win:a,duration:n*Ih,callback:e=>{l.dispatch(e)},onFinish:()=>{rs.c.event({name:"PackshotTimelineFinished",data:void 0}),this.destroy({reason:"complete",details:void 0})}}),l.add(e=>{e>=1&&c.stop()}),this.addDestroyHandler(()=>{c.stop(),l.removeAll(),this.shouldPlay.removeAll()}),c.start()),this.shouldPlay.add(e=>{e?c.start():c.stop()})}setPlaying(e){this.shouldPlay.dispatch(e)}}const ug={complete:"AdVideoComplete",skip:"AdSkipped",close:"AdUserClose",stopAd:"AdStopped"};class hg extends Md.a{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="promise")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.promise=this.loadAdCreative().catch(e=>{throw this.destroy(),e})}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:i,initAdCreative:r}=this.params;if(!Object(Ds.a)(r))throw new is.a({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let n,a;try{n=r({adParametersString:e,slot:t,externalLiveCycle:i})}catch(o){throw new is.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!jd(n))throw new is.a({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{a=await n}catch(o){if(Object(nl.a)(o))throw o;throw new is.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),a}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const pg={startAd:()=>new Promise(ns.a),stopAd:ns.a};class Ag extends Md.a{constructor(e){super(),this.params=e,Qn(this,"vpaidEventBus",new Hv),Qn(this,"handshakeVersion",Af),Qn(this,"subscribe",this.vpaidEventBus.subscribe),Qn(this,"unsubscribe",this.vpaidEventBus.unsubscribe),Qn(this,"resizeAd",ns.a),Qn(this,"expandAd",ns.a),Qn(this,"collapseAd",ns.a),Qn(this,"getAdIcons",pf),Qn(this,"getAdExpanded",hf),Qn(this,"setAdVolume",ns.a),Qn(this,"getAdVolume",uf),Qn(this,"initAd",Object(cs.a)(()=>{this.vpaidEventBus.dispatch("AdLoaded")})),Qn(this,"videoStartedLatch",new Pm),Qn(this,"adCreativeLatch",new Pm),Qn(this,"completeLatch",new Pm),Qn(this,"isPackshotStarted",new Pm),Qn(this,"remainingTime",new xd.a(dv)),Qn(this,"shouldPlay",new xd.a(!1)),Qn(this,"isPlaying",new xd.a(!1)),Qn(this,"shouldPlayTimeCounter",new Vm),Qn(this,"lifeCycleLatches",_({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},(e,t)=>new Pm(this.ignoreAfterDestroy(()=>{this.vpaidEventBus.dispatch(t)})))),Qn(this,"stopAdAndDestroyWrapper",ns.a),Qn(this,"stopAnimation",ns.a),Qn(this,"beforeDestroyLatch",new Pm),Qn(this,"pauseAd",()=>{this.shouldPlay.dispatch(!1)}),Qn(this,"resumeAd",()=>{this.shouldPlay.dispatch(!0)}),Qn(this,"getAdHeight",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoHeight)&&void 0!==e?e:Cm}),Qn(this,"getAdWidth",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoWidth)&&void 0!==e?e:Im}),Qn(this,"getAdLinear",()=>!1),Qn(this,"getAdDuration",()=>{const e=this.getVideoDurationConsideringDurationLimit();return e||ov}),Qn(this,"getAdRemainingTime",()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDurationConsideringDurationLimit(),{currentTime:i}=t.getCurrentPosition();if(u(e)&&ee(i))return Math.max(e-i,0)}return sv}),Qn(this,"getAdSkippableState",()=>!0),Qn(this,"dispatchAdStarted",()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),this.addDestroyHandler(()=>{this.beforeDestroyLatch.dispatch(void 0)});const{videoParameters:t,videoNodeController:i,isNonLinear:r,slot:n,slotSize:a,packshotParameters:o,lang:s,getVPAIDLogDetails:l}=e;if(this.vpaidEventBus.subscribe(e=>{rs.c.errorToStats(e)},"AdError"),this.addDestroyHandler(Object(cs.a)(()=>{this.vpaidEventBus.dispatch("AdStopped")})),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.shouldPlay.add(e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()}),this.remainingTime.add(()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")}),this.beforeDestroyLatch.subscribe(()=>{this.remainingTime.removeAll()}),t){this.getAdVolume=()=>i.getVolume(),this.setAdVolume=e=>{0===e?i.setMuted(!0):i.setVolume(e)};const e=()=>{const e=i.playingState.getValue()===YA.PLAY;this.isPlaying.dispatch(e)};this.beforeDestroyLatch.subscribe(i.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(r||i.pause(),t&&(this.attachToVideoNode(t,i),this.addDestroyHandler(this.adCreativeLatch.subscribe(()=>{this.shouldPlay.getValue()&&i.play();const e=this.shouldPlay.add(e=>{e?i.play():i.pause()});this.isPackshotStarted.subscribe(e),this.addDestroyHandler(e)}))),this.params.videoParameters?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe(e=>{const{getAdDuration:t,getAdRemainingTime:i}=e;if(!t||!i)return void this.dispatchAdStarted();const r=this.remainingTime.add(()=>{0!==t()-i()&&(this.dispatchAdStarted(),r())});this.addDestroyHandler(r)}),this.adCreativeLatch.subscribe(e=>{const{getAdDuration:i,getAdRemainingTime:r,resizeAd:n}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add(t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)}),t||(Object(Ds.a)(i)&&(this.getAdDuration=()=>i.call(e)),Object(Ds.a)(r)&&(this.getAdRemainingTime=()=>r.call(e),this.beforeDestroyLatch.subscribe(ai(()=>{this.remainingTime.dispatch(this.getAdRemainingTime())})))),this.stopAnimation=Object(cs.a)(()=>{e.stopAd()}),this.beforeDestroyLatch.subscribe(this.stopAnimation),this.beforeDestroyLatch.subscribe(a.add(t=>{Object(Ds.a)(n)&&n.call(e,t)}))}),o){const e=n.ownerDocument,t=e.createElement("div"),i=e.defaultView;if(i){const{packshotImageUrl:e}=o;this.lifeCycleLatches.AdVideoThirdQuartile.subscribe(()=>{d(e)}),this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{"ENABLE"===cf&&this.vpaidEventBus.dispatch("AdVideoComplete"),this.isPackshotStarted.dispatch(Kn({},o,{packshotContainer:t,win:i}))}))}else rs.c.error({error:new is.a({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(i)}}),probability:ts.a})}else this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.stopAdAndDestroyWrapper("complete")}));this.isPackshotStarted.subscribe(e=>{let{packshotDuration:t,packshotImageUrl:r,packshotActionButtonClickUrl:o,onPackshotStart:d,packshotButtonText:c,packshotContainer:u,win:h}=e;this.stopAnimation(),i.pause(),d(),S(u,Kn({},Ol,{backgroundImage:"url("+r+")",backgroundPosition:"center",backgroundSize:"cover"})),n.appendChild(u);const p=new cg({duration:t,container:u,win:h,containerSize:a,openClickThroughUrl:()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:o,id:void 0,playerHandles:!0})},buttonText:c||Yd("LEARN_MORE",s),descriptionText:void 0,disableOverlay:void 0,hasTimeline:!0});this.shouldPlay.add(e=>{p.setPlaying(e)}),p.addDestroyHandler(e=>{let{reason:t,details:i}=e;"complete"!==t?("firstRenderError"!==t&&"runtimeError"!==t||(rs.c.error({error:new is.a({code:"firstRenderError"===t?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:l()})}),this.vpaidEventBus.dispatch("AdError",i)),this.destroy()):"ENABLE"===cf?this.destroy():this.stopAdAndDestroyWrapper("complete")}),this.addDestroyHandler(()=>{p.destroy({reason:"stopAd",details:void 0}),Object(es.a)(u)})}),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null===(e=this.params.videoParameters)||void 0===e?void 0:e.getAutoplay();!t||i?(Object(as.a)("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)):(Object(as.a)("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),rs.c.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,canAutoplay:i},probability:ts.a})),this.beforeDestroyLatch.subscribe(this.shouldPlay.add(e=>{t&&!this.isPackshotStarted.getDispatched()||this.vpaidEventBus.dispatch(e?"AdPlaying":"AdPaused")})),this.stopAdAndDestroyWrapper=e=>{const t=ug[e];this.vpaidEventBus.dispatch(t),this.destroy()},this.beforeDestroyLatch.subscribe(()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()})}stopAd(){this.destroy()}skipAd(){this.vpaidEventBus.dispatch("AdSkipped"),this.stopAd()}getVideoDurationConsideringDurationLimit(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{durationLimit:i}=e,{duration:r}=t.getCurrentPosition(),n=u(r)?r:void 0;if(n&&u(i))return Math.min(n,i);if(n)return n}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:i,slot:r,videoParameters:n}=this.params;if(!e)return void this.adCreativeLatch.dispatch(pg);const{animationMediaFile:a,getPreloadedAdCreativeInitFunction:o,adCreativeParameters:s}=e;let d=o();try{if(Object(Ds.a)(d))0;else{0;const{promise:e,teardown:i}=Pt({animationMediaFile:a,win:t});this.beforeDestroyLatch.subscribe(i),d=await e}}catch(u){if(Object(nl.a)(u))throw u;throw new is.a(u,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:i()})}if(this.isDestroyed)return;const l=new hg({slot:r,adParametersString:s,externalLiveCycle:Boolean(n),initAdCreative:d});this.beforeDestroyLatch.subscribe(()=>{l.destroy()});const c=await l.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}attachToVideoNode(e,t){const{videoSlotSize:i,videoContentSize:r,videoMediaFile:n,videoMediaFiles:a,videoTimeout:o,bufferEmptyLimit:s,bufferFullTimeout:d,durationLimit:l,durationFallback:c,onVideoBufferingStateChange:h}=e,{videoNode:p}=t,{clickThroughUrl:A,animationParameters:m,slot:v}=this.params;t.onVolumeChange.add(()=>this.vpaidEventBus.dispatch("AdVolumeChange"));const f=Date.now();this.addDestroyHandler(t.onCanPlay.addOne(()=>{rs.c.values({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-f},data:void 0,labels:{},probability:ts.a})})),t.setSrc(n),void 0!==A&&this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{const e=()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:A,id:void 0,playerHandles:!0})};this.beforeDestroyLatch.subscribe(t.onClick.add(()=>{rs.c.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:A}}),e()})),ar(p)&&!vc&&this.beforeDestroyLatch.subscribe(Si(p,{cursor:"pointer"})),void 0===m&&(this.beforeDestroyLatch.subscribe(Object(ss.a)({element:v,eventName:"click",listener:t=>{rs.c.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:A}}),e()},ignoreBubbling:!0})),vc||this.beforeDestroyLatch.subscribe(Si(v,{cursor:"pointer"})))})),this.beforeDestroyLatch.subscribe(t.onVolumeChange.add(()=>{this.vpaidEventBus.dispatch("AdVolumeChange")})),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{const e=t.onPlayAfterPause.add(()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")}),i=t.playingState.add(e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")});this.beforeDestroyLatch.subscribe(e),this.beforeDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)}));const g=()=>{const e=this.adCreativeLatch.getValue();if(!e||!Object(Ds.a)(e.adjustAdPosition))return;const t=this.getAdDuration(),i=this.getAdRemainingTime();u(t)&&ee(i)&&e.adjustAdPosition({adDuration:t,adRemainingTime:i})};this.beforeDestroyLatch.subscribe(lr({durationFallback:c,durationLimit:l,videoNodeController:t,callbacks:Kn({},_(this.lifeCycleLatches,e=>()=>{e.dispatch(void 0)}),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),g()},AdVideoComplete:e=>{if(e.completeOnDurationLimit){const{getVPAIDLogDetails:e}=this.params;rs.c.event({name:"CreativeCompleteOnDurationLimit",data:{durationLimit:l,vpaidLogDetails:e()}})}this.completeLatch.dispatch(void 0)}})}));const b=new Error;this.shouldPlayTimeCounter.addCallback(o,()=>{if(this.videoStartedLatch.getDispatched())return;const e=new is.a(b,{code:"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:o,mediaFile:n,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{t.isBuffering.getValue()&&h(!0),this.addDestroyHandler(t.isBuffering.add(e=>{h(e)}))})),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe(()=>{this.beforeDestroyLatch.subscribe(or({videoNodeController:t,bufferEmptyLimit:s,callback:()=>{const e=new is.a({code:"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:s,mediaFile:n,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.beforeDestroyLatch.subscribe(sr({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new is.a({code:"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:n,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))})),t.setSeekAllowed(!1),this.beforeDestroyLatch.subscribe(t.onSeekRestore.add(()=>{rs.c.event({name:"AdCreativeRestoreSeek",data:{},probability:ts.a})})),this.beforeDestroyLatch.subscribe(()=>{t.setSeekAllowed(!0)}),this.beforeDestroyLatch.subscribe(t.onError.add(e=>{e=new is.a(e,{details:Kn({},e.details,{selectedMediaFile:n,mediaFiles:a})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.beforeDestroyLatch.subscribe(t.currentPosition.add(()=>{g(),this.remainingTime.dispatch(this.getAdRemainingTime())})),this.beforeDestroyLatch.subscribe(i.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(Ds.a)(t.resizeVideoSlot)&&t.resizeVideoSlot(e)})),this.beforeDestroyLatch.subscribe(r.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(Ds.a)(t.resizeVideoContent)&&t.resizeVideoContent(e)}))}startAdCreative(e){const{slot:t,videoParameters:i,slotSize:r,getVPAIDLogDetails:n}=this.params,a=r.getValue(),o=_(this.lifeCycleLatches,e=>i?ns.a:()=>e.dispatch(void 0)),s=e.startAd({get slot(){return Object(wh.a)('You are using "slot" parameter from adCreative.startAd(...) method. This property is deprecated. Use "slot" parameter from initAdCreative method argument.'),rs.c.error({error:new is.a({code:"USING_SLOT_GETTER_FROM_START_AD_PARAMETERS",details:n()})}),t},callbacks:Kn({AdClickThru:this.ignoreAfterDestroy((e,t,i)=>{const r=Object(Dl.a)(e)?e:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,id:t,playerHandles:i})})},o),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},videoSlotSize:i?i.videoSlotSize.getValue():a,size:a,videoContentSize:null===i||void 0===i?void 0:i.videoContentSize.getValue()});if(!jd(s))throw new is.a({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});s.then(this.ignoreAfterDestroy(e=>{if(i)return;let t="complete";if(Object(_s.a)(e)){const i=e.reason;Object(Dl.a)(i)&&Boolean(ug[i])&&(t=i)}"complete"===t?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(t)})).catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}pauseAdCreative(e){var t;null===(t=e.pauseAd)||void 0===t||t.call(e)}resumeAdCreative(e){var t;null===(t=e.resumeAd)||void 0===t||t.call(e)}}const mg=Object(cs.a)(e=>{rs.c.event({name:"IntersectionObserverMocked",data:{functionCode:Object(Td.a)(()=>e.IntersectionObserver.toString())}})}),vg=Object(cs.a)(()=>{rs.c.event({name:"DocumentHiddenMocked",data:void 0})}),fg=Object(cs.a)(e=>{rs.c.event({name:"IframeIntersectionObserverMocked",data:{functionCode:Object(Td.a)(()=>e.IntersectionObserver.toString())}})}),gg=Object(cs.a)(()=>{rs.c.event({name:"IframeDocumentHiddenMocked",data:void 0})}),bg=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],yg=250,_g=0,Og=.5,Eg="open",Sg=5e3,Tg="2.0",wg=Object(Bd.a)({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0});class Pg extends Md.a{static getVpaidAd(e){return Fr(new Pg({outsideApi:e}))}handshakeVersion(){return Tg}stopAd(){Object(as.a)("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),ra(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,r,n,a){if(this.isDestroyed)return void rs.c.error({error:new is.a({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:a}})});const o=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(a,["slot","videoSlot"]);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:na({},o,{videoSlot:void 0,slot:void 0})}]).then(ns.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.params=e,aa(this,"unsubscribe",ns.a),aa(this,"getAdIcons",pf),aa(this,"getterValues",Object(Ul.a)(Object(os.a)(wg,e=>[e,cv[e]]))),aa(this,"subscribe",(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,(t,r)=>{e.apply(i,r)})});const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy((e,t)=>{this.getterValues[e]=t}))),this.addDestroyHandler(e=>{"fatal"===e.reason&&rs.c.error({error:new is.a({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})})}callRemoteMethod(e,t){this.isDestroyed?rs.c.error({error:new is.a({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(ns.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}}const Cg="https://"+vs.c+"/"+vu+"/overlay_creative.js",Ig=e=>{let{versionSupported:t,versionToCheck:i}=e;const r=Object(os.a)(t.split("."),e=>parseInt(e,10)),n=Object(os.a)(i.split("."),e=>parseInt(e,10));for(let a=0;a<n.length;a++){const e=n[a],t=r[a],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0},Ng=e=>Object(_s.a)(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe,Dg=["idle","load","init","start","play"];const Rg=e=>s(e)||!Ie(e),kg=e=>{const{adConfig:{secureMode:t}}=e,i=null!==Gc&&void 0!==Gc?Gc:t;if(!i)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!Rg(r.url);case"OnlyYandexCreatives":case"Unsafe":default:return!1}};class Vg extends iv{constructor(e){super(e),la(this,"onAdSkippableStateChange",new dl.a),la(this,"creative",void 0),la(this,"adCreativeWrapper",void 0),la(this,"adSkippableState",!1),la(this,"canUseMediaAfterPlayback",!1),la(this,"lifeCycleStage",new xd.a("idle",(e,t)=>{const i=Dg.indexOf(e);return Dg.indexOf(t)-i!==1&&rs.c.error({error:new is.a({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:da({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),la(this,"startVpaidCreative",Object(cs.a)(e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),Object(as.a)("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();e.subscribe(Object(cs.a)(()=>{Object(as.a)("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),rs.c.values({name:"VpaidCreativeStarted",probability:ts.a,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},labels:{}})}),"AdStarted")})),la(this,"creativeAdStartedCallback",oe(()=>{if(this.isDestroyed)return void rs.c.error({error:new is.a({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||rs.c.error({error:new is.a({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=Object(cs.a)(()=>{this.isStarted.dispatch(!0)}),t=this.playingState.getValue();Object(as.a)("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"!==t?this.playingState.subscribeValueConditionOnce(e=>"play"===e,e):e()},()=>{rs.c.error({error:new is.a({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),la(this,"createContainerNode",Object(cs.a)(e=>{let{isAdCreative:t,isNonLinear:i}=e;const{slotDocument:r,slotParameters:n}=this.adDisplayController,a=r.createElement("div");S(a,da({},Ol,{pointerEvents:i?"none":"auto",visibility:"hidden",overflow:"hidden"})),this.isCreativeStartRequested.addOne(()=>{S(a,{visibility:"visible"})}),this.addDestroyHandler(()=>{Object(es.a)(a)}),n.element.appendChild(a);let o=null;return(t||i)&&(o=ea(a))&&S(o,Ol),o||a})),la(this,"prepareVpaidCreative",Object(cs.a)(async()=>{this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)}));const e=await this.initCreative();if(!e||this.isDestroyed)throw new is.a({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});e.subscribe(e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})},"AdError"),this.creative=e,this.addDestroyHandler(()=>{this.creative=void 0}),this.onReady.dispatch(void 0),"play"!==this.playingState.getValue()?this.startAndPauseVpaidCreative(e):this.startVpaidCreative(e),this.updateAdSkippableState()})),la(this,"updatePosition",this.ignoreAfterDestroy(()=>{var e,t,i,r;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdRemainingTime())&&void 0!==e?e:sv}),Object(as.a)("[VpaidAdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!==(i=null===(r=this.creative)||void 0===r?void 0:r.getAdRemainingTime())&&void 0!==i?i:sv)+"]]")})),la(this,"isAdPlayingCalled",!1),la(this,"getVPAIDLogDetails",()=>({adPodId:this.mediaAd.getAdPodId(),adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Ci(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}));const{adPodViewerPlaybackParams:t}=e,i=new Error,{vpaidTimeout:r}=t;this.shouldPlayTimeCounter.addCallback(r,()=>{const e=this.getSrc(),n=this.lifeCycleStage.getValue(),{videoNodeController:a}=this.adDisplayController,{videoNode:o}=a,s={adPodId:this.mediaAd.getAdPodId(),timeout:r,src:e,config:this.adDisplayController.config,viewerPlaybackParams:t,liveCycleStage:n,videoNodeSrc:o.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:o.networkState,readyState:o.readyState};this.isDestroyed?rs.c.error({error:new is.a({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:s})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&rs.c.error({error:new is.a({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:s})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new is.a(i,{code:sa({creativeLifeCycleStage:n,isYandexCreative:Rg(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:s})}))}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(Qd.a)(1e4);this.addDestroyHandler(e),t.then(()=>{rs.c.error({error:new is.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_10_SEC",details:this.getVPAIDLogDetails()})})}).catch(kd.a)}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(Qd.a)(25e3);this.addDestroyHandler(e),t.then(()=>{rs.c.error({error:new is.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_25_SEC",details:this.getVPAIDLogDetails()})})}).catch(kd.a)}),this.addDestroyHandler(()=>{this.onAdSkippableStateChange.removeAll()})}play(e){void 0===e&&(e=!0),this.isDestroyed&&rs.c.error({error:new is.a({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const t=e?"play":"pause";this.playingState.dispatch(t),this.creative?this.resume():this.prepareVpaidCreative().catch(e=>{this.destroy({reason:"error",details:e})})}getCurrentTime(){if(!this.creative)return _g;const e=this.creative.getAdRemainingTime()||xm;return c(e)?this.getDuration()-e:_g}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return!c(e)||e<0?this.isStarted.getValue()?xm:this.getDuration():e}pause(){this.playingState.dispatch("pause"),this.creative&&(Object(as.a)("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),Object(as.a)("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(Object(as.a)("VpaidAdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():lv}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return Im}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return Cm}resizeAd(e,t,i){var r;void 0===i&&(i=nA.NORMAL),null===(r=this.creative)||void 0===r||r.resizeAd(e,t,i)}getSrc(){return this.getScriptSrc()}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:Og;this.setVolume(e?0:i)}getVolume(){var e,t;return null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdVolume())&&void 0!==e?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume()!==e&&!this.mediaAd.vastAd.isNonLinear&&!kg(this.mediaAd),{videoNode:i}=this.adDisplayController.videoNodeController,r=i.volume,n=i.muted;this.creative.setAdVolume(e);const a=i.volume,o=i.muted;t&&!this.adCreativeWrapper&&r===a&&n===o&&rs.c.error({error:new is.a({code:"VPAID_CREATIVE_DID_NOT_CHANGE_VIDEO_SLOT_VOLUME",details:this.getVPAIDLogDetails()})})}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){Rg(this.getScriptSrc())&&(Object(as.a)("preload VPAID creative by start and pause"),this.startVpaidCreative(e),rs.c.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:ts.a,data:{vpaidSrc:this.getSrc()}}),Object(as.a)("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,{isNonLinear:n}=r,a=ci(r),o=this.createContainerNode({isAdCreative:a,isNonLinear:n});let s;if(a){Object(as.a)("[VpaidAdPodViewer]: play creative as AdCreative"),s=o;const{creative:i,wrapper:r}=this.wrapAdCreative(s);e=i,this.adCreativeWrapper=r,t=Object(cs.a)(()=>{try{Object(as.a)("[VpaidAdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(t){const e=n?"OVERLAY_STOP_AD_ERROR":"LINEAR_AD_CREATIVE_STOP_AD_ERROR";rs.c.error({error:new is.a(t,{code:e,details:this.getVPAIDLogDetails()})})}})}else if(kg(this.mediaAd)){Object(as.a)("[VpaidAdPodViewer]: play creative via VASFrame");const i=ql({container:s=o,initTimeout:Sg});this.addDestroyHandler(i.abortInit);const r=await i.initPromise;if(this.isDestroyed)return void r.destroy(void 0);if(r.addDestroyHandler(()=>{this.destroy({reason:"error",details:new is.a({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})}),this.addDestroyHandler(()=>{r.destroy(void 0)}),this.isDestroyed)return;if(r.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await r.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const n=()=>Pg.getVpaidAd(r),a=this.getStandardVpaidCreative(n);e=a.creative,t=Object(cs.a)(()=>{Object(as.a)("[VpaidAdPodViewer]: call VPAID stopAd method"),a.stopAd()}),this.addDestroyHandler(t),r.changeFrameVisibility(!0)}else{Object(as.a)("[VpaidAdPodViewer]: play creative with Friendly Iframe");const i=rA.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),r=i.iframe;S(r,Ol),s=r.contentDocument.body;const n=r.contentWindow;Zn(n)&&gg(),$n(n)&&fg(n),Object(ds.a)(bg,e=>{this.addDestroyHandler(Object(ss.a)({element:s,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))}),this.addDestroyHandler(()=>{i.destroy(void 0)}),i.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})});const a=await this.loadVpaidMediaFile(n);if(this.isDestroyed)return;const d=this.getStandardVpaidCreative(a);e=d.creative,t=d.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne(()=>{Object(as.a)("[VpaidAdPodViewer]: call stopAd in onBeforeDestroy callback"),t()}),rs.c.values({name:"VpaidCreativeLoaded",probability:ts.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},labels:{}}),this.isDestroyed)throw new is.a({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:d}=this,{videoNodeController:l,config:c}=d,{clientWidth:u,clientHeight:h}=l.videoNode,p=this.getDesiredBitrate(),A={AdParameters:this.getAdParameters()},{canPlayMuted:m,canPlayUnMuted:v}=d.autoplayAbilitySignal.getValue(),f={slot:s,videoSlot:l.videoNode,videoSlotCanAutoPlay:l.videoNode.muted?m:v,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:c.lang,skipDelay:c.skipDelay,controlsSettings:{controlsVisibility:yc},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},g=ia({creative:e,isYandexCreative:Rg(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(g,s.ownerDocument.defaultView);const b=Date.now();return await new Promise((i,r)=>{g.subscribe(()=>{Object(as.a)("VPAID dispatched AdLoaded event"),i(g)},"AdLoaded"),g.subscribe(e=>{Object(as.a)("VPAID dispatched AdError event"),r(this.parseVpaidError(e,"VPAIDLoadingError"))},"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(u,h,nA.NORMAL,p,A,f)}catch(n){throw Object(as.a)("[VpaidAdPodViewer]: creative.initAd() error, call stopAd"),t(),new is.a(n,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}}),rs.c.values({name:"VpaidCreativeInitialized",probability:ts.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-b},labels:{}}),g}wrapAdCreative(e){var t;const{vastAd:i}=this.mediaAd,{isNonLinear:r,mediaFiles:n,durationLimit:a}=i,o=this.getAdParameters(),s=null===(t=i.playbackAdParameters)||void 0===t?void 0:t.clickThroughUrl,{parsed:{videoMediaFiles:d,animationMediaFile:l,adParameters:c},errors:u}=ft(o);if(ae(u),(null===l||void 0===l?void 0:l.type)===Su.Overlay!==r)throw new is.a({code:"AD_PARAMETERS_ARE_NOT_FIT_TO_VAST_BY_LINEAR_TYPE",details:this.getVPAIDLogDetails()});if(r&&!function(e){let{url:t}=e;return t===Cg}(n[0]))throw new is.a({code:"CANNOT_PLAY_NON_YANDEX_OVERLAY",details:this.getVPAIDLogDetails()});const{config:h,videoContentSize:p,videoSlotSize:A,slotParameters:m,slotWindow:v,videoNodeController:f,visibilitySlotParameters:g}=this.adDisplayController,{videoTimeout:b,bufferFullTimeout:y,bufferEmptyLimit:_,packshotParameters:O}=this.adPodViewerPlaybackParams,E=(null===l||void 0===l?void 0:l.type)===Su.Survey;let S,T;if(!r&&!E&&d.length>0){let e=this.mediaAd.getPreloadedVideoFile();const{adBreak:t}=this.mediaAd,i=this.mediaAd.getAdPodId(),{allowedToHideVideoSlotAreaPortion:r}=h,n={container:m.size.getValue(),desiredBitrate:this.getDesiredBitrate(),isVideoADB:Object(Ds.a)(Object(cl.a)(v)),bitratePriorityFactor:tp,allowedToHideVideoSlotAreaPortion:r,mediaFileTypePriorities:hp,enableMediaFilesWithMseFilterUnderAbdOnly:Zh};if(e||(e=ti(d,n,{adBreak:t,adPodId:i,initiator:"VpaidAdPodViewer"}).prioritisedMediaFile),!e)throw new is.a({code:"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE",details:{mediaFiles:d,adPodId:this.mediaAd.getAdPodId(),mediaFilePriorityOptions:n}});S={videoContentSize:p,videoSlotSize:A,videoMediaFile:da({},e,{url:Kh(e.url)}),videoMediaFiles:d,videoTimeout:b,bufferFullTimeout:y,bufferEmptyLimit:_,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:a,getAutoplay:()=>this.adDisplayController.getAutoplay(),onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}T=l&&"InteractiveElementsAdCreative"===Pu[l.url]?"IV":r?"OVERLAY_FRIENDLY_IFRAME":"LINEAR_AD_CREATIVE_FRIENDLY_IFRAME";let w,P=e.ownerDocument.defaultView;if(l){w={animationMediaFile:l,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:c};const t=rA.createHidden({parentElement:e,scope:T,provideLogDetails:this.getVPAIDLogDetails});P=t.window,this.addDestroyHandler(()=>{t.destroy(void 0)}),t.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})})}const{creative:C,wrapper:I,userInteractionDispatchers:N}=Jn({adCreativeWindow:P,slot:e,measurersSlot:this.adDisplayController.measurersSlot,visibilityRatio:g.visibilityRatio,animationParameters:w,videoParameters:S,videoNodeController:f,isNonLinear:r,slotSize:m.size,clickThroughUrl:s,getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:O?da({},O,{onPackshotStart:()=>{this.packshotStartLatch.dispatch(void 0)}}):void 0,lang:h.lang,adCreativeUserInteractionCallbacks:{AdClickThru:e=>{rs.c.event({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e},probability:ts.a}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)}}});return this.userInteractionDispatchers=N,{creative:C,wrapper:I}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null===(e=t.adParametersObject)||void 0===e?void 0:e.theme,r="video-banner_theme_caucasus"===i,n="video-banner_theme_moroz"===i,a="video-banner_theme_lake"===i;qu(t)&&(r||n||a)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=Rg(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(ni(e,(e,i,r)=>{rs.c.error({error:ii({scope:t,errorType:i,error:e,details:da({},this.getVPAIDLogDetails(),{error:e,data:r})})})}));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(iA(e,()=>{this.destroy({reason:"error",details:new is.a({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),t;rs.c.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=rp({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(r){throw new is.a(r,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=Rg(this.getScriptSrc());if("function"!==typeof e)throw new is.a({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:da({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(a){throw new is.a(a,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=Object(cs.a)(()=>{Object(as.a)("[VpaidAdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(a){rs.c.error({error:new is.a(a,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}});if(!Ng(i))throw new is.a({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const n=i.handshakeVersion(Tg);if(!Ig({versionSupported:Tg,versionToCheck:n}))throw Object(as.a)("[VpaidAdPodViewer]: vpaid version is NOT supported, call stopAd method"),r(),new is.a({code:"VPAID_VERSION_ERROR",details:da({},this.getVPAIDLogDetails(),{playerSupportedVersion:Tg,creativeVersion:n})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,yg);return this.addDestroyHandler(()=>{e.clearInterval(t)}),()=>{e.clearInterval(t)}}subscribeCreativeEvents(e,t){e.subscribe(()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!==(e=null===(t=this.completeLatch.getValue())||void 0===t?void 0:t.canUseMediaAfterPlayback)&&void 0!==e&&e}})},"AdStopped"),e.subscribe((e,t,i)=>{rs.c.event({name:"VpaidDispatchedAdClickThru",data:this.getVPAIDLogDetails(),probability:ts.a}),this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})},"AdClickThru"),e.subscribe(()=>{this.updateAdSkippableState()},"AdSkippableStateChange");const i=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let r;e.subscribe(()=>{Object(as.a)("VPAID dispatched AdDurationChange event"),i()},"AdDurationChange"),e.subscribe(()=>{this.creativeAdStartedCallback(),i(),Object(Ds.a)(r)&&r(),r=this.setUpdatePositionInterval(t)},"AdStarted"),e.subscribe(()=>{Object(as.a)("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),Object(Ds.a)(r)&&r(),r=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)},"AdPlaying"),e.subscribe(()=>{Object(as.a)("VPAID dispatched AdPaused event"),this.updatePosition(),Object(Ds.a)(r)&&r(),this.onPause.dispatch(void 0)},"AdPaused"),e.subscribe(()=>{this.trackStartEvent()},"AdVideoStart"),e.subscribe(()=>{this.onImpression.dispatch(void 0)},"AdImpression"),e.subscribe(()=>{this.onFirstQuartile.dispatch(void 0)},"AdVideoFirstQuartile"),e.subscribe(()=>{this.onMidpoint.dispatch(void 0)},"AdVideoMidpoint"),e.subscribe(()=>{this.onThirdQuartile.dispatch(void 0)},"AdVideoThirdQuartile");const n=Object(cs.a)(()=>this.onBeforeComplete.dispatch(void 0));e.subscribe(()=>{n()},"AdVideoBeforeComplete"),e.subscribe(()=>{this.onVolumeChange.dispatch(void 0)},"AdVolumeChange"),e.subscribe(()=>{this.destroy({reason:"skip",details:void 0})},"AdSkipped");const a=Object(cs.a)(()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})});e.subscribe(()=>{Object(as.a)("VPAID dispatched AdVideoComplete event"),a()},"AdVideoComplete"),e.subscribe(()=>{this.destroy({reason:"close",details:void 0})},"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new is.a({code:t,message:"String error from vpaid ["+e+"]",details:i}):Object(nl.a)(e)?e:e?new is.a(e,{code:t,details:i}):new is.a({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}}const jg=e=>{const{adParametersObject:t}=e;if(!Object(_s.a)(t))return;if(!Object(_s.a)(t.subtitles))return;const{vtt:i}=t.subtitles;return Object(Dl.a)(i)?i:void 0},Lg=500,Bg=!1,Mg=1e3,xg="https://yandex.ru/socialads-transparency-report",Fg=(e,t)=>{const i=ai(()=>{Ci(e)||(i(),t())});return i},Ug=function(e){return"value"in e},Hg=function(e){return"value"in e},Wg={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:(4-2*e)*e-1,easeOutBack:pa(.6,.7,.61,1.09,.01)},zg="linear",Gg={number:(e,t,i)=>{return t+(i-t)*e},boolean:(e,t)=>t},Yg=Pn(e=>Yd(e,Hd));Yg.Provider.displayName="I18NContext";const Xg=e=>{let{adDisplayController:t}=e;const{lang:i}=t.config;return e=>Yd(e,i)},qg=()=>jn(Yg),Kg="TRUE"===pc("ENABLE_ACTION_PANEL_ON_DESKTOP_MULTIROLL_BY_DEFAULT")||void 0,Qg=zt("ENABLE_ACTION_PANEL_WITH_ARROW",["MULTIROLL","DESKTOP","EVERYWHERE","OUTSTREAM"]),Jg=450,Zg=Pn({actionButtonParameters:void 0,progress:0,clickThrough:ns.a,shouldUseActionPanel:!1});Zg.Provider.displayName="SkinActionButtonContext";const $g=e=>{let{actionButtonParameters:t,actionButtonAnimationProgress:i,clickThrough:r,slotParameters:n}=e;const{width:a}=Wn(n.size),o=Wn(t),{title:s,body:d}=o||{},l=Object(Dl.a)(s)||Object(Dl.a)(d);let c=function(e){const t=e>=Jg,i="Multiroll"===nd.c;let r;switch(Qg){case"MULTIROLL":r=i;break;case"DESKTOP":r=t;break;case"EVERYWHERE":r=!0;break;case"OUTSTREAM":r=!i;break;case void 0:default:r=!!Kg&&(t&&i)}return r}(a);return l&&"TRUE"!==Rs.a.getFlagValueAndActivateTestId("ENABLE_SKIN_THEME_EMPTY")&&(c=!1),{actionButtonParameters:o,progress:Wn(i),clickThrough:Vn(e=>{r(e,"SkinActionButton")},[r]),shouldUseActionPanel:c}},eb=()=>jn(Zg),tb=e=>{const{width:t="1em",height:i="1em",style:r={}}=e;return dn("svg",{width:t,height:i,style:ma({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},r),viewBox:"14 14 38 38"},dn("g",{"fill-rule":"nonzero",fill:"currentcolor"},dn("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var ib=i(153),rb=i.n(ib);const nb=e=>{let{children:t}=e;return Yn(rb.a),dn("div",{className:ib.locals.ActionButton},dn("div",{className:ib.locals.ActionButton__content},t,dn(tb,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:t?"0.3em":"0px"}})))};var ab=i(94),ob=i.n(ab);const sb=e=>{let{title:t,greenUrl:i}=e;Yn(ob.a);const r=Rn(null),n=Rn(null),[a,o]=In(!1);Dn(()=>{o(r.current.clientHeight>n.current.clientHeight)},[t]);const s=dn("div",{ref:n,className:ab.locals.InfoBlock__titleSpy},t);return dn("div",{className:Lf(ab.locals.InfoBlock,a&&ab.locals.InfoBlock_multiline)},s,dn("div",{ref:r,className:ab.locals.InfoBlock__title},t),i?dn("div",{className:ab.locals.InfoBlock__greenUrl},i):null)};var db=i(83),lb=i.n(db);const cb=360,ub=1080,hb=function(e,t){const i=t.y-e.y,r=t.x-e.x;return t=>e.y+(t-e.x)*i/r}({x:cb,y:.14},{x:ub,y:.07}),pb=700,Ab=ha([{durationPortion:200/pb,values:[-62,10]}],pb),mb=ha([{durationPortion:500/pb,value:0},{durationPortion:200/pb,values:[0,1]}],pb),vb=ha([{durationPortion:500/pb,value:0},{durationPortion:200/pb,values:[0,1]}],pb),fb=e=>{Yn(lb.a);const{progress:t}=eb(),i=xf(),r=qg(),n=r("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),a=r("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:o,greenUrl:s,onButtonClick:d,buttonLabel:l=a,disableAnimation:c=!1,faviconSrc:u}=e,h=wt(t*pb,0,pb),p=c?1:Aa({position:h,unit:"number",steps:mb}),A=c?10:Aa({position:h,unit:"number",steps:Ab}),m=c?1:Aa({position:h,unit:"number",steps:vb}),v=function(e){let{height:t,width:i}=e;const r=Math.min(t,i),n=wt(r,cb,ub),a=n*hb(n);let o="";return r<cb&&(o="scale("+(1-(cb-r)/cb)+")"),{height:a,maxWidth:280*a/48+20,fontSize:a/4,transform:o,"transform-origin":"bottom left"}}(i);return dn("div",{className:db.locals.YoutubeLikeActionButton,style:va({},v)},dn("div",{className:db.locals.YoutubeLikeActionButton__content},dn("div",{className:db.locals.YoutubeLikeActionButton__mask,style:{opacity:p,maxWidth:v.maxWidth*m},onClick:d},dn("div",{className:Lf(db.locals.YoutubeLikeActionButton__wrapper,!u&&db.locals.YoutubeLikeActionButton__wrapper_wide)},dn(sb,{greenUrl:s,title:Object(Dl.a)(o)?o:n}),dn(nb,null,l))),u?dn("div",{className:db.locals.YoutubeLikeActionButton__favicon,style:{left:A+"px"}},u?dn("img",{src:u,alt:"favicon"}):void 0):null))},gb=e=>"AbuseVariantChoose_"+e,bb=-1,yb=-1===fA&&!(yA&&bA>=15);var _b=i(137);const Ob=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),Eb=(e,t,i,r)=>{Object(_s.a)(t)?(r=Boolean(i),Object(ic.a)(t,(t,i)=>{ba(e,i,t,r)})):ba(e,t,i,r)},Sb=er(window),Tb=Sb.requestAnimationFrame,wb=Sb.cancelAnimationFrame,Pb=.8,Cb=1.6,Ib=1.2,Nb=50,Db=5,Rb=2,kb=100,Vb=1.8,jb=3,Lb=.3,Bb=.1;class Mb extends Md.a{constructor(e){super(),this.params=e,_a(this,"blurWrapper",void 0),_a(this,"canvas",void 0),_a(this,"context",void 0),_a(this,"isPlaying",new xd.a(!1)),_a(this,"framesInterval",kb),_a(this,"lastTime",void 0),_a(this,"slowFramesCounter",0),_a(this,"slowDevice",!1),_a(this,"repaintTimeoutId",0),_a(this,"rafId",0),_a(this,"repaint",()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=Lb;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const r=kr(this.params.videoNode);if(!r)return void this.setRepaintTimeout();const{clientWidth:n,clientHeight:a}=this.params.container,o=n/a,s=r.width/r.height,d=s-o;this.prepareBlurCanvas(s,d),this.setVisibility(!0);const{context:l}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=Rb;l.drawImage(c,0,0,r.width,r.height,0,0,e,e),l.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else l.drawImage(c,0,0,r.width,r.height,0,0,u,h);l.globalAlpha=Bb,this.handleSlowDevices(),this.setRepaintTimeout()}),this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),ga(this.params.container,this.blurWrapper),this.appendStyles(),this.isPlaying.add(e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))}),this.addDestroyHandler(()=>{this.setPlaying(!1),Object(es.a)(this.blurWrapper)})}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[Cb,Math.max(e,Cb)];t&&i.reverse(),this.slowDevice||Eb(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){Eb(this.canvas,{opacity:e})}simplifyBlur(){const e=2*Db,{clientWidth:t,clientHeight:i}=this.params.container;this.setCanvasSize(t+e,i+e);const r="-"+Db+"px";Eb(this.canvas,{left:r,top:r,transform:"",filter:"blur("+Db+"px)",width:100*(1+e/t)+"%",height:100*(1+e/i)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=Ti(this.params.videoNode).position;-1===Object(_b.a)(["fixed","absolute"],t)&&(e["z-index"]="-1"),Eb(this.blurWrapper,e),Eb(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX("+Ib+") scaleY("+Ib+")",filter:"blur("+Nb+"px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(()=>this.rafId=Tb(this.repaint),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),wb(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>this.framesInterval*Vb?(this.slowFramesCounter++,this.slowFramesCounter>=jb&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:r}=this.params,n=t<0,a=n?r.offsetHeight*e:r.offsetWidth/e,o=n?a:r.offsetWidth,s=n?r.offsetHeight:a,d=(n?i.offsetWidth:i.offsetHeight)/a*Pb;this.setCanvasSize(o,s),this.appendBlurScale(d*Pb,n)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}const xb=.1;var Fb;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(Fb||(Fb={}));const Ub=(e,t)=>{let i=0;return()=>{const r=Date.now();r-i>=t&&(e(),i=r)}},Hb=2,Wb=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class zb{constructor(e){var t,i,r;r=void 0,(i="cues")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const{cues:n}=Ea(e);this.cues=n.sort((e,t)=>e.start-t.start)}findCuesByCurrentTime(e){return Object(Xd.a)(this.cues,t=>this.isCueApplicable(t,e))}isCueApplicable(e,t){const{start:i,end:r}=e;return t>=i&&t<=r}}const Gb=e=>{const t=Ii(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=Si(e,{objectFit:""});return Object(cs.a)(()=>{t(),i()})},Yb=15,Xb=1e3,qb="Fullscreen is not supported";class Kb{constructor(e,t){void 0===e&&(e=window),Ia(this,"handlers",[]),Ia(this,"names",void 0),Ia(this,"onDestroy",new dl.a),Ia(this,"win",void 0),Ia(this,"video",void 0),Ia(this,"fullscreenElement",null),Ia(this,"setFullScreenElementFromAPI",()=>{const e=Rr(this.win,this.video);this.setFullscreenElement(e)}),this.win=e,this.video=t,t&&yA&&(this.onDestroy.addOne(Object(ss.a)({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Object(ss.a)({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=Dr(e,t),this.names&&(this.onDestroy.addOne(Object(ss.a)({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(qb);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(qb);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(qb);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=Object(Xd.a)(this.handlers,t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,Object(ds.a)(this.handlers,t=>t(e))}}class Qb{constructor(e){Na(this,"violatedSources",[]),Na(this,"unsubscribeEvent",void 0),Na(this,"securityPolicyViolationCallback",e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:r}=e;if("media-src"!==i)return;const n={blockedURI:t,violatedDirective:i,originalPolicy:r};this.violatedSources.push(n)}),this.unsubscribeEvent=Object(ss.a)({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return Object(Jh.a)(this.violatedSources,t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)})}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const Jb=.001,Zb=e=>{e.removeAttribute("src"),e.load()},$b=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class ey extends Md.a{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="mediaSource")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaSource=new e.MediaSourceConstructor,Object(ss.a)({element:this.mediaSource,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(as.a)("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new is.a(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))})}),Object(as.a)("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler(()=>{Object(as.a)("MSEController: detach BLOB URL"),Zb(this.params.videoSlot)}),this.init().then(()=>{Object(as.a)("MSEController: MSE successfully attached"),rs.c.event({name:"MSEControllerAttachSuccess",data:{},probability:ts.a})}).catch(e=>{Object(as.a)("MSEController: init error"),"AbortError"===e.name?rs.c.event({name:"MSEControllerFetchWasAborted",data:{message:e.message},probability:ts.a}):rs.c.error({error:new is.a(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})})}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler(()=>{if(e.signal.aborted)return Object(as.a)("MSEController#reader: abort controller was already aborted"),void rs.c.error({error:new is.a({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});Object(as.a)("MSEController#reader: abort controller"),e.abort()});const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new is.a({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler(()=>{Object(as.a)("MSEController#reader: cancel reader"),ra(i.cancel())}),Object(as.a)("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise(e=>Object(ss.a)({element:this.mediaSource,eventName:"sourceopen",listener:e}));const{mediaFile:e}=this.params;let t;Object(Dl.a)(e.type)&&Object(Dl.a)(e.codec)?t=xp(e):(rs.c.event({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e},probability:ts.a}),t=Np);const i=this.mediaSource.addSourceBuffer(t);return Object(ss.a)({element:i,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(as.a)("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new is.a(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))})}),this.addDestroyHandler(()=>{"open"===this.mediaSource.readyState&&(Object(as.a)("MSEController#abort source buffer"),i.abort())}),Object(as.a)("MSEController: got source buffer"),i}async doReadCycle(e,t){Object(as.a)("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+$b);let i=await e.read(),r=new Uint8Array;do{for(;t.updating;)await new Promise(e=>Object(ss.a)({element:t,eventName:"updateend",listener:e}));if(!i.value)break;if(this.isDestroyed)return;if($b){const e=new Uint8Array(r.length+i.value.length);e.set(r),e.set(i.value,r.length),r=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise(e=>Object(ss.a)({element:t,eventName:"updateend",listener:e}));i=await e.read()}while(i.value);for($b&&(Object(as.a)("MSEController: buffer read complete, length=["+r.length+"]"),t.appendBuffer(r));t.updating;)await new Promise(e=>Object(ss.a)({element:t,eventName:"updateend",listener:e}));Object(as.a)("MSEController: read cycle complete")}async finalize(e){for(Object(as.a)("MSEController#close streams");e.updating;)await new Promise(t=>Object(ss.a)({element:e,eventName:"updateend",listener:t}));"open"===this.mediaSource.readyState?(Object(as.a)("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):Object(as.a)("MSEController#finalize: media source is closed")}}const ty=e=>{if(!Kp||!Wp)throw new is.a({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new ey(Ra({},e,{MediaSourceConstructor:Wp}))},iy=e=>"canPlayMseForAbd"===Kt(e),ry=50,ny=2;class ay{constructor(e,t){this.video=e,this.onSeekRestore=t,ka(this,"unsubscribeVideoTimeupdate",void 0),ka(this,"lastLegalCurrentTime",void 0),ka(this,"lastTimestamp",void 0),ka(this,"seekAllowed",!0),ka(this,"onVideoTimeUpdate",()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())}),this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=Object(ss.a)({element:e,eventName:"timeupdate",listener:this.onVideoTimeUpdate})}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<ry)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>(i||1)*ny}}const oy=1,sy=Math.ceil(2/(250/Ih)),dy=1e3,ly=.25,cy=1e3,uy=1e3,hy=.1,py=Rp.a;class Ay extends Md.a{constructor(e,t){super(),this.videoNode=e,this.window=t,ja(this,"onClick",new dl.a),ja(this,"currentPosition",new xd.a({currentTime:0,duration:0},pr)),ja(this,"playingState",new xd.a(this.videoNode.paused?YA.PAUSE:YA.PLAY)),ja(this,"onError",new dl.a),ja(this,"onEnd",new dl.a),ja(this,"onVolumeChange",new dl.a),ja(this,"onPlay",new dl.a),ja(this,"onPlayAfterPause",new dl.a),ja(this,"onBufferingAfterPlay",new dl.a),ja(this,"isBuffering",new xd.a(!1)),ja(this,"onPlaying",new dl.a),ja(this,"fullscreenApi",void 0),ja(this,"onSeekRestore",new dl.a),ja(this,"onCanPlay",new dl.a),ja(this,"pauseRequest",new xd.a(-1)),ja(this,"seekController",void 0),ja(this,"cspErrorHandler",void 0),ja(this,"activeMSEController",void 0),ja(this,"win",void 0),this.seekController=new ay(e,()=>this.onSeekRestore.dispatch(void 0)),this.win=ar(e)?e.ownerDocument.defaultView:this.window,this.fullscreenApi=new Kb(this.win,e),this.cspErrorHandler=new Qb(this.win);let i=this.playingState.getValue();this.playingState.add(e=>{const{currentTime:t,duration:r,paused:n,ended:a}=this.videoNode;switch(Object(as.a)("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:i,nextPlayingState:e,currentTime:t,duration:r,paused:n,ended:a})+"]"),e){case YA.PLAY:"pause"===i&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case YA.END:this.onEnd.dispatch(void 0);break;case YA.BUFFERING:"play"===i&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===YA.BUFFERING),i=e});const r={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new is.a({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&rs.c.error({error:e})};let r=t();if(!r){r=this.getVideoNodeError();const{promise:e,clear:t}=Object(Qd.a)(cy);this.addDestroyHandler(()=>{t(),i()}),e.then(i).catch(kd.a)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch(YA.PLAY)},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch(YA.PLAY)}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange();for(const n in r)r.hasOwnProperty(n)&&e.addEventListener(n,r[n]);this.addDestroyHandler(()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll(),this.onCanPlay.removeAll()})}play(){Object(as.a)("VideoNodeController.play");const e=this.videoNode.play();jd(e)&&e.catch(e=>{this.shouldIgnorePlayRejection(e)||rs.c.error({error:new is.a(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})})}pause(){Object(as.a)("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause()}setSrc(e){const{url:t}=e,{videoNode:i}=this;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const r=iy(e);Object(as.a)("VideoNodeController.setSrc playWithMSE=["+r+"] url=["+t+"]"),ji(i,()=>{if(!r)return i.src=t,void i.load();const n=ty({mediaFile:e,videoSlot:i});this.activeMSEController=n,n.addDestroyHandler(this.ignoreAfterDestroy(e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)})),this.addDestroyHandler(()=>{n.destroy(void 0)})})}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return Da(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return Rr(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){ji(e,()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:Og;e.volume=t}})}(this.videoNode,e)}getVolume(){return Va(this.videoNode)}setVolume(e){!function(e,t){ji(e,()=>{e.volume=t,e.muted=0===t})}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:r,duration:n,error:a,networkState:o,readyState:s}=e,d=a&&a.code,l={code:d,message:a&&a.message||"",src:t,currentSrc:i,currentTime:r,duration:n,networkState:o,readyState:s,selectedMediaFile:void 0,mediaFiles:void 0};if(!a||"undefined"===typeof MediaError)return new is.a({code:"VIDEO_ERROR",details:l});switch(d){case MediaError.MEDIA_ERR_ABORTED:return new is.a({code:"MEDIA_ERR_ABORTED",details:l});case MediaError.MEDIA_ERR_NETWORK:return new is.a({code:"MEDIA_ERR_NETWORK",details:l});case MediaError.MEDIA_ERR_DECODE:return new is.a({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:l});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return c(o)&&c(s)&&s===e.HAVE_NOTHING&&o===e.NETWORK_NO_SOURCE?new is.a({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:l}):new is.a({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:l});default:return new is.a({code:"MEDIA_ERROR_UNRECOGNIZED",details:l})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=bA>=11?Ca(this.videoNode,e):Object(ss.a)({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{if(this.seekController.isSeekingIllegal())return;this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();Object(as.a)("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},r=Object(ss.a)({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,yg)},options:{passive:!0}}),n=Object(ss.a)({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),a=Object(ss.a)({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),o=Object(ss.a)({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(r),this.addDestroyHandler(n),this.addDestroyHandler(a),this.addDestroyHandler(o),this.addDestroyHandler(()=>{this.win.clearInterval(e)})}subscribePause(){const{videoNode:e}=this,t=Object(ss.a)({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch(YA.PAUSE)},options:{passive:!0}}),i=ai(()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===YA.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;Object(as.a)("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),rs.c.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch(YA.PAUSE)}});this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Object(ss.a)({element:this.videoNode,eventName:"ended",listener:()=>{if(this.seekController.isSeekingIllegal())return;const{currentTime:e,duration:t}=this.getCurrentPosition();e+ly>=t?this.playingState.dispatch(YA.END):Object(as.a)("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const r=ai(()=>{const{currentTime:e,duration:r}=this.getCurrentPosition(),{paused:n}=this.videoNode,a=this.playingState.getValue();if(r>0&&e>=r)return void(a!==YA.END&&(rs.c.event({name:"DetectVideoEndByCurrentTime",data:void 0}),this.playingState.dispatch(YA.END)));const o=!n&&r>0&&e===i&&r-e<oy&&this.playingState.getValue()===YA.PLAY;i=e,o?t>=sy?(t=0,a!==YA.END&&(rs.c.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(YA.END))):t++:t=0});this.addDestroyHandler(e),this.addDestroyHandler(r)}subscribeBuffering(){let e=ns.a;const t=km(this.videoNode,t=>{const i=t?YA.BUFFERING:this.videoNode.paused?YA.PAUSE:YA.PLAY;if(e(),this.playingState.dispatch(i),t&&py){const{clear:t,promise:i}=Object(Qd.a)(uy);e=t,this.addDestroyHandler(t),i.then(()=>{if("buffering"!==this.playingState.getValue())return;const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+hy;this.setCurrentTime(i);const{currentSrc:r,src:n}=this.videoNode;rs.c.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:r,src:n,currentTime:e,duration:t}})}).catch(kd.a)}});this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Object(ss.a)({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}shouldIgnorePlayRejection(e){if(this.isDestroyed)return!0;if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=dy}}const my=e=>{let{valueSignal:t,time:i,callback:r,win:n}=e,a=0;const o=()=>n.clearTimeout(a),s=t.add(e=>{e?a=n.setTimeout(()=>{r(),s()},i):o()});return()=>{o(),s()}},vy=e=>{var t;const{adParametersObject:i}=e;if(!Object(_s.a)(i))return;const r=null!==(t=i.adParameters)&&void 0!==t?t:i;return{parsedParameters:hm(r),adParametersObject:i}},fy=["left-bottom","right-bottom"],gy=["left-bottom","right-bottom","left-center","right-center"],by=.1,yy=.05,_y=140,Oy=e=>!1!==e.abuse,Ey={isCloseAvailable:!1,isCloseDialogActive:!1},Sy=(e,t)=>t>=xv&&("play"===e||"pause"===e),Ty=(e,t,i,r)=>{const n=e[t];let a=n;return i?a=Object(Xd.a)(n,e=>e!==r):i||Object(al.a)(n,r)||(a=[...n]).push(r),Fa({},e,{[t]:a})},wy=e=>{let{win:t,callback:i,addDestroyHandler:r}=e;const n=new wm({win:t,duration:250,callback:e=>{const t=wt(e,0,1);i(t),1===t&&n.stop()},onFinish:ns.a});r(()=>n.stop()),n.start()};let Py=0;const Cy=100,Iy=2e3;class Ny extends Md.a{enableRetainLastMediaAfterPlayback(){this.retainLastMediaAfterPlayback=!0}disableCreativePackshot(){this.config.packshotSettings={isEnabled:!1}}constructor(e){let{config:t,videoNode:i,videoWrapperNode:a,renderSkin:o,backgroundSlot:s,visibilitySlotParameters:d,measurersSlot:l}=e;super(),Ha(this,"volumeButtonCollapseProgress",new xd.a(void 0)),Ha(this,"volumeStatus",new xd.a("unknown")),Ha(this,"videoContentSize",void 0),Ha(this,"videoSlotSize",void 0),Ha(this,"slotDocument",void 0),Ha(this,"slotWindow",void 0),Ha(this,"slotParameters",void 0),Ha(this,"visibilitySlotParameters",void 0),Ha(this,"onReady",new dl.a),Ha(this,"onBeforeDestroy",new dl.a),Ha(this,"onDestroy_PUBLIC_DO_NOT_USE",new dl.a),Ha(this,"onBeforeAdStart",new dl.a),Ha(this,"onAdStart",new dl.a),Ha(this,"adSlowStart",new xd.a(!1)),Ha(this,"onAdMediaStart",new dl.a),Ha(this,"onAdMediaEnd",new dl.a),Ha(this,"onAdEnd",new dl.a),Ha(this,"onAdSkipped",new dl.a),Ha(this,"onClickThrough",new dl.a),Ha(this,"isFinished",void 0),Ha(this,"config",void 0),Ha(this,"videoNodeController",void 0),Ha(this,"videoNode",void 0),Ha(this,"desiredBitrate",void 0),Ha(this,"autoplayAbilitySignal",new xd.a(Ua({},HA))),Ha(this,"onAdStartRejected",new dl.a),Ha(this,"adContentSize",new xd.a(void 0,pr)),Ha(this,"onAdStop",new dl.a),Ha(this,"onAdStartRequest",new dl.a),Ha(this,"onAdPodPlayAdMedia",new dl.a),Ha(this,"onAdPodStartRequest",new dl.a),Ha(this,"onAdPodStart",new dl.a),Ha(this,"onAdPodImpression",new dl.a),Ha(this,"onAdPodFirstQuartile",new dl.a),Ha(this,"onAdPodMidpoint",new dl.a),Ha(this,"onAdPodThirdQuartile",new dl.a),Ha(this,"onAdPodPause",new dl.a),Ha(this,"onAdPodResume",new dl.a),Ha(this,"onAdPodError",new dl.a),Ha(this,"onAdPodComplete",new dl.a),Ha(this,"onAdPodClose",new dl.a),Ha(this,"onAdInteraction",new dl.a),Ha(this,"adMediaState",new xd.a({name:"idle"},pr)),Ha(this,"isPackshotPlaying",new xd.a(!1)),Ha(this,"actionButtonParameters",new xd.a(void 0,pr)),Ha(this,"disclaimerParameters",new xd.a([],pr)),Ha(this,"actionButtonAnimationProgress",new xd.a(0)),Ha(this,"abuseParameters",new xd.a(em,pr)),Ha(this,"adVolume",void 0),Ha(this,"adPodDuration",new xd.a(Mm)),Ha(this,"adHasBeenUnmuted",void 0),Ha(this,"adVolumeAvailability",new xd.a(Bg)),Ha(this,"adPodRemainingTime",new xd.a(dv)),Ha(this,"skinAnimationProgress",new xd.a(0)),Ha(this,"timeToSkip",new xd.a(bb)),Ha(this,"adSkippableState",new xd.a(lv)),Ha(this,"wasAbuseClosedByClickOutsideVisibility",new xd.a(!1)),Ha(this,"playingState",new xd.a("idle",(e,t)=>"idle"===t?(rs.c.error({error:new is.a({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),Ha(this,"adPodCloseState",new xd.a(Ey,pr)),Ha(this,"adTuneState",new xd.a(tm,pr)),Ha(this,"combinedSkinControlsVisibility",new xd.a({},pr)),Ha(this,"adSystemType",new xd.a(void 0)),Ha(this,"socialAdvertising",new xd.a(!1)),Ha(this,"abuseDisplayStatus",new xd.a("hidden")),Ha(this,"pauseByOpenAbuseScreen",new xd.a(!1)),Ha(this,"adPodsCount",new xd.a(0)),Ha(this,"playingAdPodIndex",new xd.a(0)),Ha(this,"adPodCurrentSubtitles",new xd.a([])),Ha(this,"logAbuseOpenFirstTime",Object(cs.a)(()=>{rs.c.event({name:"AbuseScreenOpenFirstTime",data:{},probability:ts.b})})),Ha(this,"onAllAdPodComplete",new dl.a),Ha(this,"lastMediaRetained",new xd.a(void 0)),Ha(this,"measurersSlot",void 0),Ha(this,"skinContainer",void 0),Ha(this,"retainLastMediaAfterPlayback",!1),Ha(this,"renderSkin",void 0),Ha(this,"skinControlsHideReasons",new xd.a(Object(Ul.a)(Object(os.a)(bc,e=>[e,[]])))),Ha(this,"publicApiControlsSettings",new xd.a({controlsVisibility:{}})),Ha(this,"isNonLinearAdPlaying",new xd.a(!1)),Ha(this,"isCreativeWithOwnControls",new xd.a(!1)),Ha(this,"vastAdControlsSettings",new xd.a(void 0)),Ha(this,"shouldHandleResize",!0),Ha(this,"emitAdEnd",void 0),Ha(this,"viewersList",[]),Ha(this,"currentViewer",void 0),Ha(this,"nativeControlsHideStyle",void 0),Ha(this,"adType",void 0),Ha(this,"showAdCounter",0),Ha(this,"shouldBlurBeVisibleByApiLogic",new xd.a(!0)),Ha(this,"adPodBackground",new xd.a(void 0)),Ha(this,"adPodDestroyReasonObjects",[]),Ha(this,"destroyBlur",ns.a),Ha(this,"adVideoIsBuffering",new xd.a(!1)),Ha(this,"onAdInteractionWrapper",Ub(()=>{this.onAdInteraction.dispatch(void 0)},Lg)),Ha(this,"isFakeVideoElementWithoutVolumeChangeSupport",void 0),Ha(this,"prepareSkin",Object(cs.a)(()=>{const e=this.skinContainer;S(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none",fontSize:"16px",overflow:"hidden"});const t=ea(e);t||rs.c.event({name:"CouldNotCreateSkinShadowRoot",data:void 0});const{firstRenderPromise:i,runtimeErrorPromise:r,clear:n}=this.renderSkin(null!==t&&void 0!==t?t:e,this);i.catch(e=>{rs.c.error({error:new is.a(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)}),r.catch(e=>{rs.c.error({error:new is.a(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)}),this.addDestroyHandler(()=>{n(),Object(es.a)(e)})})),Ha(this,"backgroundSlot",void 0),Ha(this,"openAdSystemWebsite",()=>{const e=this.socialAdvertising.getValue(),t=e?xg:Yd("YANDEX_DIRECT_LINK",this.config.lang),i=!this.getPaused(),r=Date.now();if(rs.c.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause(),null===window.open(t,"_blank"))return;const n=_r(window.document,a=>{a&&(rs.c.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-r,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),n(),i&&this.resume())});this.addDestroyHandler(n)}),Ha(this,"clickThrough",(e,t)=>{this.currentViewer?(rs.c.event({name:"AdDisplayControllerClickThrough",data:{source:t,playbackParameters:this.config},probability:ts.a}),this.viewerClickThrough(this.currentViewer,e,t)):rs.c.error({error:new is.a({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{source:t,playbackParameters:this.config}})})}),Ha(this,"destroyCurrentViewer",()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen())}),Ha(this,"logAbuseEventToStats",e=>{rs.c.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:ts.b});const t=gb(e);rs.c.event({name:t,data:{},probability:ts.b})}),Ha(this,"abuseVariantChooseHandler",(e,t)=>{if(!this.currentViewer)return void rs.c.error({error:new is.a({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});const{reason:i,action:r}=$A[e];this.sendAdTuneTracking({actionId:r,reasonId:i,options:t}),this.logAbuseEventToStats(e),(null===t||void 0===t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()}),Ha(this,"onAbuseCopyLinkToClipboardClick",e=>{e?(rs.c.event({name:"AbuseScreenCopiedCountLink",data:{},probability:ts.b}),function(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(r){}document.body.removeChild(t)}(e)):rs.c.error({error:new is.a({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})}),Ha(this,"getSendBeaconParams",e=>{const t=null===e||void 0===e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})}),Ha(this,"abuseButtonClickHandler",()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),rs.c.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:ts.b}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:KA.open.action,reasonId:KA.open.reason})}),Ha(this,"abuseScreenCloseHandler",()=>{rs.c.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:ts.b}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:KA.close.action,reasonId:KA.close.reason})}),Ha(this,"handleAbuseScreenCloseByResumeError",()=>{rs.c.error({error:new is.a({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")}),Ha(this,"getCurrentViewerAssets",()=>{const e=this.currentViewer;if(!e)return void rs.c.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0,probability:ts.b});const{adParametersObject:t}=e.mediaAd.vastAd,i=t?hm(t):void 0,r=this.getAdPlacementOptions(e),{adFormatType:n}=r,a="survey"===n?n:void 0;if(!i)return rs.c.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0,probability:ts.b}),{logo:void 0,domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,adFormatType:a,sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0};const o=null===i||void 0===i?void 0:i.assets,s=null===o||void 0===o?void 0:o.button,{abuseUrl:d}=this.abuseParameters.getValue(),l={logo:null===o||void 0===o?void 0:o.logo,domain:null===i||void 0===i?void 0:i.domain,greenUrl:null===i||void 0===i?void 0:i.greenUrl,punyDomain:null===i||void 0===i?void 0:i.punyDomain,title:null===i||void 0===i?void 0:i.title,body:null===i||void 0===i?void 0:i.body,age:null===i||void 0===i?void 0:i.ageRestriction,buttonCaption:null===s||void 0===s?void 0:s.caption,lang:this.config.lang,targetUrl:null===i||void 0===i?void 0:i.targetUrl,socialAdvertising:this.socialAdvertising.getValue(),app:null===o||void 0===o?void 0:o.app,icon:null===o||void 0===o?void 0:o.icon,adFormatType:a,sendAdTuneTracking:d?e=>{rs.c.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0,probability:ts.b}),this.sendAdTuneTracking(e)}:void 0,clickThrough:e.isClickable()?()=>{rs.c.event({name:"GetCurrentViewerAssetsClickThrough",data:void 0,probability:ts.b}),this.viewerClickThrough(e,{},"PublicAssetsMethodCall")}:void 0,clickThroughButtonAsset:s?()=>{rs.c.event({name:"GetCurrentViewerAssetsClickThroughButtonAsset",data:void 0,probability:ts.b}),this.viewerClickThrough(e,{id:s.key,url:s.href},"PublicAssetsButtonAssetMethodCall")}:void 0};return rs.c.event({name:"GetCurrentViewerAssetsReturnAssets",data:l,probability:ts.b}),l}),Ha(this,"subscribeInteractionHandlers",()=>{if(!vA(this.slotParameters.element))return ns.a;const e=[],t=ar(this.videoNode);return Object(ds.a)(bg,i=>{e.push(Object(ss.a)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Object(ss.a)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))}),()=>r(e)}),Ha(this,"viewerClickThrough",(e,t,i)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)}),this.addDestroyHandler(e=>{this.onBeforeDestroy.dispatch(e)}),this.backgroundSlot=s,this.visibilitySlotParameters=d,this.measurersSlot=l,Zn(window)&&vg(),$n(window)&&mg(window);const c=void 0===i.volume||void 0===i.muted;c&&rs.c.error({error:new is.a({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:h,errors:p}=ua(t);this.config=h,this.adVolume=new xd.a(Va(i)),this.adHasBeenUnmuted=new xd.a(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=c;const A=new Cv(a),m=A.onResize;m.add(e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)}),m.add(()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()}),this.addDestroyHandler(()=>{A.destroy()}),this.slotParameters={element:a,size:m},this.slotDocument=this.slotParameters.element.ownerDocument,this.slotWindow=this.slotDocument.defaultView,this.skinContainer=this.slotDocument.createElement("div"),this.renderSkin=o,this.addDestroyHandler(Fg(a,()=>{this.destroy({reason:"error",details:new is.a({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})})),this.videoContentSize=new xd.a(void 0,pr);const v=new xd.a(Sy(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));if(this.addDestroyHandler(nr([this.playingState,this.visibilitySlotParameters.visibilityRatio],Sy,e=>v.dispatch(e))),this.addDestroyHandler(my({valueSignal:v,time:Iy,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotWindow})),this.onAdStart.addOne(()=>{this.addDestroyHandler(Pa(i,e=>{this.videoContentSize.dispatch(e)})),this.videoContentSize.dispatch(kr(i))}),this.adHasBeenUnmuted.addOne(e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()}),this.volumeStatus.addOne(()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)}),this.addDestroyHandler(()=>{A.destroy()}),ar(i)){const e=new Cv(i);this.addDestroyHandler(()=>e.destroy()),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotParameters.size;ae(p),this.videoNode=i,this.timeToSkip.add(e=>{this.adSkippableState.dispatch(0===e)});const f=this.adVolume.add(e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),f())});this.addDestroyHandler(nr([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],(e,t,i)=>(function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:r}=e;return i?0!==t?"unmuted":r?"muted":"mutedStart":"unknown"})({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i}),e=>this.volumeStatus.dispatch(e))),++Py===Cy&&rs.c.error({error:new is.a({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),rs.c.event({name:"CreateAdDisplayController",probability:ts.a,data:{config:this.config}}),this.desiredBitrate=t.desiredBitrate,this.videoNodeController=new Ay(i,this.slotWindow),this.onAdEnd.add(()=>this.setVisibleNativeControls(!0)),this.onReady.add(()=>this.setVisibleNativeControls(!1));const g=this.config.controlsSettings;this.addDestroyHandler(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:r,showGuiForVpaid:n,controlsSettingsFromConfig:a,slotSize:o,isNonLinearAdPlaying:s,skinControlsHideReasons:d,isCreativeWithOwnControls:l,vastAdControlsSettings:c,publicApiControlsSettings:u}=e,h={};return nr([r,o,s,d,l,c,u],(e,t,r,o,s,d,l)=>{let{width:c}=t;if(!("idle"!==e)||!(c>=_y)||s&&!n||r)return yc;const u={controlsVisibility:_(o,e=>!(e.length>0)&&void 0)};return Yi(d,a,l,u,i?{controlsVisibility:{mute:!1}}:void 0).controlsVisibility},oe(e=>{t(h=e)},e=>{for(const i of bc)if(e[i]!==h[i])return void t(h=e)}))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,showGuiForVpaid:this.config.showGuiForVpaid,controlsSettingsFromConfig:g,slotSize:this.slotParameters.size,isNonLinearAdPlaying:this.isNonLinearAdPlaying,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,publicApiControlsSettings:this.publicApiControlsSettings},e=>{this.combinedSkinControlsVisibility.dispatch(e)})),this.onAdPodPlayAdMedia.add(e=>{const{mediaAd:t}=e;this.isCreativeWithOwnControls.dispatch(t.isCreativeWithOwnControls()),this.adSystemType.dispatch(t.getIsYandexCreative()?"yandex":"external");const i=Ji(t.vastAd);this.vastAdControlsSettings.dispatch(i),this.actionButtonParameters.dispatch(function(e){if(!La(e))return;const t=vy(e);if(!Object(_s.a)(t))return;const{adParametersObject:i,parsedParameters:r}=t;if(!Object(_s.a)(i)||!Object(_s.a)(r))return;const n=Ui(i);if(!n)return;const{greenUrl:a,domain:o,punyDomain:s,hasTitle:d,title:l,hasBody:c,body:u,hasAgeRestriction:h,ageRestriction:p,hasGreenUrl:A}=r;return{greenUrl:a,domain:o,punyDomain:s,clickUrl:n,buttonPlacement:Ba(i),oldButtonStyle:Ma(i),label:Xi(i),title:d?l:void 0,body:c?u:void 0,ageRestriction:h?p:void 0,themeEmptyGreenUrl:A?a:void 0}}(t.vastAd)),(La(t.vastAd)||Tt(t.vastAd))&&this.disclaimerParameters.dispatch(function(e,t){const i=[],{parsedParameters:r}=vy(e)||{};return r&&(r.hasDrugDisclaimer&&i.push({text:Yd("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:yy}),r.hasDietarysupplDisclaimer&&i.push({text:Yd("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:by})),i}(t.vastAd,this.config.lang)),e.playbackPosition.subscribeValueConditionOnce(e=>{let{duration:t,remainingTime:i}=e;return!!u(t)&&(!!u(i)&&t-i>=1)},()=>{const t=new wm({win:window,duration:pb,callback:e=>{this.actionButtonAnimationProgress.dispatch(e)},onFinish:()=>{t.stop()}});t.start(),e.addDestroyHandler(()=>{t.stop()})}),e.packshotStartLatch.subscribe(()=>{this.isPackshotPlaying.dispatch(!0)})}),this.onAdMediaEnd.add(()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.vastAdControlsSettings.dispatch(void 0),this.actionButtonParameters.dispatch(void 0),this.disclaimerParameters.dispatch([]),this.actionButtonAnimationProgress.dispatch(0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1)}),this.onAdPodStartRequest.add(e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t;return!0===(null===(t=e.adParametersObject)||void 0===t?void 0:t.socialAdvertising)}(i));const{abuseUrl:r,adParametersObject:n}=i;if(!r)return;const{adParameters:a}=n||{},o=a?Gi(a).legalInfoText:void 0;this.abuseParameters.dispatch({abuseUrl:r,legalInfoText:o})}),this.onBeforeAdStart.addOne(()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(Object(as.a)("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout(()=>{const t=Date.now()-e;Object(as.a)("mark slow start, actual passed time=["+t+"]ms"),rs.c.event({name:"AdSlowStart",probability:ts.a,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)},Mg),this.onAdStart.addOne(()=>{i()}),this.addDestroyHandler(()=>{i()})}),this.onAdMediaStart.add(e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)}),this.onAdMediaEnd.add(()=>{this.adPodBackground.dispatch(void 0)}),this.addDestroyHandler(e=>{this.isFinished=!0,this.playingState.dispatch("end"),Object(ds.a)(this.viewersList,t=>{"unload"!==e.reason?t.destroy({reason:"destroy",details:void 0}):t.destroy({reason:"unload",details:void 0})}),this.viewersList.length=0,this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),v.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.adVolume.removeAll(),this.currentViewer&&(this.currentViewer.isCreativeStartRequested.getValue()&&(void 0===this.adType&&rs.c.error({error:new is.a({code:"EMPTY_AD_TYPE_WHILE_PLAYING",details:void 0})}),this.onAdMediaEnd.dispatch({adType:this.adType})),this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0),this.videoNodeController.destroy(),Object(es.a)(this.nativeControlsHideStyle)}),this.addDestroyHandler(nr([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],xa,e=>this.adPodCloseState.dispatch(e))),this.adPodCloseState.add(e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})}),this.onAdPodPlayAdMedia.add(e=>{this.adPodCurrentSubtitles.dispatch([]);const t=jg(e.mediaAd.vastAd);let i;if(t)try{i=new zb(t)}catch(r){rs.c.event({name:"SubtitleProviderInitializationError",data:{message:r.message},probability:ts.a})}XA||e.addDestroyHandler(nr([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],(e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i}),e=>{let{remainingTime:t,duration:r,isPackshotPlaying:n}=e;const a=Math.max(0,r-t);if(n)this.adPodCurrentSubtitles.dispatch([]);else if(i){const e=i.findCuesByCurrentTime(a);this.adPodCurrentSubtitles.dispatch(e)}}))}),this.prepareSkin(),this.addDestroyHandler(n(()=>{this.destroy({reason:"unload",details:void 0})},null!==$o.a&&void 0!==$o.a?$o.a:window)),this.addDestroyHandler(()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())}),this.addDestroyHandler(e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})}async prepareToPlayAd(e){this.config.autoplay=!1;const t=this.onReady.promise(),i=this.onAdEnd.promise();this.showAd(e),await Promise.race([t,i.then(()=>{throw new is.a({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})})])}showAd(e){var t;const i=Date.now(),r=ar(this.videoNode)?Ci(this.videoNode):void 0;if(!1===r){const e=this.slotParameters.element,t=vA(e)?Ci(e):void 0;return rs.c.error({error:new is.a({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:r,wrapperInDom:t}})}),Promise.resolve()}if(!e.length)return rs.c.error({error:new is.a({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.config}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&rs.c.event({name:"CallShowAdMultipleTimes",probability:ts.a,data:void 0});const{adBreak:n}=e[0],a=null!==(t=n.adType)&&void 0!==t?t:"preroll";return this.adType=a,this.isFinished=!1,new Promise((t,r)=>{this.slotParameters.element.appendChild(this.skinContainer),this.viewersList=Object(os.a)(e,e=>{e.vastAd.trackingEvents=z(e.vastAd.trackingEvents,this.config.trackingEvents);const t={adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:Zi({playbackParameters:this.config,vastAd:e.vastAd,adBreak:e.adBreak})},i="js"===e.contentType?new Vg(t):new av(t);return i.adVideoIsBuffering.add(e=>this.adVideoIsBuffering.dispatch(e)),i.onImpression.add(this.onAdPodImpression),i.onFirstQuartile.add(this.onAdPodFirstQuartile),i.onMidpoint.add(this.onAdPodMidpoint),i.onThirdQuartile.add(this.onAdPodThirdQuartile),i.onAdInteraction.add(this.onAdInteractionWrapper),i}),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.isNonLinearAdPlaying.dispatch(this.getIfIsNonLinear()),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:a}),this.onAdPodStart.addOne(()=>{rs.c.values({name:"AdStarted",probability:ts.a,data:{config:this.config},labels:{},values:{startTime:Date.now()-i}})}),this.startAdPlayback(a).then(()=>t()).catch(e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:a}),r(e)}),this.addDestroyHandler(this.subscribeInteractionHandlers())}).catch(e=>{rs.c.errorToStats(e)}).then(()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:a}),this.destroyBlur()})}getAdPlacementOptions(e){void 0===e&&(e=this.currentViewer);const{videoNode:t}=this;let i;e&&(i=e.mediaAd.getAdPodId());let r,n,a=0;if(e&&(a=e.getBufferingTime()),e&&(r=e.mediaAd.adBreak.adType),e){const t=e.mediaAd.getMediaFiles();t.length>0&&(n=function(e,t){let{type:i,url:r}=e,{vastAd:n}=t;if("js"!==bt({type:i}))return"video";if(!s(r))return"external";try{const{adFormatType:e}=xe(n.adParameters);return e}catch(a){return"external"}}(t[0],{vastAd:e.mediaAd.vastAd}))}return Vr({win:this.slotWindow,slotSize:this.slotParameters.size.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),adPodId:i,videoNode:t,bufferingTime:a,adBreakType:r,adFormatType:n})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var r;void 0===i&&(i=nA.NORMAL),null===(r=this.currentViewer)||void 0===r||r.resizeAd(e,t,i)}async play(e){void 0===e&&(e=!0);const{currentViewer:t,config:i}=this;return e&&(i.autoplay=!0),t?(t.play(e),new Promise((e,i)=>{t.addDestroyHandler(t=>{const r=$i(t);r?i(r):e()})})):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void rs.c.error({error:new is.a({code:"SKIP_NOT_PLAYING_AD_POD",details:{isFinished:this.isFinished}})});this.currentViewer.getAdSkippableState()?this.currentViewer.skipAd():rs.c.error({error:new is.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD_POD",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:r}=e;const{abuseUrl:n}=this.abuseParameters.getValue();n||rs.c.error({error:new is.a({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})}),br({eventName:"close",trackingEventDetails:void 0,trackingUrls:[Object(ps.b)(n,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(r),pixelsSource:"adParameters"})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdWidth())&&void 0!==e?e:Im}getAdHeight(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdHeight())&&void 0!==e?e:Cm}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!==(e=null===t||void 0===t?void 0:t.mediaAd.getDuration())&&void 0!==e?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return Object(ds.a)(this.viewersList,t=>{const i=t.getDuration();i>0&&(e+=i)}),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewersWithVideoCountBeforeCurrent(){let e=0;if(this.currentViewer)for(let t=0;t<this.viewersList.length;t++){const i=this.viewersList[t];if(i===this.currentViewer)break;i.mediaAd.getIsIndependentOnVideoElement()||e++}return e}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(Ty(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!Object(_s.a)(e)&&!1!==e&&void 0!==e){const t=new is.a({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw rs.c.error({error:t}),Object(wh.a)("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsSettings.getValue();let i;i=Object(_s.a)(e)?Ua({},t,{controlsVisibility:Ua({},t.controlsVisibility,e)}):Ua({},t,{visibility:e}),rs.c.event({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i},probability:ts.a}),Object(as.a)("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsSettings.dispatch(i)}areAllAdPodsCompleted(){return Fc(this.adPodDestroyReasonObjects,e=>{let{reason:t}=e;return"complete"===t})}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getAutoplay(){if(this.getViewersWithVideoCountBeforeCurrent()>0)return Object(as.a)("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbilitySignal.getValue().requireUserGesture)return Object(as.a)("autoplay=false due to requireUserGesture"),!1;const{autoplay:e}=this.config;if(void 0!==e)return Object(as.a)("autoplay=["+e+"] due to config"),e;const t=this.playingState.getValue();if("idle"!==t){const e="pause"!==t;return Object(as.a)("autoplay=["+e+"] due to playingStateValue"),e}return Object(as.a)("autoplay=true due to default"),!0}setVisibleNativeControls(e){this.getIfIsNonLinear()||(e?Object(es.a)(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=zn(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle)))}closeAbuseScreen(){this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==this.adType&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=ns.a;this.addDestroyHandler(()=>t()),this.addDestroyHandler(this.adPodBackground.add(i=>{Object(_s.a)(i)&&Object(Dl.a)(i.color)?t=Si(e,{backgroundColor:i.color}):t()}))}initBackground(e){let{backgroundSlot:t}=this.config;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!ar(e))return;const{parentElement:t}=e;if(t)return t;rs.c.error({error:new is.a({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void Object(as.a)("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!ms(e,e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background}))return;if(Object(as.a)("BackgroundBlur is presented in AdBreak"),!yb)return void Object(as.a)("BackgroundBlur is NOT supported");const r=new Mb({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{r.destroy()},rs.c.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:ts.a}),this.addDestroyHandler(nr([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],(e,t,r,n)=>{if(!e)return!1;if(void 0===r)return!1;if("blur"!==t)return!1;if(i)return!0;const a=n.width/n.height,o=r.width/r.height-a;return Math.abs(o)>xb},e=>{r.setPlaying(e)})),this.addDestroyHandler(()=>null===r||void 0===r?void 0:r.destroy())}playAdMedia(e,t){this.currentViewer=e,this.onAdPodStartRequest.dispatch(e),e.trackOnCreativeInit();let i=NaN;e.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{i=Date.now()}),this.adContentSize.dispatch(e.mediaAd.getAdContentDimensions()),e.isStarted.addOne(()=>{this.adContentSize.dispatch(e.getAdContentSize())}),e.addDestroyHandler(()=>{this.adContentSize.dispatch(void 0)}),e.isStarted.add(()=>{isNaN(i)?rs.c.error({error:new is.a({code:"AdPodStartWithoutPlayRequest",details:void 0})}):ts.d&&rs.c.values({name:"AdPodStart",values:{startTime:Date.now()-i},data:{src:e.getSrc(),config:this.config,playRequestTime:String(i),adPodId:e.mediaAd.getAdPodId(),position:e.mediaAd.vastAd.parseIndex,bidreqid:e.mediaAd.vastAd.bidreqid,campaignid:e.mediaAd.vastAd.campaignid,pageId:e.mediaAd.vastAd.pageId,impId:e.mediaAd.vastAd.impId,vmapRequestId:e.mediaAd.vastAd.vmapRequestId},labels:{}})}),this.onAdPodPlayAdMedia.dispatch(e);const r=e.playingState.getValue();"idle"!==r&&rs.c.error({error:new is.a({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:r}})}),e.playingState.subscribeValueCondition(e=>"end"!==e,t=>{this.currentViewer===e?this.playingState.dispatch(t):rs.c.error({error:new is.a({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:t}})})});const n=this.getAutoplay();n&&(this.config.autoplay=!0),e.addDestroyHandler(i=>{const r=$i(i);r&&(this.trackError(r),rs.c.error({error:r}),li("AdPod playing error",r),this.onAdPodError.dispatch({error:r,adPodId:e.mediaAd.getAdPodId()})),this.currentViewer=void 0,t(i)}),this.onAdPodComplete.add(()=>{e.isDestroyed||(e.destroy({reason:"destroy",details:void 0}),rs.c.error({error:new is.a({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:e.getSrc()}})}))}),e.play(n)}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this,i=ar(t);if(!this.getIfIsNonLinear()&&i){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),r={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},n=Gb(e),{parentElement:a}=e;return Object(cs.a)(()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),n(),T(e,r),ji(e,()=>{e.load()}),a&&a!==e.parentElement&&rs.c.error({error:new is.a({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})})}(t);this.onBeforeDestroy.addOne(t=>{let{reason:i}=t;"unload"!==i&&e()});const i=Oa(t);this.onBeforeDestroy.addOne(i);const r=function(e){if(!ar(e))return ns.a;const t=e.getAttribute("src")||e.src||null,i=Object(os.a)(Object(dd.a)(e.getElementsByTagName("source")),e=>({src:e.getAttribute("src"),type:e.getAttribute("type")}));return Object(cs.a)(()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Object(ds.a)(i,t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),Object(cc.a)(t,(e,t)=>{i.setAttribute(t,String(e))})}),ji(e,()=>{e.load()})})}(t);this.onBeforeDestroy.addOne(e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&r()}),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add(()=>{Gb(t)}))}let r;const n=Fc(this.viewersList,e=>e.mediaAd.getIsIndependentOnVideoElement()),{videoSlotCanAutoPlay:a}=this.config;this.videoNode;if(n?(Object(as.a)("autoplayAbility=positive for independentOnVideoElement ad"),r=WA):"boolean"===typeof a?(Object(as.a)("autoplayAbility=["+a+"] due to videoSlotCanAutoPlay"),r=a?WA:HA):i?(Object(as.a)("start autoplay ability request"),r=await this.requestAutoplayAbility(),Object(as.a)("autoplayAbility=["+JSON.stringify(r)+"]")):(Object(as.a)("autoplayAbility=positive for fake video element"),r=WA),this.isFinished)throw new is.a({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbilitySignal.dispatch(r),r.requireUserGesture&&this.onAdStartRejected.dispatch(void 0),r.requireMute&&this.videoNodeController.setMuted(!0);const o=Object(cs.a)(()=>{this.onReady.dispatch(void 0)}),s=Object(cs.a)(()=>{this.onAdStart.dispatch({adType:e})});return Object(ds.a)(this.viewersList,(t,i)=>{t.addDestroyHandler(t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)}),t.onReady.addOne(o),t.isStarted.addOne(s),t.isStarted.add(()=>{this.onAdPodStart.dispatch(void 0)}),t.onPause.add(()=>{this.onAdPodPause.dispatch(void 0)}),t.onResume.add(()=>{this.onAdPodResume.dispatch(void 0)}),t.onVolumeChange.add(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration())}),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:r,playingState:n,isStarted:a,isBuffering:o,callback:s}=e;const d=new Pm,l=new xd.a(-1);return d.subscribe(()=>l.removeAll),a.addOne(()=>{const e=new wm({win:t,duration:i.getValue()*Ih,callback:e=>{const t=wt(e,0,1);s(t)},onFinish:ns.a});l.add(t=>{ee(t)&&e.adjustPosition(t)}),d.subscribe(()=>{e.stop()}),d.subscribe(nr([r,i],(e,t)=>ee(e)&&u(t)?(t-e)/t:-1,e=>{l.dispatch(e)})),d.subscribe(nr([l,n,o],(e,t,i)=>ee(e)&&"play"===t&&!i,t=>{t?e.start():e.stop()}))}),()=>{d.dispatch(void 0)}}({win:this.slotWindow,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add(()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add(()=>{this.adMediaState.dispatch({name:"stalled"})})),t.addDestroyHandler(this.videoNodeController.playingState.add(e=>{e===YA.PLAY&&this.adMediaState.dispatch({name:"playing"})}))}),t.addDestroyHandler(()=>{this.adMediaState.dispatch({name:"idle"})}),t.addDestroyHandler(()=>{this.adPodRemainingTime.dispatch(dv),this.skinAnimationProgress.dispatch(0)}),t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)}),t.onClickThrough.add(e=>this.onClickThrough.dispatch(e));const{skipDelay:r}=t.adPodViewerPlaybackParams;(function(e){return!e.isVpaidAdPodViewer()||(!!e.adPodViewerPlaybackParams.showGuiForVpaid||(!!e.mediaAd.getIsYandexCreative()||!!ci(e.mediaAd.vastAd)))})(t)?t.isStarted.addOne(()=>{t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;const n=function(e){let{remainingTime:t,duration:i,skipDelay:r}=e;if(0===r)return bb;if(r>i-Hb)return bb;if(!ee(t))return bb;const n=i-t;return r<=n?0:r-n}({remainingTime:i,duration:t,skipDelay:r});this.timeToSkip.dispatch(n)})}):t.onAdSkippableStateChange.add(e=>{this.timeToSkip.dispatch(e?0:bb)})}),new Promise(t=>{this.playAdViewers(e,()=>{t([])})})}playAdViewers(e,t){this.adPodDestroyReasonObjects=[],this.onAdStartRequest.dispatch(void 0);const i=Object(os.a)(this.viewersList,(t,i)=>r=>{if(this.timeToSkip.dispatch(bb),this.isFinished){const e=new is.a({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),r()}const n=this.getAdPodContainerSizeError(t);if(n)return t.mediaAd.trackError(n),this.onAdPodError.dispatch({error:n,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:n}),Object(wh.a)('You are using unplayable "slot" sizes, check passed element dimensions.'),r();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Ki(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia(t,t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),r()})});let r=-1;!function e(){const n=i[++r];void 0!==n?n(e):t()}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters,r=t.getValue();if(Pr(r,vc))return;if(Pr(i.getBoundingClientRect(),vc))return;const n=0===r.width||0===r.height,a="none"===Ti(i).display;let o;return o=n?a?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",new is.a({code:o,details:{adPodId:e.mediaAd.getAdPodId(),slotSize:r,config:this.config,adConfig:e.mediaAd.adConfig,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}async requestAutoplayAbility(){const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const r=Mi(e),n=new GA(e,{checkSoundEnabled:i,promise:r});return{promise:n.promise,stop:n.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let r=!1;return new Promise(n=>{t.then(t=>{r=!0,rs.c.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},data:{config:this.config,autoplayAbility:t},labels:{},probability:ts.a}),n(t)}).catch(()=>{r=!0,this.isFinished||rs.c.error({error:new is.a({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:void 0})})}),"idle"===this.playingState.getValue()&&this.playingState.addOne(e=>{r||(Object(as.a)("RAA stopped by playingState=["+e+"]"),i(),n(WA))})})}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:"destroy",details:void 0});for(let r=this.getCurrentViewerIndex()+1;r<t.length;r++){t[r].trackVastEvent(e,void 0)}this.stop()}getIfIsNonLinear(){return Fc(this.viewersList,e=>e.isNonLinear())}startVolumeButtonProgress(){wy({win:this.slotWindow,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"DISABLE"!==qA&&"middle"===fa(this.slotParameters.size.getValue())}}class Dy extends Md.a{constructor(e){let{videoSlot:t,slot:i,mediaAds:r,playbackParameters:a,onPlayAd:o,renderSkin:s}=e;super(),za(this,"pauseAd",this.createPlaybackMethod("pauseAd",()=>{Object(as.a)("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),za(this,"resumeAd",this.createPlaybackMethod("resumeAd",()=>{Object(as.a)("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),za(this,"isPlayAdCalled",!1),za(this,"adDisplayController",void 0),za(this,"videoSlot",void 0),za(this,"slot",void 0),za(this,"mediaAds",void 0),za(this,"playbackParameters",void 0),za(this,"onPlayAd",void 0),za(this,"getPublicInstance",()=>({playAd:this.playAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,sendAdTuneTracking:this.sendAdTuneTracking,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility})),za(this,"getAdMediaState",()=>this.adDisplayController.adMediaState.getValue()),za(this,"getAdContentSize",()=>this.adDisplayController.adContentSize.getValue()),za(this,"setControlsVisibility",e=>this.adDisplayController.setPublicApiControlsSettings(e)),za(this,"getMediaElementStatusAfterAdStopped",()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}}),za(this,"playAd",()=>{if(Object(as.a)("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled){g(new is.a({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled=!0,this.onPlayAd(),this.adDisplayController.showAd(this.mediaAds).then(()=>{this.destroy("adComplete")}).catch(kd.a)}),za(this,"stopAd",()=>{Object(as.a)("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")}),za(this,"getAdPlayingState",()=>this.isPlayAdCalled?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle"),za(this,"getAdSkippableState",()=>this.adDisplayController.adSkippableState.getValue()),za(this,"getAdPodTimeToSkip",()=>!this.isPlayAdCalled||this.isDestroyed?bb:this.adDisplayController.timeToSkip.getValue()),za(this,"getAdPodCloseState",()=>this.adDisplayController.adPodCloseState.getValue()),za(this,"getAdPodAdTuneState",()=>this.adDisplayController.adTuneState.getValue()),za(this,"getAdVolume",()=>!this.isPlayAdCalled||this.isDestroyed?Ts:this.adDisplayController.getVolume()),za(this,"setAdVolume",e=>{this.isPlayAdCalled&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))}),za(this,"sendAdTuneTracking",e=>{let{actionId:t,reasonId:i}=e;rs.c.event({name:"SendAdTuneTracking",data:{actionId:t,reasonId:i},probability:ts.a}),this.adDisplayController.sendAdTuneTracking({actionId:t,reasonId:i})}),za(this,"getAdVolumeAvailabilityState",()=>!this.isPlayAdCalled||this.isDestroyed?Bg:this.adDisplayController.getAdVolumeAvailability()),za(this,"getAdRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdRemainingTime():this.getAdDuration()),za(this,"getAdPodRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration()),za(this,"getAdDuration",()=>this.isPlayAdCalled?this.adDisplayController.getDuration():Wa(this.mediaAds)),za(this,"getAdPodDuration",()=>{var e;if(this.isPlayAdCalled)return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds;return null!==(e=null===t||void 0===t?void 0:t.getDuration())&&void 0!==e?e:0}),za(this,"skipAd",()=>{this.getAdSkippableState()?this.adDisplayController.skipAllViewers():rs.c.error({error:new is.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",details:void 0})})}),za(this,"getCurrentViewerAssets",()=>this.adDisplayController.getCurrentViewerAssets()),za(this,"subscribe",(e,t)=>{if("function"!==typeof t)return ns.a;const i=i=>{try{t(i)}catch(r){rs.c.error({error:new is.a({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),Object(kd.a)(r)}},r=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(r);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(r);case"AdStartRequest":return this.adDisplayController.onAdStartRequest.add(r);case"AdStarted":return this.adDisplayController.onAdStart.add(r);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(r);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(r);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(r);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(r);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(r);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(r);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add(()=>{i({})});case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(r);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(r);case"AdClickThru":return this.adDisplayController.onClickThrough.add(r);case"AdPodError":return this.adDisplayController.onAdPodError.add(e=>{let t,{error:r,adPodId:n}=e;"string"===typeof r.code?t=r.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",rs.c.error({error:new is.a({code:t,details:{error:r,adPodId:n}})})),i({code:t,adPodId:n})});case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(r);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(r);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(r);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(r);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add(e=>{let{reason:t}=e;"unload"!==t&&r()});case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add(e=>{i({skippableState:e})});case"AdVolumeChange":return this.adDisplayController.adVolume.add(()=>{i({})});case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add(()=>{i({})});case"AdPlayingStateChange":return this.adDisplayController.playingState.add(e=>{i({playingState:e})});case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(r);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(r);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(r);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(r);default:return ns.a}}),this.videoSlot=t,this.slot=i,this.mediaAds=r,this.playbackParameters=a,this.onPlayAd=o;const d=new Cv(i);this.addDestroyHandler(()=>{d.destroy()});const l=new Uv(i,{numberOfMeasurementSteps:vv});this.addDestroyHandler(()=>{l.destroy(void 0)});const c={element:i,size:d.onResize,visibilityRatio:l.totalVisibilityRatioValueSignal};this.adDisplayController=new Ny({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,renderSkin:s,visibilitySlotParameters:c}),this.playbackParameters.retainLastMediaAfterPlayback&&this.adDisplayController.enableRetainLastMediaAfterPlayback(),this.addDestroyHandler(e=>{this.adDisplayController.destroy({reason:e,details:void 0})}),this.addDestroyHandler(n(()=>{this.destroy("unload")},null!==$o.a&&void 0!==$o.a?$o.a:window))}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled&&!this.isDestroyed)t();else{g(new is.a({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const Ry=Pn({isAbuseSupported:!1,abuseButtonClickHandler:ns.a,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:ns.a,abuseVariantChooseHandler:ns.a,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:ns.a,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:ns.a,abuseSubmittedOption:void 0,setAbuseSubmittedOption:ns.a,previousDisplayType:"default",setPreviousDisplayType:ns.a,destroyCurrentViewer:ns.a,abuseScaleRate:void 0,setAbuseScaleRate:ns.a,legalInfoText:void 0,onAbuseCopyLinkToClipboardClick:ns.a});Ry.Provider.displayName="AbuseContext";const ky=e=>{var t;let{adDisplayController:i}=e;const r=Wn(i.pauseByOpenAbuseScreen),n=Wn(i.abuseDisplayStatus),{abuseParameters:a,playingState:o}=i,{abuseUrl:s,legalInfoText:d}=Wn(a),[l,c]=In(""),[u,h]=In("default"),[p,A]=In(void 0),[m,v]=In("default"),[f,g]=In(void 0);Nn(()=>{const e=o.subscribeValueCondition(e=>"play"===e,()=>{"hidden"!==n&&i.handleAbuseScreenCloseByResumeError()});return()=>{e()}},[n]);const b=null===(t=Wn(i.actionButtonParameters))||void 0===t?void 0:t.clickUrl,y=b?()=>{i.onAbuseCopyLinkToClipboardClick(b)}:void 0;return{isAbuseSupported:Boolean(s),abuseButtonClickHandler:i.abuseButtonClickHandler,abuseDisplayStatus:n,abuseScreenCloseHandler:i.abuseScreenCloseHandler,abuseVariantChooseHandler:i.abuseVariantChooseHandler,pauseByOpenAbuseScreen:r,destroyCurrentViewer:i.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:y,abuseCustomReasonText:l,abuseCustomReasonTextHandler:c,abuseActiveDisplayType:u,setAbuseActiveDisplayType:h,abuseSubmittedOption:p,setAbuseSubmittedOption:A,previousDisplayType:m,setPreviousDisplayType:v,abuseScaleRate:f,setAbuseScaleRate:g,legalInfoText:d}},Vy=()=>jn(Ry),jy=Pn({});jy.Provider.displayName="ControlsVisibilityContext";const Ly=e=>{let{adDisplayController:t}=e;return Wn(t.combinedSkinControlsVisibility)},By=()=>jn(jy),My=Pn({socialAdvertising:!1});My.Provider.displayName="SocialAdvertisingContext";const xy=e=>{let{adDisplayController:t}=e;return{socialAdvertising:Wn(t.socialAdvertising)}},Fy=()=>jn(My);var Uy=i(53),Hy=i.n(Uy);const Wy=e=>{let{isActive:t}=e;return Yn(Hy.a),dn("svg",{className:Lf(Uy.locals.AbuseAnimationIcon,{[Uy.locals.AbuseAnimationIcon_cross]:t}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},dn("g",{className:Uy.locals.AbuseAnimationIcon__lines},dn("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:Lf(Uy.locals.AbuseAnimationIcon__line,Uy.locals.AbuseAnimationIcon__line_left)}),dn("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:Lf(Uy.locals.AbuseAnimationIcon__line,Uy.locals.AbuseAnimationIcon__line_right)})),dn("g",null,dn("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),dn("g",null,dn("circle",{class:Lf(Uy.locals.AbuseAnimationIcon__dot,Uy.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),dn("circle",{class:Uy.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),dn("circle",{class:Lf(Uy.locals.AbuseAnimationIcon__dot,Uy.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},zy=e=>{let{width:t,height:i}=e;return t<=300||i<=300};var Gy=i(154),Yy=i.n(Gy);const Xy=e=>{let{onClickHandler:t,isActive:i}=e;Yn(Yy.a);const r=zy(xf());return dn("div",{onClick:t,className:Lf(Gy.locals.AbuseBurgerButton,{[Gy.locals.AbuseBurgerButton_inFullSize]:r})},dn(Wy,{isActive:i}))};var qy=i(95),Ky=i.n(qy);const Qy=e=>{let{children:t,isActive:i=!0,url:r,onClick:n,className:a,buttonClassName:o,contentClassName:s}=e;Yn(Ky.a);const d=Lf(qy.locals.Button,a,{[qy.locals.Button_active]:i,[qy.locals.Button_link]:Boolean(r)}),l=dn("div",{className:qy.locals.Button__clickable},dn("div",{className:o},dn("div",{className:Lf(qy.locals.Button__content,s)},t)));return r?dn("a",{className:d,href:r,target:"_blank",onClick:n},l):dn("div",{className:d,onClick:n},l)};var Jy=i(96),Zy=i.n(Jy);const $y=e=>{let{icon:t,className:i}=e;return t?dn("div",{className:i},t):null},e_=e=>{let{buttonText:t,leftIcon:i,rightIcon:r,onClick:n,url:a}=e;Yn(Zy.a);const o=Vn(()=>{n&&n()},[n]);return dn(Qy,{className:Jy.locals.AbuseOptionButton,url:a,buttonClassName:Jy.locals.AbuseOptionButton__clickable,contentClassName:Jy.locals.AbuseOptionButton__content,onClick:o},dn($y,{icon:i,className:Jy.locals.AbuseOptionButton__leftIcon}),t,dn($y,{icon:r,className:Jy.locals.AbuseOptionButton__rightIcon}))};var t_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{d:"M1 1l3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const i_=e=>{let{className:t}=e;return dn(t_,{className:t})};var r_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{d:"M4 1h5v5M9 1L1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const n_=e=>{let{className:t}=e;return dn(r_,{className:t})},a_=e=>"anotherReasonAd"===e?dn(i_,null):"about"===e?dn(n_,null):void 0;var o_=i(37),s_=i.n(o_);const d_=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=qg();return dn("div",{className:o_.locals.AbuseDisplay__complaintDisplay},dn("div",{className:o_.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),Object(os.a)(Object(Bd.a)(t),e=>dn(e_,{key:e,onClick:i[e],rightIcon:a_(e),buttonText:t[e]})))};var l_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{d:"M9.117 7.349a2.5 2.5 0 000 3.535.833.833 0 11-1.179 1.179 4.167 4.167 0 010-5.893l2.946-2.946a4.167 4.167 0 115.893 5.892l-.91.911a.833.833 0 11-1.18-1.178l.911-.911a2.5 2.5 0 00-3.535-3.536L9.117 7.35zm1.767 5.302a2.5 2.5 0 000-3.535.833.833 0 111.178-1.179 4.167 4.167 0 010 5.892l-2.916 2.917a4.167 4.167 0 01-5.893-5.892l.855-.855a.833.833 0 111.178 1.179l-.854.854a2.5 2.5 0 003.535 3.536l2.917-2.917z",fill:"#498BFF"},[])])};const c_=e=>{let{className:t}=e;return dn(l_,{className:t})};var u_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.598 5l2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 01-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 01-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 011.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 012.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 01-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 01-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 01.417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 01-.416.399h-.62a.417.417 0 01-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])};const h_=e=>{let{className:t}=e;return dn(u_,{className:t})};var p_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{d:"M16.256 15.256a.833.833 0 000-1.179L2.923.744a.833.833 0 10-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 004.171-.9l1.906 1.906a.833.833 0 001.179 0zm-4.357-3.178A8.309 8.309 0 019 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0010.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])};const A_=e=>{let{className:t}=e;return dn(p_,{className:t})};var m_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5z",fill:"#498BFF"},[])])};const v_=e=>{let{className:t}=e;return dn(m_,{className:t})},f_=e=>{switch(e){case"hide":return dn(A_,null);case"complaint":return dn(h_,null);case"about":return dn(v_,null);default:return}},g_=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:r,isVisibleAbuse:n}=e;const{onAbuseCopyLinkToClipboardClick:a}=Vy(),o=qg(),[s,d]=In(!1);return Nn(()=>{n||d(!1)},[n]),dn("div",null,r&&dn("div",{className:o_.locals.AbuseDisplay__legal},r),Object(os.a)(Object(Bd.a)(t),e=>dn(e_,{key:e,url:"about"===e?"https://yandex.ru/adv/products":void 0,onClick:i[e],leftIcon:f_(e),rightIcon:a_(e),buttonText:t[e]})),a&&dn(e_,{key:"copy",onClick:()=>{a&&(a(),d(!0))},buttonText:o(s?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:dn(c_,null)}))},b_=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=qg();return dn("div",{className:o_.locals.AbuseDisplay__hideDisplay},dn("div",{className:o_.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),Object(os.a)(Object(Bd.a)(t),e=>dn(e_,{key:e,onClick:i[e],rightIcon:a_(e),buttonText:t[e]})))};var y_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 11-1.178 1.179L.744 5.589a.833.833 0 010-1.178l3.333-3.334a.833.833 0 111.179 1.179l-1.91 1.91z",fill:"#498BFF"},[])])};const __=e=>{let{className:t}=e;return dn(y_,{className:t})},O_=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:r,abuseCustomReasonTextHandler:n,setAbuseActiveDisplayType:a}=Vy(),o=qg(),s=Vn(()=>{a(t)},[t]);return dn("div",{className:o_.locals.AbuseDisplay__customReasonDisplay},dn("div",{className:o_.locals.AbuseDisplay__customReasonDisplayHeader},dn("div",{className:o_.locals.AbuseDisplay__arrowLeftIcon,onClick:s},dn(__,null)),dn("div",{className:o_.locals.AbuseDisplay__hint},o("ABUSE_OPTION_ANOTHER_REASON"))),dn("div",{className:o_.locals.AbuseDisplay__messageBox},dn("textarea",{className:o_.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:o("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&n(t)},value:r}),dn(Qy,{className:o_.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:o_.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:r})},o("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},E_=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;Yn(s_.a);const{abuseVariantChooseHandler:r,abuseActiveDisplayType:n,setAbuseActiveDisplayType:a,abuseSubmittedOption:o,setAbuseSubmittedOption:s,previousDisplayType:d,destroyCurrentViewer:l,setPreviousDisplayType:c,legalInfoText:u}=Vy(),[h,p]=In(null),A=xf(),m=zy(A),v={};Nn(()=>{!t&&o&&l()},[o,t]),Nn(()=>{if(m)return;const e=v.current;t&&e&&p(e.offsetHeight+"px")},[n,t,m]),Nn(()=>{m&&p(null)},[m]);const f=kn(()=>_($A,(e,t)=>()=>{if(c(n),"hide"===t){if(i)return void r(t);a("hide"),s(t),r(t,{noDestroyOnClick:!0})}else if("complaint"===t)a("complaint"),s(t),r(t,{noDestroyOnClick:!0});else if("anotherReasonAd"===t)a("message");else{const e="about"===t;s(void 0),r(t,{noDestroyOnClick:e})}}),[r,n,i]),g={height:null!==h&&void 0!==h?h:""},b=qg(),y=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),about:e("ABUSE_OPTION_ABOUT")}))(b),O=(e=>Object(qd.a)(Object(Bd.a)(QA),(t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t},{}))(b),E=((e,t)=>t?Object(qd.a)(Object(Bd.a)(ZA),(t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t},{}):Object(qd.a)(Object(Bd.a)(JA),(t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t},{}))(b,i);return dn("div",{className:Lf(o_.locals.AbuseDisplay,{[o_.locals.AbuseDisplay_fullSize]:m,[o_.locals.AbuseDisplay_visible]:t}),style:g},dn("div",{className:o_.locals.AbuseDisplay__content,ref:v},"default"===n?dn(g_,{isVisibleAbuse:t,legalInfoText:u,buttonTexts:y,onClickHandlers:f}):null,"hide"===n?dn(b_,{buttonTexts:O,onClickHandlers:f}):null,"complaint"===n?dn(d_,{buttonTexts:E,onClickHandlers:f}):null,"message"===n?dn(O_,{onClickHandler:r,previousDisplayType:d}):null))};var S_=i(163),T_=i.n(S_);const w_=e=>{let{isVisible:t}=e;Yn(T_.a);const{abuseScreenCloseHandler:i,abuseButtonClickHandler:r}=Vy(),{socialAdvertising:n}=Fy();return dn("div",{className:S_.locals.AbuseContainer},dn(Xy,{onClickHandler:()=>t?i():r(),isActive:t}),dn(E_,{isVisibleAbuse:t,socialAdvertising:n}))},P_=Pn(void 0);P_.Provider.displayName="AdAnimationUnmuteButtonContext";const C_=e=>{let{adDisplayController:t}=e;return Wn(t.volumeButtonCollapseProgress)},I_=()=>jn(P_),N_=Pn([]),D_=e=>Wn(e.disclaimerParameters),R_=Pn({playingState:"idle",play:ns.a,isStarted:!1,isSlowStart:!1});R_.Provider.displayName="PlayingStateContext";const k_=e=>{let{adDisplayController:t}=e;const[i,r]=In(!1),n=Wn(t.playingState),a=Wn(t.adSlowStart);return Nn(()=>{const e=t.onAdStart.addOne(()=>{r(!0)});return()=>{e()}},[]),{playingState:n,play:Vn(()=>{t.resume(),rs.c.event({name:"SkinPlayByCircleButton",data:{}})},[]),isStarted:i,isSlowStart:a}},V_=()=>jn(R_),j_=Pn({isPackshotPlaying:!1});j_.Provider.displayName="SkinPackshotContext";const L_=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:Wn(t)}},B_=()=>jn(j_),M_=Pn({timeToSkip:bb,skipCurrentAdPod:ns.a});M_.Provider.displayName="SkipContext";const x_=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:Wn(i),skipCurrentAdPod:Vn(()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():rs.c.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})},[])}},F_=()=>jn(M_),U_=Pn({volumeStatus:"unknown",setMuted:ns.a});U_.Provider.displayName="VolumeContext";const H_=e=>{let{adDisplayController:t}=e;return{volumeStatus:Wn(t.volumeStatus),setMuted:e=>t.setMuted(e)}},W_=()=>jn(U_);var z_=i(155),G_=i.n(z_);const Y_=e=>{let{text:t,textLength:i,viewBox:r}=e;return Yn(G_.a),dn("svg",{className:Lf(z_.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:r},dn("text",{className:z_.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var X_=i(164),q_=i.n(X_);const K_=((e,t,i,r)=>{const n=((e,t,i,r)=>{const n=(t-r)/(e-i),a=t-n*e;return e=>n*e+a})(e,t,i,r),a=((e,t)=>i=>Math.max(e,Math.min(i,t)))(t,r);return e=>{const t=n(e);return a(t)}})(100,5,600,330),Q_=e=>{let{text:t,heightPortion:i}=e;const r=xf();Yn(q_.a);const{textLength:n,viewBox:a,fontSize:o}=function(e,t){const{width:i,height:r}=e,n=r,a=Math.min(n,K_(i)),o=Math.max(i,t.length*a/1.2);return{fontSize:a,textLength:o,textPositionOffset:(n+a/2)/2,viewBox:"0 0 "+o+" "+n}}({width:r.width,height:r.height*i},t);return dn("div",{className:X_.locals.Disclaimer,style:{height:r.height*i,fontSize:o}},dn(Y_,{text:t,textLength:n,viewBox:a}))};var J_=i(127),Z_=i.n(J_);const $_=()=>{Yn(Z_.a);const e="small"===fa(xf()),{actionButtonParameters:t,clickThrough:i}=eb();if(!t)return null;const{themeEmptyGreenUrl:r,clickUrl:n}=t;if(!r)return null;return dn("div",{className:Lf(J_.locals.Domain_container,!e&&J_.locals.Domain_container__lifted)},r&&dn("span",{className:J_.locals.Domain_greenUrl,onClick:()=>i({url:n})},r))};var eO=i(165),tO=i.n(eO),iO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42zM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97zm11.248 2.6a7.666 7.666 0 00-2.053-5.2l-1.73 1.487a5.48 5.48 0 011.467 3.712 5.48 5.48 0 01-1.467 3.714l1.73 1.487a7.667 7.667 0 002.053-5.2z",fill:"#F2F2F2"},[])])};const rO=e=>{let{className:t}=e;return Yn(tO.a),dn(iO,{className:Lf(eO.locals.MuteIcon,t)})};var nO=i(97),aO=i.n(nO);const oO=e=>{let{isActive:t=!0,className:i,size:r}=e,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["isActive","className","size"]);Yn(aO.a);const a=Lf(nO.locals.SquareButton,i,{[nO.locals.SquareButton_active]:t,[nO.locals.SquareButton_middle]:"middle"===r});return dn(Qy,Ga({},n,{isActive:t,className:a,buttonClassName:nO.locals.SquareButton__basebutton,contentClassName:nO.locals.SquareButton__basecontent}))};var sO=i(166),dO=i.n(sO),lO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4L2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4zm12.907 8.412l2.002 1.686a7.556 7.556 0 00.346-2.258 7.666 7.666 0 00-2.054-5.2l-1.732 1.487a5.48 5.48 0 011.469 3.713c0 .192-.01.383-.031.572zm3.817 3.215l1.79 1.508A10.962 10.962 0 0023.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 01-.85 3.787zM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907z",fill:"#F2F2F2"},[])])};const cO=e=>{let{className:t}=e;return Yn(dO.a),dn(lO,{className:Lf(sO.locals.UnmuteIcon,t)})};var uO=i(54),hO=i.n(uO);const pO=e=>{let{isHidden:t=!1}=e;Yn(hO.a);const i=qg(),{volumeStatus:r,setMuted:n}=W_(),a=Wg.easeOut(I_()),o=1-a,s="unmuted"===r,d=Vn(()=>{n(!0)},[]),l=fa(xf()),c="middle"===l,u=Vn(()=>{n(!1)},[]),h=i("UNMUTE");return dn(oO,{className:Lf(uO.locals.VolumeButton,s?uO.locals.MuteButton:uO.locals.UnmuteButton,t&&uO.locals.MuteButton__hidden),onClick:s?d:u,size:l},dn("div",{className:uO.locals.VolumeButton__content},dn("div",{className:Lf(uO.locals.VolumeButton__iconContainer,{[uO.locals.VolumeButton__iconContainer_middle]:c})},dn(s?rO:cO,{className:uO.locals.VolumeButton__icon})),1!==a&&dn("div",{className:Lf(uO.locals.UnmuteButton__text,uO.locals.UnmuteButton__text_animation,{[uO.locals.UnmuteButton__text_middle]:c}),style:{maxWidth:140*o,transform:"scale("+o+")",opacity:o,marginRight:12*o}},h)))};var AO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 14L0 28V0l24 14zm10 14V0h-4v28h4z",fill:"#fff"},[])])};const mO=e=>{let{className:t}=e;return dn(AO,{className:t})},vO=e=>{let{timeToSkipString:t,iconClassName:i,digitsContainerClassName:r}=e;if(!t)return dn(mO,{className:i});const[n,a]=t;return dn("div",{className:r},dn("span",null,n),dn("span",null,a))};var fO=i(118),gO=i.n(fO);const bO=e=>{let{isActive:t,onClick:i,countdownString:r}=e;return Yn(gO.a),dn(oO,{className:Lf(fO.locals.SkipButtonSmall,{[fO.locals.SkipButtonSmall__disabled]:!t}),onClick:i,size:"small",isActive:t},dn("div",{class:fO.locals.SkipButtonSmall__content},dn(vO,{timeToSkipString:r,iconClassName:fO.locals.SkipButtonSmall__timeToSkipString__icon})))};var yO=i(84),_O=i.n(yO);const OO=e=>{let{isActive:t,onClick:i,skipText:r,countdownString:n}=e;return Yn(_O.a),dn(oO,{className:yO.locals.SkipButtonWithText,onClick:i,size:"middle",isActive:t},dn("div",{className:yO.locals.SkipButtonWithText__content},dn("div",{className:yO.locals.SkipButtonWithText__text},r),dn("div",{className:yO.locals.SkipButtonWithText__timeToSkipString},dn(vO,{timeToSkipString:n,iconClassName:yO.locals.SkipButtonWithText__icon,digitsContainerClassName:yO.locals.SkipButtonWithText__digitsContainer}))))};var EO=i(91);const SO=2,TO=()=>{const e=xf(),{skipCurrentAdPod:t,timeToSkip:i}=F_(),r=qg(),n=fa(e),a=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return Object(EO.a)(String(t),SO,"0")}(i),o=0===i;return"small"===n?dn(bO,{onClick:t,countdownString:a,isActive:o}):dn(OO,{onClick:t,skipText:r("SKIP"),countdownString:a,isActive:o})},wO=Pn(0);wO.Provider.displayName="AdAnimationProgressContext";const PO=e=>{let{skinAnimationProgress:t}=e;return Wn(t)},CO=()=>jn(wO),IO=Pn({adPodsCount:0,playingAdPodIndex:0});IO.Provider.displayName="MediaFileContext";const NO=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:Wn(t),playingAdPodIndex:Wn(i)}};var DO=i(167),RO=i.n(DO);const kO=()=>{Yn(RO.a);const{adPodsCount:e,playingAdPodIndex:t}=(()=>jn(IO))(),i=CO();return dn("div",{className:DO.locals.Timeline},Object(os.a)(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(e),r=>dn(ng,r<t?{key:r,adAnimationProgress:1,currentNumber:r,count:e,backgroundOpacity:.3}:r===t?{key:r,adAnimationProgress:i,currentNumber:r,count:e,backgroundOpacity:.3}:{key:r,adAnimationProgress:0,currentNumber:r,count:e,backgroundOpacity:.3})))},VO=Pn(Mm);VO.Provider.displayName="AdDurationContext";const jO=e=>{let{adDisplayController:t}=e;return Wn(t.adPodDuration)},LO=()=>jn(VO),BO=(e,t)=>{const{width:i,height:r}=e,{fontSize:n,lineHeight:a=n,noFontSizeLimit:o}=t,s=Math.min(r+i/20,Math.sqrt(i*i+r*r)/2);if(o)return{fontSize:n*s+"px",lineHeight:a*s+"px"};const d=Math.max(n*s,9);return{fontSize:d+"px",lineHeight:Math.max(a/n*d,9)+"px"}};var MO=i(128),xO=i.n(MO);const FO=e=>{const{children:t,style:i,onClick:r}=e;return Yn(xO.a),dn("button",{style:i,className:MO.locals.ArrowButton,onClick:r},dn("span",{className:MO.locals.ArrowButton__content},t&&dn("span",{className:MO.locals.ArrowButton__textContent},t),dn(tb,null)))},UO={body:{fontSize:.035,lineHeight:.05},title:{fontSize:.057,lineHeight:.07},buttonWithoutText:{fontSize:.157,lineHeight:.157},buttonWithText:{fontSize:.107,lineHeight:.107}},HO=Pn(void 0);HO.Provider.displayName="VideoContentSizeContext";const WO=e=>Wn(e),zO=()=>jn(HO),GO=Pn(ws);GO.Provider.displayName="VideoSlotSizeContext";const YO=e=>Wn(e),XO=()=>jn(GO);var qO=i(85),KO=i.n(qO);const QO=()=>{Yn(KO.a);const e=xf(),{actionButtonParameters:t,clickThrough:i}=eb();if(!t)return null;const{oldButtonStyle:r,buttonPlacement:n,label:a}=t,o=CO(),s=LO(),d=function(e,t,i){return{[i]:Aa({position:e,unit:"number",steps:[{duration:.06*t,values:[-500,0],easing:pa(.54,1.25,.54,1.26,.01)},{duration:.62*t,value:0},{duration:.02*t,values:[0,-1],easing:pa(.5,1,.5,60,.01)},{duration:.04*t,values:[-1,0],easing:pa(.5,100,.5,-100,.01)}]})+"%"}}(s*o,s,n.side),l=Vn(()=>i({}),[i]);return dn("div",{style:{padding:"0 5%"}},dn(FO,{style:Ya({position:"relative",pointerEvents:"auto"},BO(e,a?UO.buttonWithText:UO.buttonWithoutText),r,d),onClick:l},a))},JO=e=>{let{children:t}=e;const{actionButtonParameters:i}=eb();if(!i)return null;const{buttonPlacement:r}=i,{adjacentSize:n,innerSize:a,extraHorizontalSpace:o}=Ut({slotSize:xf(),videoContentSize:zO(),videoSlotSize:XO()}),s={height:o?a:n,width:o?n:a};return dn(Bf.Provider,{value:s},dn("div",{className:Lf({[qO.locals.OldActionButton__wrapper]:!0,[qO.locals.OldActionButton__bannerPosition_right_center]:"right-center"===r.position,[qO.locals.OldActionButton__bannerPosition_left_center]:"left-center"===r.position,[qO.locals.OldActionButton__bannerPosition_left_bottom]:"left-bottom"===r.position}),style:s},dn("div",{className:qO.locals.OldActionButton__body},dn("div",{className:qO.locals.OldActionButton__context}),t)))};var ZO=i(156),$O=i.n(ZO);const eE=(e,t,i)=>kn(()=>e?Object(os.a)((e=>{let{maxLines:t,maxLettersInLine:i,decrease:r=.8,text:n}=e;const a=[],o=n.split(/\s+/g),s=[],d=Math.floor(i*r);for(;o.length>0;){const e=o.shift();if("string"!==typeof e)continue;let t=0;const r=e.length>d?d:e.length;for(let i=0;i<r;i++){const r=e.charAt(i);r!==r.toLowerCase()&&t++}const n=Math.floor(i-(i-d)*t/d);if(e.length>n){let t,i,r=e.lastIndexOf("-");r===e.length-1&&(r=e.lastIndexOf("-",r-1)),r>-1?(i=e.slice(0,r+1),t=e.slice(r+1)):(i=e.slice(0,n),t=e.slice(n)),o.unshift(i,t)}else s.push(e)}const l=1/r;return Object(ds.a)(s,e=>{const t=a.pop()||[];let r=0;Object(ds.a)(t,e=>{r+=Xa(e,l)+1}),(r+=Xa(e,l))>=i?(a.push(t),a.push([e])):(t.push(e),a.push(t))}),Object(Xd.a)(a,e=>Boolean(e.length)).slice(0,t)})({maxLines:t,maxLettersInLine:i,text:e}),e=>e.join(" ")):[],[e,t,i]),tE=e=>{Yn($O.a);const{text:t="",maxLines:i,maxLettersInLine:r,getLineStyle:n,onClick:a,style:o={}}=e,s=eE(t,i,r);return dn("div",{className:ZO.locals.LinesWordsLetters,style:o},Object(os.a)(s,(e,t)=>dn(cn,null,dn("span",{style:null===n||void 0===n?void 0:n(t),onClick:a,className:ZO.locals.LinesWordsLetters_line,key:t},e),dn("br",null))))},iE=e=>"https://favicon.yandex.net/favicon/"+e+"?size=32";var rE=i(157),nE=i.n(rE);const aE=()=>{Yn(nE.a);const e=xf(),{clickThrough:t,actionButtonParameters:i}=eb();if(!i)return null;const{clickUrl:r,domain:n,punyDomain:a,greenUrl:o,label:s}=i,d=fa(xf());let l;Object(Dl.a)(a)?l=iE(a):Object(Dl.a)(n)&&(l=iE(n));const c=Vn(()=>{t({url:r})},[r]);let u=0;const h=Rs.a.getFlagValueAndActivateTestId("ACTION_PANEL_VERTICAL_SHIFT_IN_PERCENTS");return Object(Dl.a)(h)&&(u=e.height*(parseFloat(h)/100)),dn("div",{className:Lf(rE.locals.SkinActionButton,"middle"===d&&rE.locals.SkinActionButton__middle),style:{marginBottom:u}},dn(fb,{greenUrl:o,buttonLabel:s,onButtonClick:c,faviconSrc:l}))};var oE=i(86),sE=i.n(oE);const dE=()=>{Yn(sE.a);const e=CO(),t=LO(),i=t*e,{actionButtonParameters:r,shouldUseActionPanel:n,clickThrough:a}=eb(),{isPackshotPlaying:o}=B_(),s=By(),d=xf(),l=Math.min(d.width,d.height);if(!1===s.actionButton)return null;if(!r)return null;if(o)return null;if(!u(t))return null;if("TRUE"!==Rs.a.getFlagValueAndActivateTestId("ENABLE_SKIN_THEME_EMPTY"))return n?dn(aE,null):dn(JO,null,dn(QO,null));const c=n?pb/(t*Ih):0,{buttonPlacement:h,title:p,body:A,clickUrl:m}=r,v=e<.36+c?p:A;return dn("div",{className:Lf(oE.locals.CallToActionControls,d.width<cb&&oE.locals.CallToActionControls__small,n?oE.locals.CallToActionControls__leftBottom:Lf("right-center"===h.position&&oE.locals.CallToActionControls__rightCenter,"left-center"===h.position&&oE.locals.CallToActionControls__leftCenter,"left-bottom"===h.position&&oE.locals.CallToActionControls__leftBottom))},dn(tE,{text:v,maxLines:4,maxLettersInLine:44,onClick:()=>a({url:m}),getLineStyle:e=>(function(e,t,i,r,n){void 0===n&&(n=0);const a=.014*r,o=.012*r;return{[i]:Aa({position:e,unit:"number",steps:[{duration:t*(.05+a+n),value:-400},{duration:t*(.07-a),values:[-400,0],easing:"easeOutBack"},{duration:t*(.205+o),value:0},{duration:t*(.035-o),values:[0,400],easing:"easeIn"},{duration:t*(.049-a),values:[-400,0],easing:"easeOutBack"},{duration:t*(.444+o),value:0},{duration:t*(.035-o),values:[0,180],easing:"easeIn"}]})+"%"}})(i,t,h.oppositeSide,e,c),style:{fontSize:.05*l,minWidth:0}}),dn(n?aE:QO,null))},lE=Pn([]);lE.Provider.displayName="SubtitlesContext";const cE=e=>{let{adDisplayController:t}=e;return Wn(t.adPodCurrentSubtitles)};var uE=i(158),hE=i.n(uE);const pE=e=>{let{style:t={}}=e;Yn(hE.a);const i=(()=>jn(lE))();return i.length>0?dn("div",{className:uE.locals.Subtitles__container,style:t},Object(os.a)(i,e=>{let{text:t}=e;return dn("div",{className:uE.locals.Subtitles__subtitle},t)})):null};var AE=i(119),mE=i.n(AE);const vE=()=>{Yn(mE.a);const{timeToSkip:e}=F_(),{playingState:t}=V_(),i=By(),{volumeStatus:r}=W_(),{isPackshotPlaying:n}=B_(),a=I_(),o=xf(),s=(()=>jn(N_))(),d=fa(o),l="idle"!==t&&"unknown"!==r&&void 0!==a&&!1!==i.mute,c=e!==bb&&!1!==i.skip,u=!1!==i.timeline&&!n,h="small"===d,p=s.length>0&&!1!==i.disclaimers,{shouldUseActionPanel:A}=eb(),m="TRUE"===Rs.a.getFlagValueAndActivateTestId("ENABLE_SKIN_THEME_EMPTY")&&!A;return dn(cn,null,dn("div",{className:AE.locals.BottomControls__container},dn(dE,null),!h&&dn(pE,null),dn("div",{className:Lf(AE.locals.ButtonControls,p&&AE.locals.ButtonControls_OnDisclaimers)},dn(pO,{isHidden:!l}),h&&dn(pE,{style:{flex:1}}),c&&dn(TO,null)),m&&dn($_,null),p&&dn("div",{className:AE.locals.DisclaimerContainer},Object(os.a)(s,(e,t)=>{let{text:i,mandatoryHeightPortion:r}=e;return dn(Q_,{key:t,heightPortion:r,text:i})}))),u&&dn(kO,null))};var fE=i(168),gE=i.n(fE),bE=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])};Object(ys.a)({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const yE=e=>{let{className:t}=e;return Yn(gE.a),dn(bE,{className:Lf(fE.locals.SpinnerIcon__css_animated,t)})},_E=yE;var OE=i(169),EE=i.n(OE);const SE=e=>{let{className:t}=e;return Yn(EE.a),dn(_E,{className:Lf(OE.locals.Spinner,t)})};var TE=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30z",fill:"#000","fill-opacity":".65"},[]),dn("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const wE=e=>{let{className:t}=e;return dn(TE,{className:t})};var PE=i(98),CE=i.n(PE);const IE=e=>{let{onClick:t,size:i}=e;Yn(CE.a);const r=Lf(PE.locals.CirclePlayButton,{[PE.locals.CirclePlayButton_middle]:"middle"===i}),n=Lf(PE.locals.CirclePlayButton__icon,{[PE.locals.CirclePlayButton__icon_middle]:"middle"===i});return dn(Qy,{className:r,contentClassName:PE.locals.CirclePlayButton__basecontent,onClick:t},dn(wE,{className:n}))},NE=()=>{const e=fa(xf()),{play:t}=V_();return dn(IE,{size:e,onClick:t})};var DE=i(170),RE=i.n(DE);const kE=()=>{Yn(RE.a);const{playingState:e,isStarted:t,isSlowStart:i}=V_(),r=By(),n="pause"===e,a=n&&!1!==r.play,o=!a&&!n&&!t&&i&&!1!==r.loader;return dn("div",{className:DE.locals.CenterControls},a&&dn(NE,null),o&&dn(SE,null))},VE=Pn({adSystemType:void 0,openAdSystemWebsite:ns.a});VE.Provider.displayName="AdSystemContext";const jE=e=>{let{adDisplayController:t}=e;return{adSystemType:Wn(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}};var LE=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,dn("svg",Object.assign({height:"14",viewBox:"0 0 67 14",width:"67",xmlns:"http://www.w3.org/2000/svg"},t),[dn("path",{d:"M4.133.977h-.616c-.932 0-1.834.616-1.834 2.405 0 1.728.827 2.284 1.834 2.284h.616zm-.962 5.65l-1.834 4.119H0l2.014-4.404C1.067 5.862.436 4.99.436 3.382.436 1.127 1.863 0 3.562 0H5.29v10.746H4.133V6.628zM27.774 6.958c0-2.374.916-3.892 2.69-3.892.676 0 1.067.18 1.397.39l-.165 1.113c-.315-.27-.766-.526-1.247-.526-.842 0-1.443.947-1.443 2.855 0 1.894.45 2.976 1.398 2.976.57 0 1.007-.225 1.277-.466l.27.872c-.405.346-.886.57-1.577.57-1.623 0-2.6-1.307-2.6-3.892zm-3.427.015v3.773h-1.172V3.17h1.172v3.502l1.818-3.502h1.188l-1.879 3.562 2.15 4.013h-1.278zm-5.516-.706h1.94c0-1.292-.211-2.24-.888-2.24-.721 0-.977.887-1.052 2.24zm1.293 4.584c-1.563 0-2.525-1.247-2.525-3.577 0-2.435.676-4.208 2.284-4.208 1.263 0 2.09.947 2.09 3.517v.646h-3.157c0 1.713.481 2.615 1.413 2.615.661 0 1.187-.3 1.488-.51l.27.9c-.48.376-1.112.617-1.863.617zm-4.99-6.733h-1.307v.135c0 1.593-.075 3.923-.707 5.531h2.014zm1.759 8.116H15.84v-1.488h-3.247v1.488h-1.052v-2.45h.466c.691-1.608.767-3.953.767-5.967v-.646h3.516v6.613h.602zM10.866 3.17v7.575H9.709V7.349H7.965v3.397H6.793V3.17h1.172v3.216H9.71V3.171zM39.121.616h-2.33c-.045 2.72-.12 4.794-.24 6.343-.135 1.608-.376 2.675-.781 3.17h3.351zm.796 10.13H35.32l-.106 1.788h-.586V10.13h.316c.526-.436.782-1.639.932-3.171.15-1.594.195-3.968.24-6.959h3.758v10.13h.736v2.404h-.586zM45.223 5.47c0-.39.03-.72.06-1.036h-.045c-.105.33-.24.646-.406.976l-2.464 5.336h-.602V3.17h.662v5.26c0 .406-.03.737-.06 1.067h.044c.106-.345.256-.676.406-1.007l2.465-5.32h.616v7.575h-.676zM51.294 6.793c0-1.984-.54-3.156-1.412-3.156-.676 0-1.247.721-1.578 1.533v4.238c.3.616.721.917 1.398.917.961 0 1.593-1.142 1.593-3.532zm-2.99 3.427v2.87h-.707V3.171h.617l.06 1.248c.33-.722.886-1.398 1.728-1.398 1.263 0 1.999 1.518 1.999 3.712 0 2.78-.932 4.148-2.345 4.148a1.716 1.716 0 01-1.352-.661zM53.67 6.523h2.75c.12-2.014-.482-2.916-1.248-2.916-.797 0-1.443 1.022-1.503 2.916zm1.652 3.757c1.007 0 1.533-.812 1.533-.812l.226.571s-.571.857-1.774.857c-1.608 0-2.344-1.458-2.344-3.937 0-2.48.932-3.938 2.21-3.938 1.307 0 2.148 1.368 1.908 4.058h-3.427c.03 2.074.571 3.2 1.668 3.2zM59.125 10.746h-.707V3.17h.707v3.562l2.54-3.562h.691l-2.495 3.517 2.675 4.058h-.781l-2.63-3.923zM65.257 3.757v6.989h-.707V3.757h-1.758v-.586H67v.586z"},[])])},BE=i(99),ME=i.n(BE);const xE=e=>{let{size:t,shouldUseIcon:i,shouldShowLabel:r,ageRestriction:n,onClick:a}=e;Yn(ME.a);const o=qg();if(!r&&!Object(Dl.a)(n))return null;const s=i?dn(LE,{className:BE.locals.AdLabel_icon}):o("AD_TITLE");return dn("div",{className:Lf(BE.locals.AdLabel,{[BE.locals.AdLabel_middle]:"middle"===t,[BE.locals.AdLabel_withIcon]:i}),title:o("YANDEX_DIRECT"),onClick:a},r&&s,n?dn(cn,null,r&&dn("span",{className:BE.locals.AdLabel_delimiter},"|"),n):null)};var FE=i(171),UE=i.n(FE);const HE=e=>{let{onClick:t}=e;Yn(UE.a);const i=qg()("SOCIAL_ADVERTISING_AD_LABEL");return dn("a",{className:FE.locals.SocialAdvertisingAdLabel,onClick:t},i)},WE=()=>{const{playingState:e}=V_(),t=By(),i=fa(xf()),{adSystemType:r,openAdSystemWebsite:n}=(()=>jn(VE))(),{socialAdvertising:a}=Fy(),{actionButtonParameters:o}=eb(),{ageRestriction:s}=o||{};if(a)return dn(HE,{onClick:n});const d=void 0===r||"yandex"===r,l=!1!==t.adLabel&&"idle"!==e,c="yandex"===r,u="TRUE"===Rs.a.getFlagValueAndActivateTestId("ENABLE_SKIN_THEME_EMPTY");return dn(xE,{size:i,shouldUseIcon:c,shouldShowLabel:!d&&l,ageRestriction:u?s:void 0,onClick:n})};var zE=i(172),GE=i.n(zE);const YE=()=>(Yn(GE.a),dn("div",{className:zE.locals.TopControls},dn(WE,null))),XE=()=>{const{abuseDisplayStatus:e,isAbuseSupported:t}=Vy(),i="selection"===e,r=By(),n=Oy(r);return dn(cn,null,dn(YE,null),dn(vE,null),dn(kE,null),n&&t&&dn(w_,{isVisible:i}))},qE=Pn(uc.a);qE.Provider.displayName="ABFlagContext";const KE=()=>uc.a,QE=[e=>dn(Ff.Provider,{value:Uf(e.slotElement),children:e.children}),e=>dn(R_.Provider,{value:k_(e),children:e.children}),e=>dn(IO.Provider,{value:NO(e.adDisplayController),children:e.children}),e=>dn(wO.Provider,{value:PO(e.adDisplayController),children:e.children}),e=>dn(VO.Provider,{value:jO(e),children:e.children}),e=>dn(Bf.Provider,{value:Mf(e.adDisplayController.slotParameters.size),children:e.children}),e=>dn(GO.Provider,{value:YO(e.adDisplayController.videoSlotSize)},e.children),e=>dn(HO.Provider,{value:WO(e.adDisplayController.videoContentSize)},e.children),e=>dn(M_.Provider,{value:x_(e),children:e.children}),e=>dn(Yg.Provider,{value:Xg(e),children:e.children}),e=>dn(jy.Provider,{value:Ly(e),children:e.children}),e=>dn(U_.Provider,{value:H_(e),children:e.children}),e=>dn(P_.Provider,{value:C_(e),children:e.children}),e=>dn(qE.Provider,{value:KE(),children:e.children}),e=>dn(Ry.Provider,{value:ky(e),children:e.children}),e=>dn(VE.Provider,{value:jE(e),children:e.children}),e=>dn(My.Provider,{value:xy(e),children:e.children}),e=>dn(Zg.Provider,{value:$g(e.adDisplayController),children:e.children}),e=>dn(N_.Provider,{value:D_(e.adDisplayController),children:e.children}),e=>dn(j_.Provider,{value:L_(e.adDisplayController),children:e.children}),e=>dn(lE.Provider,{value:cE(e)},e.children)];const JE=(e=>(t,i)=>{const r=new dl.a,n=new dl.a,a=new dl.a,o=new Promise((e,t)=>{r.addOne(()=>{r.removeAll(),n.removeAll(),e()}),n.addOne(e=>{r.removeAll(),n.removeAll(),t(e)})}),s=new Promise((e,t)=>{a.addOne(()=>{t()})}),d=dn(kf,{onFirstRender:e=>{"success"===e.status?r.dispatch(void 0):n.dispatch(e.error)},onRuntimeError:()=>{a.dispatch(void 0)}},dn(jf,{components:QE,componentsProps:{id:"skin",adDisplayController:i,slotElement:t}},e()));return Object(as.a)("Skin: render skin"),wn(d,t),{firstRenderPromise:o,runtimeErrorPromise:s,clear:()=>{r.removeAll(),n.removeAll(),Object(as.a)("Skin: destroy skin"),wn(null,t)}}})(()=>dn(XE,null));var ZE=new WeakMap,$E=new WeakMap,eS=new WeakMap,tS=new WeakMap,iS=new WeakMap,rS=new WeakMap,nS=new WeakMap;class aS{constructor(e,t){var i=this;ZE.set(this,{writable:!0,value:void 0}),$E.set(this,{writable:!0,value:[]}),eS.set(this,{writable:!0,value:[]}),tS.set(this,{writable:!0,value:void 0}),iS.set(this,{writable:!0,value:void 0}),Ka(this,"createPlaybackController",(function(e,t,r){void 0===r&&(r={}),rs.c.event({name:"CreatePlaybackController",probability:ts.a,data:{config:r}});const n=qa(r,["autoplay"]),{config:a,errors:o}=ua(n);ae(o);const s="VideoBannerAd"===nd.c||"Test"===nd.c,d=r.renderSkin,l=new Dy({videoSlot:e,slot:t,mediaAds:Qa(i,tS),playbackParameters:a,onPlayAd:()=>Qa(i,rS).call(i,"PublicControllerPlayAd"),renderSkin:s&&d?d:JE}).getPublicInstance(),c=Object(Xd.a)(Qa(i,eS),e=>{let{event:t}=e;return"CreateAdPlaybackController"===t});return Object(ds.a)(c,e=>{let{handler:t}=e;return t({playbackController:l})}),l})),Ka(this,"showAd",(function(e,t,r){void 0===r&&(r={}),Qa(i,rS).call(i,"AdStoreShowAd");const n=i.createPlaybackController(e,t,r);Qa(i,$E).push(n);const a=new Promise(e=>{n.subscribe("AdStopped",()=>{Ja(i,$E,Object(Xd.a)(Qa(i,$E),e=>e!==n)),e()})});return n.playAd(),a})),Ka(this,"getAdDuration",()=>Wa(Qa(this,tS))),Ka(this,"separateAdPods",()=>Object(os.a)(Qa(this,tS),e=>{const t=new aS([e],Qa(this,iS));return Object(ds.a)(Qa(this,eS),e=>{let{event:i,handler:r}=e;t.subscribe(i,r)}),t})),Ka(this,"getAdSourceTypes",()=>Object(Xd.a)(Object(os.a)(Qa(this,tS),e=>{let{contentType:t}=e;return t}),(e,t,i)=>i.indexOf(e)===t)),Ka(this,"setStatsRootFields",e=>{rs.c.setRootFields(e)}),Ka(this,"hasNotReplacedBroadcastAd",()=>ms(Qa(this,tS),e=>e.isNotReplacedBroadcastAd())),Ka(this,"hasYandexCreative",()=>ms(Qa(this,tS),e=>e.getIsYandexCreative())),Ka(this,"getNonYandexVastXmlTree",()=>this.hasYandexCreative()?void 0:function e(t){const i=Object(os.a)(t.children,t=>e(t));return{xmlString:t.xmlString,children:i}}(Qa(this,iS))),Ka(this,"destroy",()=>{Object(ds.a)(Qa(this,$E),e=>{e.stopAd()}),Qa(this,$E).length=0,Qa(this,nS).call(this,"AdStoreDestroy"),Ja(this,ZE,void 0),Qa(this,eS).length=0}),Ka(this,"preload",e=>{let{preloadTimeout:t=lc}=e,i=qa(e,["preloadTimeout"]);if(Object(Ds.a)(Object(cl.a)(window)))return Promise.resolve();const r=Object(Qd.a)(t).promise.then(()=>Qa(this,nS).call(this,"Timeout"));if(void 0===Qa(this,ZE)){const e=Object(os.a)(Qa(this,tS),e=>e.preload(i));Ja(this,ZE,Promise.all(e).then(ns.a))}return Promise.race([Qa(this,ZE),r])}),Ka(this,"filterAdPodsIndependentOnHtmlControls",e=>{const[t,i]=V(Qa(this,tS),e=>e.getIfIsRequiredHtmlControls());Ja(this,tS,fi(i)),Object(ds.a)(t,t=>{t.trackError(new is.a({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))})}),Ka(this,"preventPlaying",(e,t)=>{Object(ds.a)(Qa(this,tS),i=>{i.trackError(new is.a({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))}),Ja(this,tS,[])}),Ka(this,"getAdPodsCount",()=>Qa(this,tS).length),Ka(this,"subscribe",(e,t)=>(Qa(this,eS).push({event:e,handler:t}),()=>{Ja(this,eS,Object(Xd.a)(Qa(this,eS),i=>{return!(i.event===e&&i.handler===t)}))})),rS.set(this,{writable:!0,value:e=>{Object(ds.a)(Qa(this,tS),t=>{t.isPreloaded()||t.cancelPreloading(e)})}}),nS.set(this,{writable:!0,value:e=>{Object(ds.a)(Qa(this,tS),t=>{t.cancelPreloading(e)})}}),Ja(this,tS,e),Ja(this,iS,t)}}class oS extends Md.a{constructor(e){let{adConfig:t,whenVmapLoaded:i,adBreak:r,adPlacementOptions:n}=e;if(super(),Za(this,"whenVmapLoaded",void 0),Za(this,"adBreak",void 0),Za(this,"vmap",void 0),Za(this,"adConfig",void 0),Za(this,"adPlacementOptions",void 0),Za(this,"getPublicInstance",()=>({loadAd:this.loadAd,destroy:()=>this.destroy()})),Za(this,"load",async e=>{await this.whenVmapLoaded;const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t}),Za(this,"loadAd",async()=>{try{await this.whenVmapLoaded;const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new is.a({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new aS(t,i)}catch(e){throw li(e),rs.c.errorToStats(e),e}}),Za(this,"getInPageBlock",()=>Ei(this.getAdBreaks(),"inpage")[0]),Za(this,"getPrerollBlock",()=>Ei(this.getAdBreaks(),"preroll")[0]),Za(this,"getDefaultAdBreakToPlayAd",()=>{const{impId:e}=this.adConfig;return e?function(e,t){return Object(Jh.a)(e,e=>e.impId===t)}(this.getAdBreaks(),e):Ei(this.getAdBreaks(),"preroll")[0]}),this.adConfig=t,this.whenVmapLoaded=i,this.adBreak=r,this.adPlacementOptions=n,Object(as.a)("AdLoader: create"),rs.c.event({name:"CreateAdLoader",probability:ts.a,data:{adConfig:t,adBreak:r}}),Yc({secureMode:t.secureMode,url:void 0})){const e=Zl();e.addUser(),this.addDestroyHandler(()=>{e.removeUser()}),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:Sg})}i.then(e=>{this.vmap=e}).catch(e=>{rs.c.errorToStats(e)})}getAdBreaks(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new is.a({code:"NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",details:void 0})}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:r}=this;return Oi({adConfig:i,adBreak:t,adPlacementOptions:r,win:window})}}const sS=e=>{return(new XMLSerializer).serializeToString(e)},dS={start:"preroll",end:"postroll"},lS=Object(Bd.a)({inpage:0,preroll:0,midroll:0,pauseroll:0,overlay:0,postroll:0,replaced:0,notReplaced:0,inroll:0,"inroll-overlay":0}),cS="linear,nonlinear",uS="linear",hS="nonlinear",pS=0,AS=0,mS=0,vS={dark:"dark",light:"light"},fS={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},gS=e=>{const t=io("Collapse",e);return!0===io("Repeat",e)?"auto":!1===t?"manual":null},bS=async e=>{let{url:t,vmapLoadParams:i,timeout:r}=e;const n=Date.now();let a;rs.c.event({name:"VmapLoadStart",data:i,probability:ts.a});try{const e=!Object(Ds.a)(Object(cl.a)(window)),i="boolean"===typeof tl?tl:e;a=await ne({url:t,data:null,timeout:r,withCredentials:i})}catch(d){const e=Vc({thrownError:d,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw rs.c.error({error:e}),e}const{responseStatus:o,responseText:s}=a;if(200!==o){const e=(e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0})(s);if(u(e))throw new is.a({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:uo({},i,{responseStatus:o,disabledPageId:e})});throw new is.a({code:"INVALID_VMAP_RESPONSE_STATUS",details:uo({},i,{responseStatus:o,responseText:a.responseText})})}try{const e=co(i.config),{vmap:t,events:r,errors:o}=so({vmapXmlObject:a,vmapLoadParams:i,vmapAdBreaksConfig:e});return ae(o),Object(ds.a)(r,e=>rs.c.event(uo({labels:void 0},e))),rs.c.values({name:"VmapLoadSuccess",data:uo({},i,{vmap:t}),probability:ts.a,labels:{},values:{adBreaksCount:t.adBreaks.length,timeSpent:Date.now()-n}}),t}catch(d){throw rs.c.errorToStats(d),d}},yS=3e3;var _S=i(120);const OS=()=>Object(_S.a)()/Ih,ES="adsdksessionwatchedtimesinceadmap",SS=0;class TS{constructor(){var e,t,i;i=void 0,(t="storage")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:r=OS}=e;if(!i)return;const n=ho(i);n[t]=r();try{i.setItem(ES,JSON.stringify(n))}catch(a){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:r=OS}=e;if(!i)return SS;const n=ho(i)[t];if(!u(n))return SS;const a=r();if(!u(a))return SS;const o=a-n;return u(o)?o:SS}({category:t,storage:this.storage})}}const wS="https://"+("TRUE"===pc("REQUEST_VMAP_FROM_YANDEX_RU")&&!ll.a.LOADER_LOADED_FROM_AN_YANDEX_RU?vs.b+"/an/vmap/":vs.a+"/vmap/"),PS=e=>{const{category:t,vmapScenarioId:i,hasPreroll:r}=e,n=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),a=Uh(e);let o;try{o=new TS}catch(d){}let s=SS;return"number"===typeof t&&o&&(s=o.getWatchedTimeSinceAd({category:t})),po({[lh.a]:uh},a,n,{"has-preroll":!1===r?String(r):void 0,"vmap-scenario-id":void 0===i?void 0:String(i),"wtime-since-ad":String(Math.floor(s)),client_type:"html"})};class CS{constructor(){vo(this,"adBreaks",[]),vo(this,"isSingleVideoSession",!1)}static async load(e,t){const i=mo(e),r=function(e){let{config:t,adPlacementOptions:i=Ps,win:r=window}=e;const{partnerId:n}=t;if(!n)throw new is.a({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const a=PS(t),o=v({url:Object(ps.b)(""+wS+n,a),ignoreAbd:!0,options:i,win:window}),s=Object(cl.a)(r);return"function"===typeof s?s(Object(ps.b)(o,{abd:"1"})):o}({config:i,adPlacementOptions:t,win:window}),{vmapLoadTimeout:n}=i;let a=yS;n&&(a=n);const o={url:r,config:e,timeout:a};return await bS({url:r,vmapLoadParams:o,timeout:a})}}const IS={impId:pS,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperTimeout:3e3,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},NS={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},DS=fo({adType:"preroll"},NS,IS),RS=e=>{if(!Object(_s.a)(e))return;const{preferableAdSize:t}=e;if(!Object(_s.a)(t))return;const{width:i,height:r}=t;return u(i)&&u(r)?{width:i,height:r}:void 0},kS=Object(Bd.a)(Hc),VS=e=>{if(!Object(_s.a)(e))return"Unsafe";const{secureMode:t}=e;return t&&-1!==kS.indexOf(t)?t:"Unsafe"},jS="0",LS=Eo({adType:"inpage",replayMode:null,stick:!1},NS,IS),BS={repeatAfter:mS,maxRepeatCount:AS,repeatNumber:0,timeOffset:10},MS=So({adType:"midroll",broadcastReplace:!1},NS,BS,IS),xS=To({adType:"overlay"},NS,BS,IS),FS=wo({adType:"postroll"},NS,IS),US={inpage:LS,preroll:DS,midroll:MS,postroll:FS,overlay:xS},HS=Object(Bd.a)(US),WS=async function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i="preroll"),void 0===r&&(r=Ps);const{adConfig:a,adBreak:o,warnings:s}=function(e,t,i){const{vastBase64:r,adBreakType:n}=e,a=Io(e,["vastBase64","adBreakType"]),o=[],s=_o(a),{config:{videoContentId:d},errors:l}=s,c=Io(s.config,["videoContentId"]);o.push(...l);const u=Co({},c,{videoContentId:Oo(d)});let h,p;if(r&&(u.vast=E(r)),Po(n)?p=n:t&&(o.push(new is.a({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),Po(i)&&(p=i)),p){const e=co(a);h=Co({},US[p],e)}return{adConfig:u,adBreak:h,warnings:o}}(e,t,i);ae(s);const{adFoxParameters:d}=a;if(d){const e=o||DS,t=new CS;return t.adBreaks=[e],new oS({adConfig:a,whenVmapLoaded:Promise.resolve(t),adBreak:e,adPlacementOptions:r})}if(o){const e=new CS;return e.adBreaks=[o],new oS({adConfig:a,whenVmapLoaded:Promise.resolve(e),adBreak:e.adBreaks[0],adPlacementOptions:r})}if(a.vmap){const e=(e=>{const t=L(e),{vmap:i,events:r,errors:n}=so({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return ae(n),Object(ds.a)(r,e=>rs.c.event(go({labels:void 0},e))),i})(a.vmap);return new oS({adConfig:a,whenVmapLoaded:Promise.resolve(e),adPlacementOptions:r})}const l=CS.load(a,r),c=new oS({adConfig:a,whenVmapLoaded:l,adPlacementOptions:r});return c.addDestroyHandler(n(()=>{c.destroy()},null!==$o.a&&void 0!==$o.a?$o.a:window)),l.catch(()=>{c.destroy()}),l.then(()=>c)},zS={width:16,height:9},GS=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),YS={width:"",height:"",marginLeft:"",marginTop:""},XS=(e,t,i,r,n,a)=>{const o=e?r:t,s=e?i:n;return{width:o,height:s,top:(a.height-s)/2,left:(a.width-o)/2}},qS=e=>{const{image:t,boundingRectangle:{width:i,height:r},scaleForHorizontal:n=1,scaleForVertical:a=1,pixelRatio:o,stretch:s}=e,d=t.width,l=t.height,c=d/l,u=c>i/r,h=c>1?n:a,p=h*(i<d||s?i:d),A=h*(r<l||s?r:l),m=d*(A/l),v=l*(p/d);return{width:u?p:m,height:u?v:A,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:XS(u,p,A,m,v,{width:i,height:r}),coeff:d*l/(i*r*o),isHorizontal:c>1,smartCenters:t.smartCenters}},KS=e=>{let{size:t,images:i}=e;const{width:r,height:n}=t,a=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],r=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),n=[];for(const a of i)if(a.width&&a.height&&a.url){const t=Ro({},e,{pixelRatio:r,image:a});n.push(qS(t))}n.sort((e,t)=>e.coeff-t.coeff);for(const a of n)if(a.coeff>1)return a;return null!==(t=n[n.length-1])&&void 0!==t?t:{}}({boundingRectangle:{width:r,height:n},images:Object(os.a)(i,e=>{let[t,i,r,n]=e;return{url:t,width:parseInt(i,10),height:parseInt(r,10),smartCenters:n?n["smart-centers"]:[]}}),stretch:!0});if(Boolean(a))return a.url},QS=400,JS=QS,ZS=40,$S="200%",eT=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}(),tT=((e,t)=>i=>{let r,n;const a=()=>{e(n),n=NaN},o=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return a(),n=t(e=>{n=NaN,r=i.call(this,e,...o)}),r};return o.cancel=a,o})(wb,Tb);class iT extends Md.a{constructor(e){super(),this.params=e,Mo(this,"overlapVisibility",new xd.a(!1)),Mo(this,"recalculateElementOverlap",tT(()=>{if(this.isDestroyed)return;const e=!Bo(this.params.element,this.params.points);this.overlapVisibility.dispatch(e)})),this.startObservingElementOverlap()}startObservingElementOverlap(){this.addDestroyHandler(ai(this.recalculateElementOverlap));const{promise:e,clear:t}=Object(Qd.a)(0);e.then(this.recalculateElementOverlap).catch(kd.a),this.addDestroyHandler(t)}}const rT=[0,0];class nT extends Md.a{constructor(e,t){super(),this.placeholderSlot=e,this.containerElement=t}waitTillContainerVisibleWithOffset(e){const t=this.containerElement.ownerDocument.defaultView.IntersectionObserver;let i=ns.a;const r=new Promise(r=>{const n=new t(e=>{let[{isIntersecting:t,intersectionRatio:n}]=e;(t||n>0)&&(i(),r())},{threshold:0,rootMargin:e+" 0px"});n.observe(this.containerElement),i=()=>{n.disconnect()}});return this.addDestroyHandler(i),r}whenCanShow(){const e=this.placeholderSlot,t=xv;if(Object(as.a)("whenCanShow: start logic with threshold=["+t+"]"),function(e,t){const i=e.ownerDocument;return Object($m.a)(i)&&Mr(e)>=t}(e,t))return Object(as.a)("whenCanShow: element is already visible"),Promise.resolve(void 0);if(Lo(e)&&ko(e))return Object(as.a)("whenCanShow: element is at the end of the <body>"),Promise.resolve(void 0);const i=[],n=()=>{Object(as.a)("whenCanShow: stop logic"),r(Object(os.a)(i,e=>()=>Object(Td.a)(e)))};let a=ns.a;if(Nd&&!function(e){return e.top!==e.self}(window)){Object(as.a)("whenCanShow: use intersection observer");const i=e.getBoundingClientRect().height*t;this.waitTillContainerVisibleWithOffset("-"+i+"px").then(()=>{Object(as.a)("whenCanShow: waitTillVisibleWithOffset complete with thresholdBoundary=["+i+"]"),a()}).catch(kd.a)}return i.push(ai(()=>{const i=Object($m.a)(document),r=Mr(e),o=i&&r>=t,s=Lo(e)&&ko(e);o||s?(Object(as.a)("whenCanShow: visibility detected by interval isVisible=["+o+"] isAtTheEndOfTheBody=["+s+"]"),a(),n()):Object(as.a)("whenCanShow: element visibility is NOT detected by interval documentVisibility=["+i+"}] elementVisibilityRatio=["+r+"] threshold=["+t+"]")})),this.addDestroyHandler(n),new Promise(e=>{a=e})}getVisualVisibilitySensor(){const e=new Uv(this.placeholderSlot,{considerDocumentVisibility:!1}),t=new xd.a(!1);e.totalVisibilityValueSignal.add(e=>t.dispatch(e));const i=new iT({element:this.placeholderSlot,points:[rT]}),r=new xd.a(e.totalVisibilityValueSignal.getValue()&&i.overlapVisibility.getValue());return nr([t,i.overlapVisibility],(e,t)=>e&&t,e=>r.dispatch(e)),this.addDestroyHandler(()=>{i.destroy(),e.destroy()}),r}waitForWarmingUpPosition(){return Nd?this.waitTillContainerVisibleWithOffset($S):Promise.resolve()}}const aT="_displayController_"+Math.floor(1e3*Math.random());class oT{constructor(e){var t;Fo(this,"onClickThrough",void 0),Fo(this,"onStartError",void 0),Fo(this,"onPlayStateChanged",void 0),Fo(this,"onAdSkippableStateChange",void 0),Fo(this,"onComplete",void 0),Fo(this,"onFulfilled",void 0),Fo(this,"onSlotVisible",void 0),Fo(this,"onBeforeAdStart",void 0),Fo(this,"onAdStartRejected",void 0),Fo(this,"onAdStart",void 0),Fo(this,"onAdEnd",void 0),Fo(this,"onAdMediaStart",void 0),Fo(this,"onAdMediaEnd",void 0),Fo(this,"onAdSkipped",void 0),Fo(this,"onAdImpression",void 0),Fo(this,"onAdContentSizeChange",void 0),Fo(this,"onAdRemainingTimeChange",void 0),Fo(this,"adStarted",!1),Fo(this,"paused",!0),t=e,this[aT]=t,xo(this).onBeforeAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onBeforeAdStart)try{this.onBeforeAdStart(t)}catch(i){console.error(i)}}),xo(this).onAdStartRejected.add(()=>{if("function"===typeof this.onAdStartRejected)try{this.onAdStartRejected()}catch(e){console.error(e)}}),xo(this).onAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdStart)try{this.onAdStart(t)}catch(i){console.error(i)}}),xo(this).onAdMediaStart.add(e=>{let{adType:t}=e;if(this.adStarted=!0,!this.paused&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(i){console.error(i)}if("function"===typeof this.onAdMediaStart)try{this.onAdMediaStart(t)}catch(i){console.error(i)}}),xo(this).onAdMediaEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onComplete)try{this.onComplete()}catch(i){console.error(i)}if("function"===typeof this.onAdMediaEnd)try{this.onAdMediaEnd(t)}catch(i){console.error(i)}if("function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(i){console.error(i)}}),xo(this).onAdEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdEnd)try{this.onAdEnd(t)}catch(i){console.error(i)}}),xo(this).onClickThrough.add(()=>{if("function"===typeof this.onClickThrough)try{this.onClickThrough()}catch(e){console.error(e)}}),xo(this).onAdSkipped.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(t)}catch(i){console.error(i)}}),xo(this).onAdPodClose.add(()=>{if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(void 0)}catch(e){console.error(e)}});const i=()=>{if(this.paused=!1,this.adStarted&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(e){console.error(e)}};xo(this).onAdPodResume.add(i),xo(this).onAdPodStart.add(i),xo(this).onAdPodPause.add(()=>{if(this.paused=!0,"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(e){console.error(e)}}),xo(this).adSkippableState.add(e=>{if("function"===typeof this.onAdSkippableStateChange)try{this.onAdSkippableStateChange(e)}catch(t){console.error(t)}}),xo(this).onAdPodImpression.add(()=>{if("function"===typeof this.onAdImpression)try{this.onAdImpression()}catch(e){console.error(e)}}),xo(this).adContentSize.add(()=>{if("function"===typeof this.onAdContentSizeChange)try{this.onAdContentSizeChange()}catch(e){console.error(e)}}),xo(this).adPodRemainingTime.add(()=>{if("function"===typeof this.onAdRemainingTimeChange)try{this.onAdRemainingTimeChange()}catch(e){console.error(e)}})}getCurrentContentType(){const e=xo(this);if(void 0!==e&&null!==e)return e.getCurrentContentType()}usesVideoNode(){const e=xo(this);if(void 0!==e&&null!==e)return e.usesVideoNode()}play(e){void 0===e&&(e=0===xo(this).getVolume());const t=async()=>{xo(this).setMuted(xo(this).autoplayAbilitySignal.getValue().requireMute||e);try{await xo(this).play()}catch(t){rs.c.error({error:new is.a(t,{code:"PUBLIC_CONTROLLER_PLAY_ERROR"})})}};void 0===xo(this).getCurrentContentType()?xo(this).onAdPodPlayAdMedia.addOne(t):t()}resume(){this.play()}pause(){xo(this).pause()}skip(){rs.c.event({name:"PublicControllerSkip",probability:ts.a,data:{}}),xo(this).skipAllViewers()}clickThrough(){xo(this).clickThrough({},"PublicControllerMethodCall")}getPaused(){return xo(this).getPaused()}getMuted(){return 0===xo(this).getVolume()}getVolume(){return xo(this).getVolume()}setVolume(e){xo(this).setVolume(e)}getDuration(){return xo(this).getDuration()}getAdWidth(){return xo(this).getAdWidth()}getAdHeight(){return xo(this).getAdHeight()}getCurrentTime(){return xo(this).getCurrentTime()}getAdSkippableState(){return xo(this).adSkippableState.getValue()}getAdContentSize(){return xo(this).adContentSize.getValue()}setStatsRootFields(e){rs.c.event({name:"UsingSetStatsRootFieldsInPublicController",probability:ts.a,data:void 0}),rs.c.setRootFields(e)}destroy(){xo(this).destroy({reason:"stopAd",details:void 0})}setControlsVisibility(e){xo(this).setPublicApiControlsSettings(e)}}class sT extends oT{constructor(e){super(e.displayController),this.params=e,Uo(this,"play",e=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.play(e))),Uo(this,"resume",()=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.resume())),Uo(this,"pause",()=>(this.params.pauseByPublicMethodSignal.dispatch(!0),super.pause()))}}let dT=!1;const lT={lock:()=>{dT=!0},unLock:()=>{dT=!1},isLocked:()=>dT},cT={stickTo:"auto",stickyColorScheme:"dark"},uT=e=>"bottom-right"===e||"top-right"===e||"bottom-left"===e||"top-left"===e;class hT extends Md.a{constructor(){super(),Ho(this,"initialState","Inline"),Ho(this,"currentState",this.initialState),Ho(this,"nextState",void 0),Ho(this,"transitionWays",{Inline:"Detached",Detached:"Sticky",Sticky:"Attached",Attached:"Inline"}),Ho(this,"onStateChange",[]),Ho(this,"subscribeForStateTransition",(e,t)=>this.subscribeForStateChange(i=>{if(e.previousState===i.previousState&&e.nextState===i.nextState)return t(i)})),this.addDestroyHandler(()=>{this.onStateChange.length=0})}getCurrentState(){return this.currentState}isWithinTransition(){return void 0!==this.nextState}getNextState(){return this.nextState}subscribeForStateChange(e){return this.onStateChange.push(e),()=>{this.onStateChange=Object(Xd.a)(this.onStateChange,t=>t!==e)}}isValidTransition(e){return e===this.transitionWays[this.currentState]}async setState(e){if(!this.isValidTransition(e))throw new ReferenceError("StickyFSA: invalid transition from ["+this.currentState+"] to ["+e+"]");const t=this.currentState;this.nextState=e;for(const i of this.onStateChange)await i({previousState:t,nextState:e});this.currentState=e,this.nextState=void 0}}var pT=i(124),AT=i.n(pT);const mT=Sv,vT=e=>{let{adWidth:t,adHeight:i,windowWidth:r,description:n,isAdaptiveCreative:a}=e;if(!n)return!1;if(a)return!0;const o=mT*(t/i);return!!u(o)&&o/r<.55},{locals:fT}=AT.a,gT=i(182);class bT extends Md.a{constructor(e){super(),this.params=e,Wo(this,"setDescription",ns.a),Wo(this,"description",""),Wo(this,"withDisabledAnimation",e=>{this.setAnimationEnabled(!1),e(),function(e){e.offsetLeft}(this.params.layout.stickyWrapperElement),this.setAnimationEnabled(!0)}),Wo(this,"waitForAnimationEnd",()=>{const e=Object(Qd.a)(QS),t=e=>e.target===this.params.layout.stickyWrapperElement&&("width"===e.propertyName||"transform"===e.propertyName);let i=ns.a;const r=new Promise(e=>i=Object(ss.a)({element:this.params.layout.stickyWrapperElement,eventName:"transitionend",listener:i=>{t(i)&&e()}})),n=()=>{e.clear(),i()};return this.addDestroyHandler(n),Promise.race([e.promise,r]).then(n)}),this.render(),this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper,!0),uT(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__variant__flyroll,!0):this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__variant__covering,!0)}updateAdditionalContentVisibility(){const e=this.params.adContentSize.getValue(),t=uT(this.params.stickyConfig.stickTo)||vT({adWidth:(null===e||void 0===e?void 0:e.width)||0,adHeight:(null===e||void 0===e?void 0:e.height)||0,windowWidth:this.params.win.innerWidth,description:this.description,isAdaptiveCreative:!e||void 0===e.width||void 0===e.height});this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__additionalContent_enabled,t)}setAnimatingStateClassName(e){this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__isAnimating,e)}handleClassNames(){let e=!1,t=!1;switch(this.params.stickyFSA.getNextState()||this.params.stickyFSA.getCurrentState()){case"Inline":e=!0,t=!1;break;case"Detached":e=!1,t=!1;break;case"Sticky":e=!1,t=!0;break;case"Attached":e=!0,t=!1;break;default:throw new Error("unhandled state, should never be executed")}this.setAttachStateClassNames(e),this.setStickyStateClassNames(t)}setAnimationEnabled(e){e?this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__unAnimated,!1):this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__unAnimated,!0)}render(){const e=this.params.layout.stickyWrapperElement,t=e.appendChild(this.renderAdditionalContent()),i=e.appendChild(this.renderCross());this.addDestroyHandler(()=>{Object(es.a)(t),Object(es.a)(i)})}renderAdditionalContent(){const e=document.createElement("div");if(this.toggleClassName(e,fT.yaInpageAdditionalContent,!0),uT(this.params.stickyConfig.stickTo)){const t=document.createElement("div");this.toggleClassName(t,fT.yaInpageAdditionalContent__adTitle,!0),t.innerHTML="\u0440\u0435\u043a\u043b\u0430\u043c\u0430",e.appendChild(t)}else{switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleClassName(e,fT.yaInpageAdditionalContent_dark,!0);break;default:Object(ns.a)()}e.appendChild(this.renderDescription()),e.appendChild(this.renderActionButton())}const t=document.createElement("div");return this.toggleClassName(t,fT.yaInpageAdditionalContentContainer,!0),t.appendChild(e),t}renderDescription(){var e=this;const t=document.createElement("div");return this.toggleClassName(t,fT.yaInpageAdditionalContent__description,!0),this.addDestroyHandler(Object(ss.a)({element:t,eventName:"click",listener:this.params.onActionClick})),this.setDescription=function(i){void 0===i&&(i=""),e.description=i,t.innerText=i,e.updateAdditionalContentVisibility()},t}renderActionButton(){const e=document.createElement("div");this.toggleClassName(e,fT.yaInpageAdditionalContent__buttonClickableArea,!0);const t=document.createElement("div");return this.toggleClassName(t,fT.yaInpageAdditionalContent__button,!0),t.appendChild(e),t.innerText="\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",this.addDestroyHandler(Object(ss.a)({element:t,eventName:"click",listener:this.params.onActionClick})),t}renderCross(){const e=document.createElement("div");return this.toggleClassName(e,fT.yaInpageCross,!0),e.innerHTML=gT,this.addDestroyHandler(Object(ss.a)({element:e,eventName:"click",listener:this.params.onCrossClick})),e}toggleClassName(e,t,i){const{classList:r}=e;return i?r.add(t):r.remove(t)}toggleStickyWrapperClassName(e,t){return this.toggleClassName(this.params.layout.stickyWrapperElement,e,t)}setStickyStateClassNames(e){if(this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__inline,!e),this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__sticky,e),uT(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__sticky__flyroll,e):this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__sticky__covering,e),!uT(this.params.stickyConfig.stickTo))switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__sticky__covering_color_scheme_dark,e);break;case"light":this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__sticky__covering_color_scheme_light,e);break;default:Object(ns.a)()}}setAttachStateClassNames(e){this.toggleStickyWrapperClassName(fT.yaInPageStickyWrapper__detached,!e)}}const yT=320,_T=e=>{let{direction:t,offsets:i,getInpageCurrentRect:r,getViewDimensions:n,getStickyDimensions:a,getPlaceholderDimensions:o}=e;const s=i.x*-t.x,d=i.y*-t.y,l=r(),c=l.left,u=l.top,h=n(),p={x:(-1===t.x?0:h.width-l.width)-c+s,y:(-1===t.y?0:h.height-l.height)-u+d},A=a(),m=o(),v={x:A.width/m.width,y:A.height/m.height};return{origin:(1===t.y?"bottom":0===t.y?"center":"top")+" "+(1===t.x?"right":0===t.y?"center":"left"),translation:p,scale:v}},OT={covering:{x:0,y:0},flyroll:{x:32,y:24}};class ET{constructor(e){var t,i,r;this.params=e,r={horizontal:"right",vertical:"bottom"},(i="intrinsicStickPosition")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.actualizeStickPosition(),"auto"===this.params.stickyConfig.stickTo&&this.params.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},()=>this.actualizeStickPosition())}getViewDimensions(){const{clientHeight:e,clientWidth:t}=this.params.win.document.documentElement;return{height:e,width:t}}getStickyDimensions(){const e=this.getViewDimensions().width;return uT(this.params.stickyConfig.stickTo)&&e>=1600?{width:360,height:202}:{width:yT,height:mT}}getPlaceholderDimensions(){const{width:e,height:t}=this.params.getPlaceholderDOMRect();return{width:e,height:t}}fromDOMDimensionsToCSSDimensions(e){return{width:e.width+"px",height:e.height+"px"}}getTransformStyles(){const{intrinsicStickPosition:e}=this,t=uT(this.params.stickyConfig.stickTo)?OT.flyroll:OT.covering,i={x:uT(this.params.stickyConfig.stickTo)?"right"===e.horizontal?1:-1:0,y:"bottom"===e.vertical?1:-1},{origin:r,scale:n,translation:a}=_T({direction:i,offsets:t,getInpageCurrentRect:()=>this.params.getStickyWrapperDOMRect(),getViewDimensions:()=>this.getViewDimensions(),getStickyDimensions:()=>this.getStickyDimensions(),getPlaceholderDimensions:()=>this.getPlaceholderDimensions()});return{transformOrigin:r,transform:"translate("+a.x+"px, "+a.y+"px) scale("+n.x+", "+n.y+")"}}getInlineStateRect(){const e="top"===this.intrinsicStickPosition.vertical?"0":"",t="bottom"===this.intrinsicStickPosition.vertical?"0":"",i="left"===this.intrinsicStickPosition.horizontal?"0":"";return zo({top:e,right:"right"===this.intrinsicStickPosition.horizontal?"0":"",bottom:t,left:i},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getDetachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getStickyWrapperDOMRect(),{width:a,height:o}=this.getViewDimensions(),s="bottom"===e.vertical?o-n+"px":"";return zo({top:"top"===e.vertical?r+"px":"",bottom:s,left:"left"===e.horizontal?t+"px":"",right:"right"===e.horizontal?a-i+"px":""},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getStickyStateRect(){const{intrinsicStickPosition:e}=this,t=uT(this.params.stickyConfig.stickTo)?OT.flyroll:OT.covering,i="top"===e.vertical?t.y+"px":"",r="bottom"===e.vertical?t.y+"px":"",n="left"===e.horizontal?t.x+"px":"",a="right"===e.horizontal?t.x+"px":"",o=this.getStickyDimensions();return{top:i,right:a,bottom:r,left:n,width:uT(this.params.stickyConfig.stickTo)?o.width+"px":"100%",height:o.height+"px"}}getAttachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getPlaceholderDOMRect(),{left:a,right:o,top:s,bottom:d,width:l,height:c}=this.params.getStickyWrapperDOMRect();return{top:"top"===e.vertical?s-r+"px":"",bottom:"bottom"===e.vertical?n-d+"px":"",left:"left"===e.horizontal?a-t+"px":"",right:"right"===e.horizontal?i-o+"px":"",width:l+"px",height:c+"px"}}actualizeStickPosition(){const{stickTo:e}=this.params.stickyConfig;if(this.intrinsicStickPosition={vertical:"top-right"===e||"top-left"===e||"top"===e?"top":"bottom",horizontal:"bottom-right"===e||"top-right"===e?"right":"left"},"auto"!==e)return;const t=this.params.getInlineContainerTopCornerPosition()<=0;this.intrinsicStickPosition.vertical=t?"top":"bottom"}}const ST=["position","left","top","bottom","width","height","background","display","zIndex","transform"];class TT{constructor(e){var t,i,r;this.elements=e,r=[],(i="storedStyles")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}save(){Object(ds.a)(this.elements,e=>{this.storedStyles.push(this.extract(e))})}restore(){Object(ds.a)(this.elements,(e,t)=>{No(e,this.storedStyles[t])}),this.storedStyles.length=0}extract(e){return Object(qd.a)(ST,(t,i)=>(t[i]=e.style[i],t),{})}}class wT extends Md.a{constructor(e){super(),this.params=e,Yo(this,"win",void 0),Yo(this,"stickyInpageLayout",void 0),Yo(this,"stickyFSA",void 0),Yo(this,"stickyPositioning",void 0),Yo(this,"stylesStore",void 0),Yo(this,"stickyConfig",void 0),Yo(this,"handleWindowResize",tT(()=>{this.stickyInpageLayout.updateAdditionalContentVisibility()})),Yo(this,"setDescription",e=>this.stickyInpageLayout.setDescription(e)),Yo(this,"handleFromInlineToDetachTransition",()=>{this.stylesStore.save(),this.stickyInpageLayout.updateAdditionalContentVisibility(),this.stickyInpageLayout.withDisabledAnimation(()=>{No(this.params.layout.stickyWrapperElement,Go({position:"fixed"},this.stickyPositioning.getDetachedStateRect()))}),uT(this.stickyConfig.stickTo)||No(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions())),this.stickyInpageLayout.handleClassNames()}),Yo(this,"handleFromDetachToStickyTransition",async()=>{uT(this.stickyConfig.stickTo)?No(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles()):(No(this.params.layout.stickyWrapperElement,this.stickyPositioning.getStickyStateRect()),No(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getStickyDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>{No(this.params.layout.stickyWrapperElement,Go({transform:"",transformOrigin:""},this.stickyPositioning.getStickyStateRect()))}),this.stickyInpageLayout.handleClassNames()}),Yo(this,"handleFromStickyToAttachTransition",async()=>{this.stickyInpageLayout.withDisabledAnimation(()=>{No(this.params.layout.stickyWrapperElement,Go({position:"absolute"},this.stickyPositioning.getAttachedStateRect()))}),this.stickyInpageLayout.handleClassNames()}),Yo(this,"handleFromAttachToInlineTransition",async()=>{this.stickyInpageLayout.handleClassNames(),uT(this.stickyConfig.stickTo)?(this.stickyInpageLayout.withDisabledAnimation(()=>{No(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect())}),this.stickyInpageLayout.withDisabledAnimation(()=>{No(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles())}),No(this.params.layout.stickyWrapperElement,{transform:""},!0)):(No(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect()),No(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>this.stylesStore.restore())}),this.win=this.params.layout.containerWindow,this.stickyFSA=new hT,this.addDestroyHandler(()=>this.stickyFSA.destroy()),this.stickyConfig=Go({},cT,y(this.params.stickyConfig)),this.stickyInpageLayout=new bT({stickyFSA:this.stickyFSA,layout:this.params.layout,win:this.win,stickyConfig:this.stickyConfig,adContentSize:this.params.adContentSize,onActionClick:this.params.onActionClick,onCrossClick:this.params.onCrossClick}),this.addDestroyHandler(()=>this.stickyInpageLayout.destroy()),this.stickyPositioning=new ET({stickyFSA:this.stickyFSA,getInlineContainerTopCornerPosition:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect().top,stickyConfig:this.stickyConfig,win:this.win,getPlaceholderDOMRect:()=>this.params.layout.placeholderElement.getBoundingClientRect(),getStickyWrapperDOMRect:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect()}),this.stylesStore=new TT([this.params.layout.stickyWrapperElement,this.params.layout.wrapperElement]),this.addDestroyHandler(Object(ss.a)({element:this.win,eventName:"resize",listener:this.handleWindowResize})),this.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},this.handleFromInlineToDetachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Detached",nextState:"Sticky"},this.handleFromDetachToStickyTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Sticky",nextState:"Attached"},this.handleFromStickyToAttachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Attached",nextState:"Inline"},this.handleFromAttachToInlineTransition)}async goSticky(){await this.stickyFSA.setState("Detached"),await this.stickyFSA.setState("Sticky")}async unSticky(){await this.stickyFSA.setState("Attached"),await this.stickyFSA.setState("Inline")}}const PT=(e,t)=>"replayMode"in e?e.replayMode:t.replayMode,CT=e=>{let{win:t,inPageConfig:i,adBreak:r}=e;return!zm(t)&&("boolean"===typeof i.stick?i.stick:r.stick)};class IT extends Md.a{constructor(e){var t;super(),this.params=e,Ko(this,"publicController",void 0),Ko(this,"displayController",void 0),Ko(this,"displayControllerOnAdEndPromise",void 0),Ko(this,"adLoader",void 0),Ko(this,"replayMode",null),Ko(this,"stickyInPageController",void 0),Ko(this,"stickyConfig",void 0),Ko(this,"pausedByContainerVisibility",!1),Ko(this,"pausedByDocumentVisibility",!1),Ko(this,"isSticky",new xd.a(!1)),Ko(this,"documentVisibility",new xd.a(!1)),Ko(this,"isContainerSizeFixed",void 0),Ko(this,"pauseByPublicMethodSignal",new xd.a(!1)),Ko(this,"placeholderVisibilitySlot",void 0),Ko(this,"placeholderVisibility",void 0),Ko(this,"showAds",async e=>{const{layout:t}=this.params,[i]=e.slice(-1),{vastAd:r}=i,{clickThrough:n}=r,a=function(e,t){const{adParametersObject:i}=e;if(!Object(_s.a)(i))return;const r=qi(i),n=null===r||void 0===r?void 0:r.packshotImageUrl;if(n)return n;if(!Object(_s.a)(i))return;const a=Wi(i.adParameters);return 0!==a.length?KS({size:t,images:a}):void 0}(r,this.params.layout.placeholderSize.getValue());a&&"manual"===this.replayMode&&(Object(as.a)("InPage: packshot image found for manual mode ["+a+"]"),this.displayController.onAdPodThirdQuartile.addOne(()=>{d(a)}));try{let i;if(this.displayControllerOnAdEndPromise||await this.initAdForPlaying(e),this.displayController.onAdMediaStart.addOne(e=>{let{viewer:t}=e;i=t}),this.displayController.autoplayAbilitySignal.getValue().requireUserGesture?(this.displayController.setSkinControlHideReason("play",!0,"INPAGE_RETAINS_CONTROL"),this.displayController.onAdMediaStart.add(()=>{(this.displayController.getViewersWithVideoCountBeforeCurrent()>0||!this.displayController.autoplayAbilitySignal.getValue().requireUserGesture)&&this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL")}),Object(as.a)("inPage: wait for media activation event to play ad"),this.displayController.setMuted(!1),rs.c.event({name:"InPageWaitingForUserGesture",probability:ts.a,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})):(Object(as.a)("inPage: start to play ad"),this.displayController.play(!0).catch(e=>{rs.c.error({error:new is.a(e,{code:"InPageOnReadyPlayError"})})}),rs.c.event({name:"InPageAutoplay",probability:ts.a,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})),await this.displayControllerOnAdEndPromise,this.displayControllerOnAdEndPromise=void 0,"auto"===this.replayMode)return;if("manual"===this.replayMode){const e=t.packshotContainer;t.setPackshotContainerVisibility(!0),t.setSlotVisibility(!1),Object(as.a)("inPage: ad played. show packshot");const{disableObjectFit:o,disableOverlay:s,disableButton:d}=this.params.adConfig.packshotSettings||{};let l;if(a?(No(e,{backgroundImage:"url("+a+")"}),rs.c.event({name:"InPagePackshotBackgroundImage",data:{vastAd:r}})):this.displayController.isLastAdPodRetainedMedia()?(t.videoSlot.muted=!0,t.videoSlot.loop=!0,o||(t.videoSlot.style.objectFit="cover"),this.displayController.videoNodeController.play(),rs.c.event({name:"InPagePackshotBackgroundLoopedVideo",data:{vastAd:r}})):rs.c.event({name:"InPagePackshotBackgroundEmpty",data:{vastAd:r}}),!d){const e=r.adParametersObject&&Xi(r.adParametersObject),t=Yd("LEARN_MORE",this.params.adConfig.lang);l=e||t}const c=new cg({container:e,containerSize:t.videoSlotContainerSize,win:t.containerWindow,disableOverlay:s,buttonText:l,descriptionText:r.description,duration:1/0,openClickThroughUrl:()=>{var e;null===(e=i)||void 0===e||e.clickThrough({url:n,id:void 0,playerHandles:void 0})},hasTimeline:!1});this.addDestroyHandler(e=>{let{reason:t}=e;"unload"!==t?c.destroy({reason:"stopAd",details:void 0}):c.destroy({reason:"unload",details:void 0})})}else Object(as.a)("inPage: finish playing ad"),this.isSticky.getValue()&&await this.turnOffStickyMode({animated:!0}),this.destroy({reason:"adComplete",details:void 0})}catch(o){this.destroy(o)}}),Ko(this,"handleDocumentVisibilityChange",e=>{this.displayController.getPaused()||e?e&&this.pausedByDocumentVisibility&&(Object(as.a)("inPage: resume by document visibility"),this.displayController.resume(),this.pausedByDocumentVisibility=!1,rs.c.event({name:"InPageDocumentVisibilityResume",probability:ts.a,data:{}})):(Object(as.a)("inPage: pause since document is hidden"),this.displayController.pause(),this.pausedByDocumentVisibility=!0,rs.c.event({name:"InPageDocumentVisibilityPause",probability:ts.a,data:{}}))}),Ko(this,"handleVisibilityChange",e=>{this.documentVisibility.getValue()&&(e?this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!1})?(Object(as.a)("inPage: go into inline since container is visible"),this.changeStickyState({willBeSticky:!1})):(!this.isSticky.getValue()&&this.pausedByContainerVisibility&&this.displayController.getPaused()||this.displayController.wasAbuseClosedByClickOutsideVisibility.getValue())&&(Object(as.a)("inPage: pause playback since container is visible"),this.pausedByContainerVisibility=!1,this.displayController.resume(),rs.c.event({name:"InPageElementVisibilityResume",probability:ts.a,data:{}})):this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!0})?(Object(as.a)("inPage: go into sticky since container is hidden"),this.changeStickyState({willBeSticky:!0})):this.isSticky.getValue()||this.pausedByContainerVisibility||this.displayController.getPaused()||(Object(as.a)("inPage: pause since container is hidden"),this.pausedByContainerVisibility=!0,this.displayController.pause(),rs.c.event({name:"InPageElementVisibilityPause",probability:ts.a,data:{}})))}),Ko(this,"onceWhenCanShowInpage",()=>{if("function"===typeof this.publicController.onSlotVisible)try{this.publicController.onSlotVisible()}catch(e){console.error(e)}}),Ko(this,"handleStickyInpageCrossClick",()=>{this.stickyInPageController&&(Object(as.a)("inPage: handle cross click"),rs.c.event({name:"InPageStickyCrossClick",probability:ts.a,data:{}}),this.turnOffStickyMode({animated:!0}),this.placeholderVisibility.getValue()||this.displayController.getPaused()||(this.pausedByContainerVisibility=!0,this.displayController.pause()))}),Ko(this,"makeStickAction",async e=>{try{this.displayController.disableResizeHandling(),await e(),this.displayController.enableResizeHandling()}catch(t){rs.c.error({error:new is.a(t,{code:"InPageOnStickError"})})}}),Ko(this,"handlePauseByMethodCall",e=>{e&&this.isSticky.getValue()&&(Object(as.a)("inPage: set to inline mode because of pause"),this.changeStickyState({willBeSticky:!1}))}),Object(as.a)("inPage: run constructor"),this.addDestroyHandler(e=>{Object(as.a)("inPage: destroy error=["+JSON.stringify(e)+"]")});const{layout:i,adConfig:r,initialContainerRect:n}=e,{containerElement:a,placeholderElement:o,placeholderSize:s,videoSlotContainerSize:l,wrapperElement:c}=i;this.isContainerSizeFixed=n.height>0,Object(as.a)("inPage: isContainerSizeFixed=["+this.isContainerSizeFixed+"] initialContainerRect=["+JSON.stringify(n)+"]"),this.isContainerSizeFixed?(No(o,{height:"100%"}),No(a,{height:"100%"})):(Object(as.a)("inPage: adjust to default ad size"),Xo({placeholderElement:o,placeholderWidth:s.getValue().width,adContentSize:zS})),this.placeholderVisibilitySlot=null!==(t=r.visibilitySlot)&&void 0!==t?t:o;const u=new Cv(c),h=new Uv(c,{numberOfMeasurementSteps:vv}),p=new Uv(this.placeholderVisibilitySlot,{numberOfMeasurementSteps:vv}),A=Do([this.isSticky,p.totalVisibilityRatioValueSignal,h.totalVisibilityRatioValueSignal],(e,t,i)=>e?i:t),m=Do([this.isSticky,s,u.onResize],(e,t,i)=>e?i:t);this.addDestroyHandler(()=>{u.destroy(),h.destroy(),p.destroy(void 0),A.teardown(),m.teardown()});const v={element:this.placeholderVisibilitySlot,size:m.valueSignal,visibilityRatio:A.valueSignal},f=new Ny({config:qo({},r,{backgroundBlur:!1}),videoNode:i.videoSlot,videoWrapperNode:i.slot,backgroundSlot:i.backgroundContainer,visibilitySlotParameters:v,renderSkin:JE,measurersSlot:r.visibilitySlot});this.displayController=f,this.subscribeDisplayControllerEvents(f);const g=new nT(this.placeholderVisibilitySlot,this.params.layout.containerElement);this.addDestroyHandler(()=>g.destroy()),this.placeholderVisibility=g.getVisualVisibilitySensor();const b=new xd.a(kr(i.videoSlot),pr);if(this.addDestroyHandler(Pa(i.videoSlot,e=>b.dispatch(e))),this.addDestroyHandler(()=>{b.removeAll()}),this.isContainerSizeFixed){const{allowedToHideVideoSlotAreaPortion:e}=r;e&&this.addDestroyHandler(nr([l,b],(t,i)=>Ht({slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:e}),e=>{const t=l.getValue(),r=b.getValue();Object(as.a)("InPage: compensate videoEars=["+JSON.stringify(e)+"] slotSize=["+JSON.stringify(t)+"] adContentSize=["+JSON.stringify(r)+"]");const n=function(e){let{slotSize:{width:t,height:i},videoEarsCompensation:{isVertical:r,multiplier:n}}=e;if(1===n||!t||!i)return;const a=r?t:i,o=r?i:t,s=o*n,d=-1*(o*(n-1))/2;return{width:r?a:s,height:r?s:a,marginLeft:r?0:d,marginTop:r?d:0}}({slotSize:t,videoEarsCompensation:e}),a=n?_(n,e=>e+"px"):YS;No(i.videoSlot,a)}))}else{const e=e=>{Xo({placeholderElement:o,placeholderWidth:s.getValue().width,adContentSize:e})};e(f.adContentSize.getValue()),this.addDestroyHandler(f.adContentSize.add(e))}this.displayController.abuseDisplayStatus.add(e=>{if("hidden"===e){this.displayController.pauseByOpenAbuseScreen.getValue()&&(this.placeholderVisibility.getValue()?this.displayController.resume():this.displayController.wasAbuseClosedByClickOutsideVisibility.dispatch(!0))}}),this.documentVisibility.add(this.handleDocumentVisibilityChange),this.documentVisibility.dispatch(Object($m.a)(i.containerDocument)),this.addDestroyHandler(_r(i.containerDocument,e=>this.documentVisibility.dispatch(e))),this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL"),this.pauseByPublicMethodSignal.add(this.handlePauseByMethodCall),this.addDestroyHandler(()=>{this.pauseByPublicMethodSignal.removeAll(),this.isSticky.removeAll()}),this.publicController=new sT({pauseByPublicMethodSignal:this.pauseByPublicMethodSignal,displayController:this.displayController});let{backgroundSlot:y}=r;y||(y=i.backgroundContainer);const O=new Mb({container:y,videoNode:i.videoSlot});rs.c.event({name:"InitBackgroundBlurInPage",data:{},probability:ts.a}),r.backgroundSlot?O.setPlaying(!0):this.addDestroyHandler(nr([b,l],(e,t)=>{if(void 0===e)return!1;const i=t.width/t.height,r=e.width/e.height-i;return Math.abs(r)>xb},e=>{O.setPlaying(e)})),this.addDestroyHandler(()=>{O.destroy()}),i.makeVisible(),Object(as.a)("inPage: call constructor callback"),this.processInPage(g).catch(e=>this.destroy({reason:"error",details:e}))}async processInPage(e){const{adConfig:t,layout:i}=this.params,r=e.whenCanShow();Object(as.a)("inPage: wait for loadVmap");const n=await this.loadVmap();this.replayMode=PT(t,n),"manual"===this.replayMode&&(this.displayController.enableRetainLastMediaAfterPlayback(),this.displayController.disableCreativePackshot()),CT({win:window,inPageConfig:t,adBreak:n})&&(Object(as.a)("inPage: initialize sticky"),this.stickyConfig=qo({stickTo:n.stickTo,stickyColorScheme:n.stickyColorScheme},y($a(t))),this.stickyInPageController=new wT({layout:i,stickyConfig:this.stickyConfig,adContentSize:this.displayController.adContentSize,onActionClick:()=>this.displayController.clickThrough({},"StickyInPageActionButton"),onCrossClick:this.handleStickyInpageCrossClick}),this.addDestroyHandler(()=>{this.turnOffStickyMode({animated:!1})})),Object(as.a)("inPage: wait for loadAd");const a=await this.loadAd(n);Nd&&(Object(as.a)("inPage: wait for warming up"),await Promise.race([e.waitForWarmingUpPosition(),r])),Object(as.a)("inPage: warm up ad"),await this.warmAdUp(a),Object(as.a)("inPage: wait till visible"),await r,Object(as.a)("inPage: visibility reached"),this.onceWhenCanShowInpage();let o=this.showAds(a);"auto"===this.replayMode&&this.displayController.onAdEnd.add(async()=>{if(!this.displayController.areAllAdPodsCompleted())return Object(as.a)("inPage: not all AdPods has been completed, stop auto replay"),void this.destroy({reason:"stopAd",details:void 0});Object(as.a)("inPage: all AdPods has been completed"),await o,this.isDestroyed||(Object(as.a)("inPage: play ad again"),rs.c.event({name:"InPageReplayAdAutomatically",probability:ts.a,data:{}}),o=this.showAds(a))})}subscribeDisplayControllerEvents(e){e.addDestroyHandler(e=>this.destroy(e)),e.onAdPodStart.addOne(async()=>{const{placeholderVisibility:e}=this;e.add(function(e,t,i,r){function n(){null!==a&&clearTimeout(a),a=null}3===arguments.length&&"boolean"!==typeof i&&(r=i,i=!1);let a=null;const o=function(){const o=arguments;r=r||this,i&&null===a&&e.apply(r,o),n(),a=window.setTimeout((function(){i||e.apply(r,o),a=null}),t)};return o.cancel=n,o}(e=>{Object(as.a)("handle visual state change ["+e+"]"),this.handleVisibilityChange(e)},JS));const t=e.getValue();Object(as.a)("handle AdPodStart with visualVisibilityValue=["+t+"] visibility=["+this.displayController.visibilitySlotParameters.visibilityRatio.getValue()+"]"),this.handleVisibilityChange(t)}),e.onAdStop.add(()=>{this.displayController.destroy({reason:"stopAd",details:void 0})}),e.onAdMediaStart.add(e=>{let{viewer:t}=e;this.stickyInPageController&&this.stickyInPageController.setDescription(t.mediaAd.vastAd.description)})}async loadVmap(){const{adConfig:e}=this.params,t=Boolean(e.partnerId&&void 0!==e.category);t&&rs.c.error({error:new is.a({code:"INPAGE_LOAD_VMAP",details:e})}),this.adLoader=await WS(qo({},e,{adBreakType:t?void 0:"inpage"}),void 0,void 0,this.displayController.getAdPlacementOptions()),this.addDestroyHandler(()=>{this.adLoader.destroy()});const i=this.adLoader.getInPageBlock();if(i)return i;throw new is.a({code:"NO_INPAGE_AD_BREAK_IN_VMAP",details:{config:e}})}async loadAd(e){const t=await this.adLoader.load(e);return t.length>1&&rs.c.event({name:"InPageHasMultipleMediaAds",probability:ts.a,data:{mediaAdsCount:t.length}}),t}async initAdForPlaying(e){this.displayControllerOnAdEndPromise=this.displayController.onAdEnd.promise().then(ns.a),await this.displayController.prepareToPlayAd(e)}async warmAdUp(e){const{layout:t}=this.params;rs.c.event({name:"InPageWarmUpStart",probability:ts.a,data:{relativeCoordinates:jr(t.videoSlot),verticalScroll:Object(Td.a)(()=>t.videoSlot.ownerDocument.scrollingElement.scrollTop)}}),await this.initAdForPlaying(e)}turnOffStickyMode(e){let{animated:t=!0}=e;const i=()=>{this.stickyInPageController&&(this.stickyInPageController.destroy(),this.stickyInPageController=void 0,this.stickyConfig=void 0)},r=this.changeStickyState({willBeSticky:!1,animated:t});return jd(r)?r.then(i):i()}canChangeStickyState(e){let{willBeSticky:t}=e;return!!this.stickyInPageController&&(this.isSticky.getValue()!==t&&((!t||!lT.isLocked())&&(!t||!this.displayController.getPaused())))}changeStickyState(e){let{willBeSticky:t,animated:i=!0}=e;const{stickyInPageController:r}=this;if(!r)return;const n=()=>{const e=this.stickyConfig.stickTo;rs.c.event({name:"InPageChangeStickyState",probability:ts.a,data:{willBeSticky:t,stickTo:e}});const n=!t;if(this.displayController.setSkinControlHideReason("timeline",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("abuse",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("adLabel",n,"INPAGE_STICKY_RETAINS_CONTROL"),Object(as.a)("inPage: change sticky state, willBeSticky=>"+t),t)return lT.lock(),this.isSticky.dispatch(!0),this.displayController.setBlurDisplay(!1),i?r.goSticky():void 0;{const e=()=>{this.displayController.setBlurDisplay(!0)};lT.unLock(),this.isSticky.dispatch(!1);const t=i?r.unSticky():void 0;return t?t.then(e).catch(kd.a):e(),t}};return i?this.makeStickAction(n):n()}}const NT=function(e){void 0===e&&(e=window);try{const t=e.document;return!!Boolean(t.body.attachShadow)&&Pi(function(e,t){try{if(Object(gs.a)(e.attachShadow))return e.attachShadow(t);if(Object(gs.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(gs.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(t.createElement("div"),{mode:"open"}))}catch(t){return!1}},{locals:DT}=AT.a,RT=e=>{const t=Qo(e);return t.setAttribute("x-webkit-airplay","allow"),t.autoplay=!1,t.volume=Og,t.muted=!0,t.preload="auto",t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.classList.add(DT.InPageLayout__videoSlot),function(e){e.setAttribute("playsinline","playsinline"),e.setAttribute("webkit-playsinline","webkit-playsinline")}(t),t};class kT extends Md.a{constructor(e){super(),this.containerElement=e,Jo(this,"containerWindow",void 0),Jo(this,"containerDocument",void 0),Jo(this,"placeholderElement",void 0),Jo(this,"placeholderSize",void 0),Jo(this,"videoSlotContainerSize",void 0),Jo(this,"wrapperElement",void 0),Jo(this,"stickyWrapperElement",void 0),Jo(this,"videoSlotContainer",void 0),Jo(this,"slot",void 0),Jo(this,"packshotContainer",void 0),Jo(this,"videoSlot",void 0),Jo(this,"backgroundContainer",void 0),this.containerWindow=Object(Td.a)(()=>e.ownerDocument.defaultView,e=>{rs.c.error({error:new is.a(e,{code:"CANNOT_GET_INPAGE_LAYOUT_PLACEHOLDER_ELEMENT_WINDOW",details:void 0})})})||window,this.containerDocument=this.containerWindow.document;const t=this.containerDocument.createElement("div");t.classList.add(DT.yaInPagePlaceholderElement),this.placeholderElement=t;const i=this.containerDocument.createElement("div");No(i,{width:"100%",height:"100%"}),this.stickyWrapperElement=i,this.placeholderElement.appendChild(this.stickyWrapperElement);const r=this.containerDocument.createElement("div");r.classList.add(DT.yaInPageWrapper),this.wrapperElement=r,this.stickyWrapperElement.appendChild(this.wrapperElement),this.backgroundContainer=document.createElement("div"),No(this.backgroundContainer,{position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",margin:"0px",padding:"0px",overflow:"hidden"}),this.wrapperElement.appendChild(this.backgroundContainer),this.videoSlotContainer=this.containerDocument.createElement("div"),this.videoSlotContainer.classList.add(DT.InPageLayout__videoSlotContainer),this.wrapperElement.appendChild(this.videoSlotContainer),this.slot=this.containerDocument.createElement("div"),this.slot.classList.add(DT.InPageLayout__slot),this.wrapperElement.appendChild(this.slot),this.packshotContainer=this.containerDocument.createElement("div"),this.packshotContainer.classList.add(DT.InPageLayout__packshotContainer),this.wrapperElement.appendChild(this.packshotContainer),this.videoSlot=RT(this.containerDocument),this.videoSlotContainer.appendChild(this.videoSlot),this.containerElement.appendChild(this.placeholderElement);const n=zn(this.containerElement,AT.a.toString());this.addDestroyHandler(()=>{Object(es.a)(n)});const a=new Cv(t);this.placeholderSize=a.onResize,this.addDestroyHandler(()=>a.destroy());const o=new Cv(this.videoSlotContainer);this.videoSlotContainerSize=o.onResize,this.addDestroyHandler(()=>o.destroy())}makeVisible(){No(this.placeholderElement,{visibility:"visible"})}setPackshotContainerVisibility(e){No(this.packshotContainer,{display:e?"block":"none"})}setSlotVisibility(e){No(this.slot,{display:e?"block":"none"})}}const VT=e=>{let{containerElementOrId:t,insertAfter:i,insertPosition:r,win:n=window}=e;const a=Object(Td.a)(()=>n.document.querySelectorAll(""+i)),o={insertAfter:null,insertInto:null,win:n};if(!a||0===a.length||!Object(Al.a)(i)||!i)return o.insertInto=function(e,t){return void 0===t&&(t=window),"string"===typeof e?t.document.getElementById(e):e}(t,n),o;const s=r||0;if(!c(parseInt(""+s,10))&&!/^\d+%$/.test(""+s)&&!/^\d+$/.test(""+s))throw new is.a({code:"INPAGE_CONTAINER_CONFIG_VALIDATION_ERROR",details:{containerElementOrId:String(t),insertPosition:r,insertAfter:i}});const d=a.length;if(0===d)return o;const l=a[((e,t)=>{let i=Object(Al.a)(e)?parseInt(e,10):e;if(Object(Al.a)(e)&&-1!==e.indexOf("%")){const e=i/100;i=Math.round(e*(t-1))}else u(i)&&(i-=1);return i=wt(i,0,t-1)})(s,d)];return o.insertAfter=l,o},jT=e=>{let{insertAfter:t,insertInto:i}=e;return null!==t&&void 0!==t?t:i},LT=Object(gs.a)(window.WeakSet)?new window.WeakSet:[],BT={place(e){const t=jT(e);return Object(ls.a)(LT)?LT.push(t):LT.add(t)},free(e){const t=jT(e);return Object(ls.a)(LT)?LT.splice(LT.indexOf(t),1):LT.delete(t)},isFree(e){const t=jT(e);return Object(ls.a)(LT)?-1===LT.indexOf(t):!1===LT.has(t)}},MT=(e,t)=>{Object(as.a)("inPage: normalizeInPageConfig");const i=(e=>{if(!Object(_s.a)(e))throw new is.a({code:"NO_AD_CONFIG_IN_INPAGE",details:void 0});const t=Yi(q(e),{controlsVisibility:{skip:!1}});let i=e.vastUrl;e.vastUrl&&o(e.vastUrl)&&(i=Object(ps.b)(e.vastUrl,{tags:"inpage"}));const{allowedToHideVideoSlotAreaPortion:r}=e;if(void 0!==r&&(!ee(r)||r>=1))throw new is.a({code:"INVALID_ALLOWED_TO_HIDE_VIDEO_SLOT_AREA_PORTION_PARAMETER",details:{value:r}});let n;if(vA(e.visibilitySlot))n=e.visibilitySlot,rs.c.event({name:"UsingVisibilitySlot",probability:ts.a,data:{config:e}});else if(void 0!==e.visibilitySlot)throw new is.a({code:"VISIBILITY_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}});return Zo({},e,{visibilitySlot:n,controlsSettings:t,vastUrl:i,backgroundBlur:!0,videoTimeout:1e4,vpaidTimeout:1e4,allowedToHideVideoSlotAreaPortion:null!==r&&void 0!==r?r:0})})(t),{insertPosition:r,insertAfter:n}=i;Object(as.a)("inPage: prepareGetOrCreateContainerElementParams");const a=VT({insertPosition:r,insertAfter:n,containerElementOrId:e});if(!(e=>Boolean(e.insertAfter||e.insertInto))(a))throw new is.a({code:"CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",details:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}});if(!BT.isFree(a))throw new is.a({code:"INPAGE_CONTAINER_USED_TWICE",details:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}});BT.place(a);const s=(e=>{let{insertAfter:t,insertInto:i,win:r=window}=e;if(void 0===t||null===t)return i;const n=r.document.createElement("div");return t.parentNode.insertBefore(n,t.nextSibling)})(a),d=s.getBoundingClientRect();if(0===d.width)throw new is.a({code:"INPAGE_CONTAINER_ZERO_WIDTH",details:{containerElementOrId:String(e),insertAfter:n,insertPosition:r,containerRect:d}});const l=s.ownerDocument.defaultView,c=ea(s);let u;NT(l)&&!c&&rs.c.error({error:new is.a({code:"INPAGE_CONTAINER_ELEMENT_NOT_SUPPORTS_SHADOW",details:{containerElementOrId:String(e),containerHTML:Object(Td.a)(()=>s.outerHTML)}})}),Object(as.a)("inPage: create InPageLayout"),c?u=c:(u=document.createElement("div"),s.appendChild(u));const h=new kT(u);return h.addDestroyHandler(()=>{BT.free(a)}),{layout:h,adConfig:i,initialContainerRect:d,containerElementByParams:s}};!function(e,t){dt({videoAd:{loadedModules:{[e]:t},modules:{[rd.a]:{[e]:t}}}},"ya")}("InPage",{addInPageVideo:(e,t,i)=>{Object(as.a)("inPage: add inpage video");const r="function"===typeof i?Object(hs.a)(i,"INPAGE_CALLBACK_ERROR"):ns.a;let a;try{a=MT(e,t)}catch(o){return Object(as.a)("inPage: prepareInPageParameters error=["+o+"]"),g(o),void r(o)}rs.c.event({name:"AddInPageVideo",probability:ts.a,data:{adConfig:t,containerElementOrId:String(e),containerRect:a.initialContainerRect}});try{const e=new IT(a);Object(as.a)("inPage: call public callback"),r(e.publicController),e.addDestroyHandler(e=>{Object(es.a)(a.containerElementByParams),a.layout.destroy(),"error"===e.reason&&e.details&&(g(e.details),r(e.details))}),e.addDestroyHandler(n(()=>{e.destroy({reason:"unload",details:void 0})},null!==$o.a&&void 0!==$o.a?$o.a:window))}catch(o){Object(as.a)("inPage: create InPage error=["+o+"]"),rs.c.error({error:new is.a(o,{code:"CREATE_INTERNAL_INPAGE_INSTANCE_ERROR",details:void 0})}),r(o)}}})}]);